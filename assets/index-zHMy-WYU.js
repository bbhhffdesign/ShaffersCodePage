(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Hh={exports:{}},Ql={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ry;function NT(){if(Ry)return Ql;Ry=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return Ql.Fragment=e,Ql.jsx=i,Ql.jsxs=i,Ql}var Cy;function OT(){return Cy||(Cy=1,Hh.exports=NT()),Hh.exports}var Ut=OT(),jh={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function xT(){if(Dy)return St;Dy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,J={};function K(V,W,nt){this.props=V,this.context=W,this.refs=J,this.updater=nt||B}K.prototype.isReactComponent={},K.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function it(){}it.prototype=K.prototype;function st(V,W,nt){this.props=V,this.context=W,this.refs=J,this.updater=nt||B}var rt=st.prototype=new it;rt.constructor=st,Y(rt,K.prototype),rt.isPureReactComponent=!0;var _t=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},At=Object.prototype.hasOwnProperty;function M(V,W,nt,$,dt,Rt){return nt=Rt.ref,{$$typeof:r,type:V,key:W,ref:nt!==void 0?nt:null,props:Rt}}function b(V,W){return M(V.type,W,void 0,void 0,void 0,V.props)}function w(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function N(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return W[nt]})}var O=/\/+/g;function L(V,W){return typeof V=="object"&&V!==null&&V.key!=null?N(""+V.key):W.toString(36)}function C(){}function _e(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function ae(V,W,nt,$,dt){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var vt=!1;if(V===null)vt=!0;else switch(Rt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(V.$$typeof){case r:case e:vt=!0;break;case E:return vt=V._init,ae(vt(V._payload),W,nt,$,dt)}}if(vt)return dt=dt(V),vt=$===""?"."+L(V,0):$,_t(dt)?(nt="",vt!=null&&(nt=vt.replace(O,"$&/")+"/"),ae(dt,W,nt,"",function(jn){return jn})):dt!=null&&(w(dt)&&(dt=b(dt,nt+(dt.key==null||V&&V.key===dt.key?"":(""+dt.key).replace(O,"$&/")+"/")+vt)),W.push(dt)),1;vt=0;var Ce=$===""?".":$+":";if(_t(V))for(var Wt=0;Wt<V.length;Wt++)$=V[Wt],Rt=Ce+L($,Wt),vt+=ae($,W,nt,Rt,dt);else if(Wt=D(V),typeof Wt=="function")for(V=Wt.call(V),Wt=0;!($=V.next()).done;)$=$.value,Rt=Ce+L($,Wt++),vt+=ae($,W,nt,Rt,dt);else if(Rt==="object"){if(typeof V.then=="function")return ae(_e(V),W,nt,$,dt);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return vt}function q(V,W,nt){if(V==null)return V;var $=[],dt=0;return ae(V,$,"","",function(Rt){return W.call(nt,Rt,dt++)}),$}function et(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function zt(){}return St.Children={map:q,forEach:function(V,W,nt){q(V,function(){W.apply(this,arguments)},nt)},count:function(V){var W=0;return q(V,function(){W++}),W},toArray:function(V){return q(V,function(W){return W})||[]},only:function(V){if(!w(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},St.Component=K,St.Fragment=i,St.Profiler=o,St.PureComponent=st,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,St.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ct.H.useMemoCache(V)}},St.cache=function(V){return function(){return V.apply(null,arguments)}},St.cloneElement=function(V,W,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var $=Y({},V.props),dt=V.key,Rt=void 0;if(W!=null)for(vt in W.ref!==void 0&&(Rt=void 0),W.key!==void 0&&(dt=""+W.key),W)!At.call(W,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&W.ref===void 0||($[vt]=W[vt]);var vt=arguments.length-2;if(vt===1)$.children=nt;else if(1<vt){for(var Ce=Array(vt),Wt=0;Wt<vt;Wt++)Ce[Wt]=arguments[Wt+2];$.children=Ce}return M(V.type,dt,void 0,void 0,Rt,$)},St.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},St.createElement=function(V,W,nt){var $,dt={},Rt=null;if(W!=null)for($ in W.key!==void 0&&(Rt=""+W.key),W)At.call(W,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(dt[$]=W[$]);var vt=arguments.length-2;if(vt===1)dt.children=nt;else if(1<vt){for(var Ce=Array(vt),Wt=0;Wt<vt;Wt++)Ce[Wt]=arguments[Wt+2];dt.children=Ce}if(V&&V.defaultProps)for($ in vt=V.defaultProps,vt)dt[$]===void 0&&(dt[$]=vt[$]);return M(V,Rt,void 0,void 0,null,dt)},St.createRef=function(){return{current:null}},St.forwardRef=function(V){return{$$typeof:g,render:V}},St.isValidElement=w,St.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:et}},St.memo=function(V,W){return{$$typeof:y,type:V,compare:W===void 0?null:W}},St.startTransition=function(V){var W=ct.T,nt={};ct.T=nt;try{var $=V(),dt=ct.S;dt!==null&&dt(nt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(zt,ft)}catch(Rt){ft(Rt)}finally{ct.T=W}},St.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},St.use=function(V){return ct.H.use(V)},St.useActionState=function(V,W,nt){return ct.H.useActionState(V,W,nt)},St.useCallback=function(V,W){return ct.H.useCallback(V,W)},St.useContext=function(V){return ct.H.useContext(V)},St.useDebugValue=function(){},St.useDeferredValue=function(V,W){return ct.H.useDeferredValue(V,W)},St.useEffect=function(V,W,nt){var $=ct.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(V,W)},St.useId=function(){return ct.H.useId()},St.useImperativeHandle=function(V,W,nt){return ct.H.useImperativeHandle(V,W,nt)},St.useInsertionEffect=function(V,W){return ct.H.useInsertionEffect(V,W)},St.useLayoutEffect=function(V,W){return ct.H.useLayoutEffect(V,W)},St.useMemo=function(V,W){return ct.H.useMemo(V,W)},St.useOptimistic=function(V,W){return ct.H.useOptimistic(V,W)},St.useReducer=function(V,W,nt){return ct.H.useReducer(V,W,nt)},St.useRef=function(V){return ct.H.useRef(V)},St.useState=function(V){return ct.H.useState(V)},St.useSyncExternalStore=function(V,W,nt){return ct.H.useSyncExternalStore(V,W,nt)},St.useTransition=function(){return ct.H.useTransition()},St.version="19.1.0",St}var Vy;function Md(){return Vy||(Vy=1,jh.exports=xT()),jh.exports}var Oe=Md(),qh={exports:{}},Xl={},Gh={exports:{}},Fh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function LT(){return Iy||(Iy=1,function(r){function e(q,et){var ft=q.length;q.push(et);t:for(;0<ft;){var zt=ft-1>>>1,V=q[zt];if(0<o(V,et))q[zt]=et,q[ft]=V,ft=zt;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var et=q[0],ft=q.pop();if(ft!==et){q[0]=ft;t:for(var zt=0,V=q.length,W=V>>>1;zt<W;){var nt=2*(zt+1)-1,$=q[nt],dt=nt+1,Rt=q[dt];if(0>o($,ft))dt<V&&0>o(Rt,$)?(q[zt]=Rt,q[dt]=ft,zt=dt):(q[zt]=$,q[nt]=ft,zt=nt);else if(dt<V&&0>o(Rt,ft))q[zt]=Rt,q[dt]=ft,zt=dt;else break t}}return et}function o(q,et){var ft=q.sortIndex-et.sortIndex;return ft!==0?ft:q.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],y=[],E=1,S=null,D=3,B=!1,Y=!1,J=!1,K=!1,it=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,rt=typeof setImmediate<"u"?setImmediate:null;function _t(q){for(var et=i(y);et!==null;){if(et.callback===null)s(y);else if(et.startTime<=q)s(y),et.sortIndex=et.expirationTime,e(p,et);else break;et=i(y)}}function ct(q){if(J=!1,_t(q),!Y)if(i(p)!==null)Y=!0,At||(At=!0,L());else{var et=i(y);et!==null&&ae(ct,et.startTime-q)}}var At=!1,M=-1,b=5,w=-1;function N(){return K?!0:!(r.unstable_now()-w<b)}function O(){if(K=!1,At){var q=r.unstable_now();w=q;var et=!0;try{t:{Y=!1,J&&(J=!1,st(M),M=-1),B=!0;var ft=D;try{e:{for(_t(q),S=i(p);S!==null&&!(S.expirationTime>q&&N());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,D=S.priorityLevel;var V=zt(S.expirationTime<=q);if(q=r.unstable_now(),typeof V=="function"){S.callback=V,_t(q),et=!0;break e}S===i(p)&&s(p),_t(q)}else s(p);S=i(p)}if(S!==null)et=!0;else{var W=i(y);W!==null&&ae(ct,W.startTime-q),et=!1}}break t}finally{S=null,D=ft,B=!1}et=void 0}}finally{et?L():At=!1}}}var L;if(typeof rt=="function")L=function(){rt(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,_e=C.port2;C.port1.onmessage=O,L=function(){_e.postMessage(null)}}else L=function(){it(O,0)};function ae(q,et){M=it(function(){q(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(q){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ft=D;D=et;try{return q()}finally{D=ft}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(q,et){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ft=D;D=q;try{return et()}finally{D=ft}},r.unstable_scheduleCallback=function(q,et,ft){var zt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,q={id:E++,callback:et,priorityLevel:q,startTime:ft,expirationTime:V,sortIndex:-1},ft>zt?(q.sortIndex=ft,e(y,q),i(p)===null&&q===i(y)&&(J?(st(M),M=-1):J=!0,ae(ct,ft-zt))):(q.sortIndex=V,e(p,q),Y||B||(Y=!0,At||(At=!0,L()))),q},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(q){var et=D;return function(){var ft=D;D=et;try{return q.apply(this,arguments)}finally{D=ft}}}}(Fh)),Fh}var My;function UT(){return My||(My=1,Gh.exports=LT()),Gh.exports}var Yh={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function PT(){if(Ny)return Fe;Ny=1;var r=Md();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Fe.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Fe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:B}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:D,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Fe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,y){return p(y)},Fe.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.0",Fe}var Oy;function zT(){if(Oy)return Yh.exports;Oy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Yh.exports=PT(),Yh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function kT(){if(xy)return Xl;xy=1;var r=UT(),e=Md(),i=zT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return g(f),t;if(h===l)return g(f),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=h;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,l=h;break}if(T===l){_=!0,l=f,a=h;break}T=T.sibling}if(!_){for(T=h.child;T;){if(T===a){_=!0,a=h,l=f;break}if(T===l){_=!0,l=h,a=f;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),it=Symbol.for("react.provider"),st=Symbol.for("react.consumer"),rt=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),At=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),N=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function _e(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case K:return"Profiler";case J:return"StrictMode";case ct:return"Suspense";case At:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case rt:return(t.displayName||"Context")+".Provider";case st:return(t._context.displayName||"Context")+".Consumer";case _t:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case M:return n=t.displayName||null,n!==null?n:_e(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return _e(t(n))}catch{}}return null}var ae=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],V=-1;function W(t){return{current:t}}function nt(t){0>V||(t.current=zt[V],zt[V]=null,V--)}function $(t,n){V++,zt[V]=t.current,t.current=n}var dt=W(null),Rt=W(null),vt=W(null),Ce=W(null);function Wt(t,n){switch($(vt,n),$(Rt,t),$(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ty(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ty(n),t=ey(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(dt),$(dt,t)}function jn(){nt(dt),nt(Rt),nt(vt)}function qi(t){t.memoizedState!==null&&$(Ce,t);var n=dt.current,a=ey(n,t.type);n!==a&&($(Rt,t),$(dt,a))}function hi(t){Rt.current===t&&(nt(dt),nt(Rt)),Ce.current===t&&(nt(Ce),jl._currentValue=ft)}var Or=Object.prototype.hasOwnProperty,xr=r.unstable_scheduleCallback,Lr=r.unstable_cancelCallback,ks=r.unstable_shouldYield,To=r.unstable_requestPaint,_n=r.unstable_now,Bc=r.unstable_getCurrentPriorityLevel,Bs=r.unstable_ImmediatePriority,Aa=r.unstable_UserBlockingPriority,Ur=r.unstable_NormalPriority,Hc=r.unstable_LowPriority,Sa=r.unstable_IdlePriority,Hs=r.log,Ao=r.unstable_setDisableYieldValue,se=null,qt=null;function ln(t){if(typeof Hs=="function"&&Ao(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(se,t)}catch{}}var qe=Math.clz32?Math.clz32:Pr,So=Math.log,jc=Math.LN2;function Pr(t){return t>>>=0,t===0?32:31-(So(t)/jc|0)|0}var zr=256,kr=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ba(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,h=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~h,l!==0?f=On(l):(_&=T,_!==0?f=On(_):a||(a=T&~t,a!==0&&(f=On(a))))):(T=l&~h,T!==0?f=On(T):_!==0?f=On(_):a||(a=l&~t,a!==0&&(f=On(a)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:f}function Br(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function js(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function qs(){var t=zr;return zr<<=1,(zr&4194048)===0&&(zr=256),t}function Gs(){var t=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),t}function di(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function mi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Fs(t,n,a,l,f,h){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-qe(a),Q=1<<G;T[G]=0,R[G]=-1;var k=z[G];if(k!==null)for(z[G]=null,G=0;G<k.length;G++){var H=k[G];H!==null&&(H.lane&=-536870913)}a&=~Q}l!==0&&qn(t,l,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(_&~n))}function qn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-qe(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Ys(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-qe(a),f=1<<l;f&n|t[l]&n&&(t[l]|=n),a&=~f}}function Gi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fi(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Ey(t.type))}function bo(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var te=Math.random().toString(36).slice(2),Ee="__reactFiber$"+te,de="__reactProps$"+te,En="__reactContainer$"+te,Qs="__reactEvents$"+te,qc="__reactListeners$"+te,Yi="__reactHandles$"+te,wo="__reactResources$"+te,Hr="__reactMarker$"+te;function Qi(t){delete t[Ee],delete t[de],delete t[Qs],delete t[qc],delete t[Yi]}function gi(t){var n=t[Ee];if(n)return n;for(var a=t.parentNode;a;){if(n=a[En]||a[Ee]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=ay(t);t!==null;){if(a=t[Ee])return a;t=ay(t)}return n}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[Ee]||t[En]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ke(t){var n=t[wo];return n||(n=t[wo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(t){t[Hr]=!0}var Xs=new Set,Ra={};function xn(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(Ra[t]=n,t=0;t<n.length;t++)Xs.add(n[t])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},jr={};function Do(t){return Or.call(jr,t)?!0:Or.call(Co,t)?!1:Ro.test(t)?jr[t]=!0:(Co[t]=!0,!1)}function Xi(t,n,a){if(Do(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Yn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Le(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var qr,Vo;function yi(t){if(qr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);qr=n&&n[1]||"",Vo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qr+t+Vo}var Ca=!1;function Da(t,n){if(!t||Ca)return"";Ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var k=H}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(H){k=H}t.call(Q.prototype)}}else{try{throw Error()}catch(H){k=H}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&k&&typeof H.stack=="string")return[H.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),_=h[0],T=h[1];if(_&&T){var R=_.split(`
`),z=T.split(`
`);for(f=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===R.length||f===z.length)for(l=R.length-1,f=z.length-1;1<=l&&0<=f&&R[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(R[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||R[l]!==z[f]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=f);break}}}finally{Ca=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?yi(a):""}function Ks(t){switch(t.tag){case 26:case 27:case 5:return yi(t.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Da(t.type,!1);case 11:return Da(t.type.render,!1);case 1:return Da(t.type,!0);case 31:return yi("Activity");default:return""}}function Va(t){try{var n="";do n+=Ks(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Zs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Gc(t){var n=Zs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,h=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,h.call(this,_)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ia(t){t._valueTracker||(t._valueTracker=Gc(t))}function Ws(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Zs(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function Gr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Fc=/[\n"\\]/g;function me(t){return t.replace(Fc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function on(t,n,a,l,f,h,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Ki(t,_,Ze(n)):a!=null?Ki(t,_,Ze(a)):l!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ze(T):t.removeAttribute("name")}function Fr(t,n,a,l,f,h,_,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Ki(t,n,a){n==="number"&&Gr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vi(t,n,a,l){if(t=t.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=n.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Yt(t,n,a){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ze(a):""}function Yr(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(ae(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ze(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Io(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Qr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Js(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&a[f]!==l&&Io(t,f,l)}else for(var h in n)n.hasOwnProperty(h)&&Io(t,h,n[h])}function $s(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(t){return Qc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _i=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ei=null,Ti=null;function tl(t){var n=Gn(t);if(n&&(t=n.stateNode)){var a=t[de]||null;t:switch(t=n.stateNode,n.type){case"input":if(on(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var f=l[de]||null;if(!f)throw Error(s(90));on(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Ws(l)}break t;case"textarea":Yt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&vi(t,!!a.multiple,n,!1)}}}var Qn=!1;function Mo(t,n,a){if(Qn)return t(n,a);Qn=!0;try{var l=t(n);return l}finally{if(Qn=!1,(Ei!==null||Ti!==null)&&(bu(),Ei&&(n=Ei,t=Ti,Ti=Ei=null,tl(n),t)))for(n=0;n<t.length;n++)tl(t[n])}}function Xr(t,n){var a=t.stateNode;if(a===null)return null;var l=a[de]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Ln)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{Sn=!1}var Xn=null,Zi=null,Ai=null;function el(){if(Ai)return Ai;var t,n=Zi,a=n.length,l,f="value"in Xn?Xn.value:Xn.textContent,h=f.length;for(t=0;t<a&&n[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===f[h-l];l++);return Ai=f.slice(t,1<l?1-l:void 0)}function Kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function nl(){return!1}function De(t){function n(a,l,f,h,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Zn:nl,this.isPropagationStopped=nl,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=De(Bt),Zr=E({},Bt,{view:0,detail:0}),No=De(Zr),Oa,xa,Wn,Wr=E({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(Oa=t.screenX-Wn.screenX,xa=t.screenY-Wn.screenY):xa=Oa=0,Wn=t),Oa)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),bn=De(Wr),Oo=E({},Wr,{dataTransfer:0}),Xc=De(Oo),Jr=E({},Zr,{relatedTarget:0}),La=De(Jr),il=E({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=De(il),xo=E({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pa=De(xo),Kc=E({},Bt,{data:0}),rl=De(Kc),$r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function al(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Uo[t])?!!n[t]:!1}function ta(){return al}var Po=E({},Zr,{key:function(t){if(t.key){var n=$r[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?Kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),za=De(Po),zo=E({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sl=De(zo),Si=E({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),ko=De(Si),Bo=E({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ho=De(Bo),jo=E({},Wr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=De(jo),We=E({},Bt,{newState:0,oldState:0}),qo=De(We),Go=[9,13,27,32],Jn=Ln&&"CompositionEvent"in window,u=null;Ln&&"documentMode"in document&&(u=document.documentMode);var m=Ln&&"TextEvent"in window&&!u,v=Ln&&(!Jn||u&&8<u&&11>=u),A=" ",U=!1;function j(t,n){switch(t){case"keyup":return Go.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function Te(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(U=!0,A);case"textInput":return t=n.data,t===A&&U?null:t;default:return null}}function Nt(t,n){if(Mt)return t==="compositionend"||!Jn&&j(t,n)?(t=el(),Ai=Zi=Xn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Ve={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ae(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ve[t.type]:n==="textarea"}function bi(t,n,a,l){Ei?Ti?Ti.push(l):Ti=[l]:Ei=l,n=Iu(n,"onChange"),0<n.length&&(a=new Na("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var Ue=null,$n=null;function ll(t){Kp(t,0)}function Fo(t){var n=Fn(t);if(Ws(n))return t}function pm(t,n){if(t==="change")return n}var ym=!1;if(Ln){var Zc;if(Ln){var Wc="oninput"in document;if(!Wc){var vm=document.createElement("div");vm.setAttribute("oninput","return;"),Wc=typeof vm.oninput=="function"}Zc=Wc}else Zc=!1;ym=Zc&&(!document.documentMode||9<document.documentMode)}function _m(){Ue&&(Ue.detachEvent("onpropertychange",Em),$n=Ue=null)}function Em(t){if(t.propertyName==="value"&&Fo($n)){var n=[];bi(n,$n,t,An(t)),Mo(ll,n)}}function oE(t,n,a){t==="focusin"?(_m(),Ue=n,$n=a,Ue.attachEvent("onpropertychange",Em)):t==="focusout"&&_m()}function uE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fo($n)}function cE(t,n){if(t==="click")return Fo(n)}function fE(t,n){if(t==="input"||t==="change")return Fo(n)}function hE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:hE;function ol(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Or.call(n,f)||!un(t[f],n[f]))return!1}return!0}function Tm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Am(t,n){var a=Tm(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Tm(a)}}function Sm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Sm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function bm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Gr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Gr(t.document)}return n}function Jc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var dE=Ln&&"documentMode"in document&&11>=document.documentMode,Ba=null,$c=null,ul=null,tf=!1;function wm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tf||Ba==null||Ba!==Gr(l)||(l=Ba,"selectionStart"in l&&Jc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ul&&ol(ul,l)||(ul=l,l=Iu($c,"onSelect"),0<l.length&&(n=new Na("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Ba)))}function ea(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ha={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},ef={},Rm={};Ln&&(Rm=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function na(t){if(ef[t])return ef[t];if(!Ha[t])return t;var n=Ha[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Rm)return ef[t]=n[a];return t}var Cm=na("animationend"),Dm=na("animationiteration"),Vm=na("animationstart"),mE=na("transitionrun"),gE=na("transitionstart"),pE=na("transitioncancel"),Im=na("transitionend"),Mm=new Map,nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nf.push("scrollEnd");function Un(t,n){Mm.set(t,n),xn(n,[t])}var Nm=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var a=Nm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Va(n)},Nm.set(t,n),n)}return{value:t,source:n,stack:Va(n)}}var Rn=[],ja=0,rf=0;function Yo(){for(var t=ja,n=rf=ja=0;n<t;){var a=Rn[n];Rn[n++]=null;var l=Rn[n];Rn[n++]=null;var f=Rn[n];Rn[n++]=null;var h=Rn[n];if(Rn[n++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}h!==0&&Om(a,f,h)}}function Qo(t,n,a,l){Rn[ja++]=t,Rn[ja++]=n,Rn[ja++]=a,Rn[ja++]=l,rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function af(t,n,a,l){return Qo(t,n,a,l),Xo(t)}function qa(t,n){return Qo(t,null,null,n),Xo(t)}function Om(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&n!==null&&(f=31-qe(a),t=h.hiddenUpdates,l=t[f],l===null?t[f]=[n]:l.push(n),n.lane=a|536870912),h):null}function Xo(t){if(50<xl)throw xl=0,fh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ga={};function yE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,n,a,l){return new yE(t,n,a,l)}function sf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,n){var a=t.alternate;return a===null?(a=cn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function xm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ko(t,n,a,l,f,h){var _=0;if(l=t,typeof t=="function")sf(t)&&(_=1);else if(typeof t=="string")_=_T(t,a,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=cn(31,a,n,f),t.elementType=w,t.lanes=h,t;case Y:return ia(a.children,f,h,n);case J:_=8,f|=24;break;case K:return t=cn(12,a,n,f|2),t.elementType=K,t.lanes=h,t;case ct:return t=cn(13,a,n,f),t.elementType=ct,t.lanes=h,t;case At:return t=cn(19,a,n,f),t.elementType=At,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case it:case rt:_=10;break t;case st:_=9;break t;case _t:_=11;break t;case M:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=cn(_,a,n,f),n.elementType=t,n.type=l,n.lanes=h,n}function ia(t,n,a,l){return t=cn(7,t,l,n),t.lanes=a,t}function lf(t,n,a){return t=cn(6,t,null,n),t.lanes=a,t}function of(t,n,a){return n=cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Fa=[],Ya=0,Zo=null,Wo=0,Cn=[],Dn=0,ra=null,Ri=1,Ci="";function aa(t,n){Fa[Ya++]=Wo,Fa[Ya++]=Zo,Zo=t,Wo=n}function Lm(t,n,a){Cn[Dn++]=Ri,Cn[Dn++]=Ci,Cn[Dn++]=ra,ra=t;var l=Ri;t=Ci;var f=32-qe(l)-1;l&=~(1<<f),a+=1;var h=32-qe(n)+f;if(30<h){var _=f-f%5;h=(l&(1<<_)-1).toString(32),l>>=_,f-=_,Ri=1<<32-qe(n)+f|a<<f|l,Ci=h+t}else Ri=1<<h|a<<f|l,Ci=t}function uf(t){t.return!==null&&(aa(t,1),Lm(t,1,0))}function cf(t){for(;t===Zo;)Zo=Fa[--Ya],Fa[Ya]=null,Wo=Fa[--Ya],Fa[Ya]=null;for(;t===ra;)ra=Cn[--Dn],Cn[Dn]=null,Ci=Cn[--Dn],Cn[Dn]=null,Ri=Cn[--Dn],Cn[Dn]=null}var Je=null,le=null,kt=!1,sa=null,ti=!1,ff=Error(s(519));function la(t){var n=Error(s(418,""));throw hl(wn(n,t)),ff}function Um(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[Ee]=t,n[de]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Ul.length;a++)Vt(Ul[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Fr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ia(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Yr(n,l.value,l.defaultValue,l.children),Ia(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||$p(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Mu),n=!0):n=!1,n||la(t)}function Pm(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:Je=Je.return}}function cl(t){if(t!==Je)return!1;if(!kt)return Pm(t),kt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ch(t.type,t.memoizedProps)),a=!a),a&&le&&la(t),Pm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){le=zn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,hr(t.type)?(t=Mh,Mh=null,le=t):le=n):le=Je?zn(t.stateNode.nextSibling):null;return!0}function fl(){le=Je=null,kt=!1}function zm(){var t=sa;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),sa=null),t}function hl(t){sa===null?sa=[t]:sa.push(t)}var hf=W(null),oa=null,Di=null;function Wi(t,n,a){$(hf,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=hf.current,nt(hf)}function df(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function mf(t,n,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var _=f.child;h=h.firstContext;t:for(;h!==null;){var T=h;h=f;for(var R=0;R<n.length;R++)if(T.context===n[R]){h.lanes|=a,T=h.alternate,T!==null&&(T.lanes|=a),df(h.return,a,t),l||(_=null);break t}h=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,h=_.alternate,h!==null&&(h.lanes|=a),df(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function dl(t,n,a,l){t=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=f.type;un(f.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(f===Ce.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(jl):t=[jl])}f=f.return}t!==null&&mf(n,t,a,l),n.flags|=262144}function Jo(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ua(t){oa=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return km(oa,t)}function $o(t,n){return oa===null&&ua(t),km(t,n)}function km(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(s(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return a}var vE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},_E=r.unstable_scheduleCallback,EE=r.unstable_NormalPriority,Se={$$typeof:rt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new vE,data:new Map,refCount:0}}function ml(t){t.refCount--,t.refCount===0&&_E(EE,function(){t.controller.abort()})}var gl=null,pf=0,Qa=0,Xa=null;function TE(t,n){if(gl===null){var a=gl=[];pf=0,Qa=vh(),Xa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pf++,n.then(Bm,Bm),n}function Bm(){if(--pf===0&&gl!==null){Xa!==null&&(Xa.status="fulfilled");var t=gl;gl=null,Qa=0,Xa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function AE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var Hm=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&TE(t,n),Hm!==null&&Hm(t,n)};var ca=W(null);function yf(){var t=ca.current;return t!==null?t:Jt.pooledCache}function tu(t,n){n===null?$(ca,ca.current):$(ca,n.pool)}function jm(){var t=yf();return t===null?null:{parent:Se._currentValue,pool:t}}var pl=Error(s(460)),qm=Error(s(474)),eu=Error(s(542)),vf={then:function(){}};function Gm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function nu(){}function Fm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(nu,nu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qm(t),t;default:if(typeof n.status=="string")n.then(nu,nu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Qm(t),t}throw yl=n,pl}}var yl=null;function Ym(){if(yl===null)throw Error(s(459));var t=yl;return yl=null,t}function Qm(t){if(t===pl||t===eu)throw Error(s(483))}var Ji=!1;function _f(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ef(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $i(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tr(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Gt&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=Xo(t),Om(t,null,a),n}return Qo(t,l,n,a),Xo(t)}function vl(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ys(t,a)}}function Tf(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=_:h=h.next=_,a=a.next}while(a!==null);h===null?f=h=n:h=h.next=n}else f=h=n;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Af=!1;function _l(){if(Af){var t=Xa;if(t!==null)throw t}}function El(t,n,a,l){Af=!1;var f=t.updateQueue;Ji=!1;var h=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var R=T,z=R.next;R.next=null,_===null?h=z:_.next=z,_=R;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=R))}if(h!==null){var Q=f.baseState;_=0,G=z=R=null,T=h;do{var k=T.lane&-536870913,H=k!==T.lane;if(H?(Ot&k)===k:(l&k)===k){k!==0&&k===Qa&&(Af=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var pt=t,mt=T;k=n;var Kt=a;switch(mt.tag){case 1:if(pt=mt.payload,typeof pt=="function"){Q=pt.call(Kt,Q,k);break t}Q=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=mt.payload,k=typeof pt=="function"?pt.call(Kt,Q,k):pt,k==null)break t;Q=E({},Q,k);break t;case 2:Ji=!0}}k=T.callback,k!==null&&(t.flags|=64,H&&(t.flags|=8192),H=f.callbacks,H===null?f.callbacks=[k]:H.push(k))}else H={lane:k,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=H,R=Q):G=G.next=H,_|=k;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;H=T,T=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);G===null&&(R=Q),f.baseState=R,f.firstBaseUpdate=z,f.lastBaseUpdate=G,h===null&&(f.shared.lanes=0),or|=_,t.lanes=_,t.memoizedState=Q}}function Xm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Km(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Xm(a[t],n)}var Ka=W(null),iu=W(0);function Zm(t,n){t=Ui,$(iu,t),$(Ka,n),Ui=t|n.baseLanes}function Sf(){$(iu,Ui),$(Ka,Ka.current)}function bf(){Ui=iu.current,nt(Ka),nt(iu)}var er=0,bt=null,Qt=null,ge=null,ru=!1,Za=!1,fa=!1,au=0,Tl=0,Wa=null,SE=0;function ce(){throw Error(s(321))}function wf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!un(t[a],n[a]))return!1;return!0}function Rf(t,n,a,l,f,h){return er=h,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Og:xg,fa=!1,h=a(l,f),fa=!1,Za&&(h=Jm(n,a,l,f)),Wm(t),h}function Wm(t){q.H=fu;var n=Qt!==null&&Qt.next!==null;if(er=0,ge=Qt=bt=null,ru=!1,Tl=0,Wa=null,n)throw Error(s(300));t===null||Ie||(t=t.dependencies,t!==null&&Jo(t)&&(Ie=!0))}function Jm(t,n,a,l){bt=t;var f=0;do{if(Za&&(Wa=null),Tl=0,Za=!1,25<=f)throw Error(s(301));if(f+=1,ge=Qt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}q.H=IE,h=n(a,l)}while(Za);return h}function bE(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?Al(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(bt.flags|=1024),n}function Cf(){var t=au!==0;return au=0,t}function Df(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Vf(t){if(ru){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}ru=!1}er=0,ge=Qt=bt=null,Za=!1,Tl=au=0,Wa=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?bt.memoizedState=ge=t:ge=ge.next=t,ge}function pe(){if(Qt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=ge===null?bt.memoizedState:ge.next;if(n!==null)ge=n,Qt=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},ge===null?bt.memoizedState=ge=t:ge=ge.next=t}return ge}function If(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var n=Tl;return Tl+=1,Wa===null&&(Wa=[]),t=Fm(Wa,t,n),n=bt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Og:xg),t}function su(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===rt)return Ge(t)}throw Error(s(438,String(t)))}function Mf(t){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=If(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=N;return n.index++,a}function Ii(t,n){return typeof n=="function"?n(t):n}function lu(t){var n=pe();return Nf(n,Qt,t)}function Nf(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,h=l.pending;if(h!==null){if(f!==null){var _=f.next;f.next=h.next,h.next=_}n.baseQueue=f=h,l.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{n=f.next;var T=_=null,R=null,z=n,G=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(Ot&Q)===Q:(er&Q)===Q){var k=z.revertLane;if(k===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Qa&&(G=!0);else if((er&k)===k){z=z.next,k===Qa&&(G=!0);continue}else Q={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=Q,_=h):R=R.next=Q,bt.lanes|=k,or|=k;Q=z.action,fa&&a(h,Q),h=z.hasEagerState?z.eagerState:a(h,Q)}else k={lane:Q,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=k,_=h):R=R.next=k,bt.lanes|=Q,or|=Q;z=z.next}while(z!==null&&z!==n);if(R===null?_=h:R.next=T,!un(h,t.memoizedState)&&(Ie=!0,G&&(a=Xa,a!==null)))throw a;t.memoizedState=h,t.baseState=_,t.baseQueue=R,l.lastRenderedState=h}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Of(t){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,h=n.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do h=t(h,_.action),_=_.next;while(_!==f);un(h,n.memoizedState)||(Ie=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function $m(t,n,a){var l=bt,f=pe(),h=kt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!un((Qt||f).memoizedState,a);_&&(f.memoizedState=a,Ie=!0),f=f.queue;var T=ng.bind(null,l,f,t);if(Sl(2048,8,T,[t]),f.getSnapshot!==n||_||ge!==null&&ge.memoizedState.tag&1){if(l.flags|=2048,Ja(9,ou(),eg.bind(null,l,f,a,n),null),Jt===null)throw Error(s(349));h||(er&124)!==0||tg(l,n,a)}return a}function tg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=If(),bt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function eg(t,n,a,l){n.value=a,n.getSnapshot=l,ig(n)&&rg(t)}function ng(t,n,a){return a(function(){ig(n)&&rg(t)})}function ig(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!un(t,a)}catch{return!0}}function rg(t){var n=qa(t,2);n!==null&&gn(n,t,2)}function xf(t){var n=en();if(typeof t=="function"){var a=t;if(t=a(),fa){ln(!0);try{a()}finally{ln(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n}function ag(t,n,a,l){return t.baseState=a,Nf(t,Qt,typeof l=="function"?l:Ii)}function wE(t,n,a,l,f){if(cu(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};q.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,sg(n,h)):(h.next=a.next,n.pending=a.next=h)}}function sg(t,n){var a=n.action,l=n.payload,f=t.state;if(n.isTransition){var h=q.T,_={};q.T=_;try{var T=a(f,l),R=q.S;R!==null&&R(_,T),lg(t,n,T)}catch(z){Lf(t,n,z)}finally{q.T=h}}else try{h=a(f,l),lg(t,n,h)}catch(z){Lf(t,n,z)}}function lg(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){og(t,n,l)},function(l){return Lf(t,n,l)}):og(t,n,a)}function og(t,n,a){n.status="fulfilled",n.value=a,ug(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,sg(t,a)))}function Lf(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,ug(n),n=n.next;while(n!==l)}t.action=null}function ug(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function cg(t,n){return n}function fg(t,n){if(kt){var a=Jt.formState;if(a!==null){t:{var l=bt;if(kt){if(le){e:{for(var f=le,h=ti;f.nodeType!==8;){if(!h){f=null;break e}if(f=zn(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){le=zn(f.nextSibling),l=f.data==="F!";break t}}la(l)}l=!1}l&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cg,lastRenderedState:n},a.queue=l,a=Ig.bind(null,bt,l),l.dispatch=a,l=xf(!1),h=Bf.bind(null,bt,!1,l.queue),l=en(),f={state:n,dispatch:null,action:t,pending:null},l.queue=f,a=wE.bind(null,bt,f,h,a),f.dispatch=a,l.memoizedState=t,[n,a,!1]}function hg(t){var n=pe();return dg(n,Qt,t)}function dg(t,n,a){if(n=Nf(t,n,cg)[0],t=lu(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Al(n)}catch(_){throw _===pl?eu:_}else l=n;n=pe();var f=n.queue,h=f.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,Ja(9,ou(),RE.bind(null,f,a),null)),[l,h,t]}function RE(t,n){t.action=n}function mg(t){var n=pe(),a=Qt;if(a!==null)return dg(n,a,t);pe(),n=n.memoizedState,a=pe();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Ja(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=If(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function ou(){return{destroy:void 0,resource:void 0}}function gg(){return pe().memoizedState}function uu(t,n,a,l){var f=en();l=l===void 0?null:l,bt.flags|=t,f.memoizedState=Ja(1|n,ou(),a,l)}function Sl(t,n,a,l){var f=pe();l=l===void 0?null:l;var h=f.memoizedState.inst;Qt!==null&&l!==null&&wf(l,Qt.memoizedState.deps)?f.memoizedState=Ja(n,h,a,l):(bt.flags|=t,f.memoizedState=Ja(1|n,h,a,l))}function pg(t,n){uu(8390656,8,t,n)}function yg(t,n){Sl(2048,8,t,n)}function vg(t,n){return Sl(4,2,t,n)}function _g(t,n){return Sl(4,4,t,n)}function Eg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Tg(t,n,a){a=a!=null?a.concat([t]):null,Sl(4,4,Eg.bind(null,n,t),a)}function Uf(){}function Ag(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&wf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function Sg(t,n){var a=pe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&wf(n,l[1]))return l[0];if(l=t(),fa){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,n],l}function Pf(t,n,a){return a===void 0||(er&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Rp(),bt.lanes|=t,or|=t,a)}function bg(t,n,a,l){return un(a,n)?a:Ka.current!==null?(t=Pf(t,a,l),un(t,n)||(Ie=!0),t):(er&42)===0?(Ie=!0,t.memoizedState=a):(t=Rp(),bt.lanes|=t,or|=t,n)}function wg(t,n,a,l,f){var h=et.p;et.p=h!==0&&8>h?h:8;var _=q.T,T={};q.T=T,Bf(t,!1,n,a);try{var R=f(),z=q.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=AE(R,l);bl(t,n,G,mn(t))}else bl(t,n,l,mn(t))}catch(Q){bl(t,n,{then:function(){},status:"rejected",reason:Q},mn())}finally{et.p=h,q.T=_}}function CE(){}function zf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var f=Rg(t).queue;wg(t,f,n,ft,a===null?CE:function(){return Cg(t),a(l)})}function Rg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ft},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Cg(t){var n=Rg(t).next.queue;bl(t,n,{},mn())}function kf(){return Ge(jl)}function Dg(){return pe().memoizedState}function Vg(){return pe().memoizedState}function DE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=mn();t=$i(a);var l=tr(n,t,a);l!==null&&(gn(l,n,a),vl(l,n,a)),n={cache:gf()},t.payload=n;return}n=n.return}}function VE(t,n,a){var l=mn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},cu(t)?Mg(n,a):(a=af(t,n,a,l),a!==null&&(gn(a,t,l),Ng(a,n,l)))}function Ig(t,n,a){var l=mn();bl(t,n,a,l)}function bl(t,n,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(cu(t))Mg(n,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var _=n.lastRenderedState,T=h(_,a);if(f.hasEagerState=!0,f.eagerState=T,un(T,_))return Qo(t,n,f,0),Jt===null&&Yo(),!1}catch{}finally{}if(a=af(t,n,f,l),a!==null)return gn(a,t,l),Ng(a,n,l),!0}return!1}function Bf(t,n,a,l){if(l={lane:2,revertLane:vh(),action:l,hasEagerState:!1,eagerState:null,next:null},cu(t)){if(n)throw Error(s(479))}else n=af(t,a,l,2),n!==null&&gn(n,t,2)}function cu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function Mg(t,n){Za=ru=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Ng(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,Ys(t,a)}}var fu={readContext:Ge,use:su,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},Og={readContext:Ge,use:su,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:pg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,uu(4194308,4,Eg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return uu(4194308,4,t,n)},useInsertionEffect:function(t,n){uu(4,2,t,n)},useMemo:function(t,n){var a=en();n=n===void 0?null:n;var l=t();if(fa){ln(!0);try{t()}finally{ln(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=en();if(a!==void 0){var f=a(n);if(fa){ln(!0);try{a(n)}finally{ln(!1)}}}else f=n;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=VE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=xf(t);var n=t.queue,a=Ig.bind(null,bt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Uf,useDeferredValue:function(t,n){var a=en();return Pf(a,t,n)},useTransition:function(){var t=xf(!1);return t=wg.bind(null,bt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=bt,f=en();if(kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(Ot&124)!==0||tg(l,n,a)}f.memoizedState=a;var h={value:a,getSnapshot:n};return f.queue=h,pg(ng.bind(null,l,h,t),[t]),l.flags|=2048,Ja(9,ou(),eg.bind(null,l,h,a,n),null),a},useId:function(){var t=en(),n=Jt.identifierPrefix;if(kt){var a=Ci,l=Ri;a=(l&~(1<<32-qe(l)-1)).toString(32)+a,n=""+n+"R"+a,a=au++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=SE++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:kf,useFormState:fg,useActionState:fg,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Bf.bind(null,bt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Mf,useCacheRefresh:function(){return en().memoizedState=DE.bind(null,bt)}},xg={readContext:Ge,use:su,useCallback:Ag,useContext:Ge,useEffect:yg,useImperativeHandle:Tg,useInsertionEffect:vg,useLayoutEffect:_g,useMemo:Sg,useReducer:lu,useRef:gg,useState:function(){return lu(Ii)},useDebugValue:Uf,useDeferredValue:function(t,n){var a=pe();return bg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=lu(Ii)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:$m,useId:Dg,useHostTransitionStatus:kf,useFormState:hg,useActionState:hg,useOptimistic:function(t,n){var a=pe();return ag(a,Qt,t,n)},useMemoCache:Mf,useCacheRefresh:Vg},IE={readContext:Ge,use:su,useCallback:Ag,useContext:Ge,useEffect:yg,useImperativeHandle:Tg,useInsertionEffect:vg,useLayoutEffect:_g,useMemo:Sg,useReducer:Of,useRef:gg,useState:function(){return Of(Ii)},useDebugValue:Uf,useDeferredValue:function(t,n){var a=pe();return Qt===null?Pf(a,t,n):bg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=Of(Ii)[0],n=pe().memoizedState;return[typeof t=="boolean"?t:Al(t),n]},useSyncExternalStore:$m,useId:Dg,useHostTransitionStatus:kf,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var a=pe();return Qt!==null?ag(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:Vg},$a=null,wl=0;function hu(t){var n=wl;return wl+=1,$a===null&&($a=[]),Fm($a,t,n)}function Rl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function du(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Lg(t){var n=t._init;return n(t._payload)}function Ug(t){function n(x,I){if(t){var P=x.deletions;P===null?(x.deletions=[I],x.flags|=16):P.push(I)}}function a(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function f(x,I){return x=wi(x,I),x.index=0,x.sibling=null,x}function h(x,I,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<I?(x.flags|=67108866,I):P):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function _(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function T(x,I,P,F){return I===null||I.tag!==6?(I=lf(P,x.mode,F),I.return=x,I):(I=f(I,P),I.return=x,I)}function R(x,I,P,F){var lt=P.type;return lt===Y?G(x,I,P.props.children,F,P.key):I!==null&&(I.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Lg(lt)===I.type)?(I=f(I,P.props),Rl(I,P),I.return=x,I):(I=Ko(P.type,P.key,P.props,null,x.mode,F),Rl(I,P),I.return=x,I)}function z(x,I,P,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==P.containerInfo||I.stateNode.implementation!==P.implementation?(I=of(P,x.mode,F),I.return=x,I):(I=f(I,P.children||[]),I.return=x,I)}function G(x,I,P,F,lt){return I===null||I.tag!==7?(I=ia(P,x.mode,F,lt),I.return=x,I):(I=f(I,P),I.return=x,I)}function Q(x,I,P){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=lf(""+I,x.mode,P),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case D:return P=Ko(I.type,I.key,I.props,null,x.mode,P),Rl(P,I),P.return=x,P;case B:return I=of(I,x.mode,P),I.return=x,I;case b:var F=I._init;return I=F(I._payload),Q(x,I,P)}if(ae(I)||L(I))return I=ia(I,x.mode,P,null),I.return=x,I;if(typeof I.then=="function")return Q(x,hu(I),P);if(I.$$typeof===rt)return Q(x,$o(x,I),P);du(x,I)}return null}function k(x,I,P,F){var lt=I!==null?I.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return lt!==null?null:T(x,I,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case D:return P.key===lt?R(x,I,P,F):null;case B:return P.key===lt?z(x,I,P,F):null;case b:return lt=P._init,P=lt(P._payload),k(x,I,P,F)}if(ae(P)||L(P))return lt!==null?null:G(x,I,P,F,null);if(typeof P.then=="function")return k(x,I,hu(P),F);if(P.$$typeof===rt)return k(x,I,$o(x,P),F);du(x,P)}return null}function H(x,I,P,F,lt){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(P)||null,T(I,x,""+F,lt);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case D:return x=x.get(F.key===null?P:F.key)||null,R(I,x,F,lt);case B:return x=x.get(F.key===null?P:F.key)||null,z(I,x,F,lt);case b:var Ct=F._init;return F=Ct(F._payload),H(x,I,P,F,lt)}if(ae(F)||L(F))return x=x.get(P)||null,G(I,x,F,lt,null);if(typeof F.then=="function")return H(x,I,P,hu(F),lt);if(F.$$typeof===rt)return H(x,I,P,$o(I,F),lt);du(I,F)}return null}function pt(x,I,P,F){for(var lt=null,Ct=null,ut=I,gt=I=0,Ne=null;ut!==null&&gt<P.length;gt++){ut.index>gt?(Ne=ut,ut=null):Ne=ut.sibling;var Pt=k(x,ut,P[gt],F);if(Pt===null){ut===null&&(ut=Ne);break}t&&ut&&Pt.alternate===null&&n(x,ut),I=h(Pt,I,gt),Ct===null?lt=Pt:Ct.sibling=Pt,Ct=Pt,ut=Ne}if(gt===P.length)return a(x,ut),kt&&aa(x,gt),lt;if(ut===null){for(;gt<P.length;gt++)ut=Q(x,P[gt],F),ut!==null&&(I=h(ut,I,gt),Ct===null?lt=ut:Ct.sibling=ut,Ct=ut);return kt&&aa(x,gt),lt}for(ut=l(ut);gt<P.length;gt++)Ne=H(ut,x,gt,P[gt],F),Ne!==null&&(t&&Ne.alternate!==null&&ut.delete(Ne.key===null?gt:Ne.key),I=h(Ne,I,gt),Ct===null?lt=Ne:Ct.sibling=Ne,Ct=Ne);return t&&ut.forEach(function(yr){return n(x,yr)}),kt&&aa(x,gt),lt}function mt(x,I,P,F){if(P==null)throw Error(s(151));for(var lt=null,Ct=null,ut=I,gt=I=0,Ne=null,Pt=P.next();ut!==null&&!Pt.done;gt++,Pt=P.next()){ut.index>gt?(Ne=ut,ut=null):Ne=ut.sibling;var yr=k(x,ut,Pt.value,F);if(yr===null){ut===null&&(ut=Ne);break}t&&ut&&yr.alternate===null&&n(x,ut),I=h(yr,I,gt),Ct===null?lt=yr:Ct.sibling=yr,Ct=yr,ut=Ne}if(Pt.done)return a(x,ut),kt&&aa(x,gt),lt;if(ut===null){for(;!Pt.done;gt++,Pt=P.next())Pt=Q(x,Pt.value,F),Pt!==null&&(I=h(Pt,I,gt),Ct===null?lt=Pt:Ct.sibling=Pt,Ct=Pt);return kt&&aa(x,gt),lt}for(ut=l(ut);!Pt.done;gt++,Pt=P.next())Pt=H(ut,x,gt,Pt.value,F),Pt!==null&&(t&&Pt.alternate!==null&&ut.delete(Pt.key===null?gt:Pt.key),I=h(Pt,I,gt),Ct===null?lt=Pt:Ct.sibling=Pt,Ct=Pt);return t&&ut.forEach(function(MT){return n(x,MT)}),kt&&aa(x,gt),lt}function Kt(x,I,P,F){if(typeof P=="object"&&P!==null&&P.type===Y&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case D:t:{for(var lt=P.key;I!==null;){if(I.key===lt){if(lt=P.type,lt===Y){if(I.tag===7){a(x,I.sibling),F=f(I,P.props.children),F.return=x,x=F;break t}}else if(I.elementType===lt||typeof lt=="object"&&lt!==null&&lt.$$typeof===b&&Lg(lt)===I.type){a(x,I.sibling),F=f(I,P.props),Rl(F,P),F.return=x,x=F;break t}a(x,I);break}else n(x,I);I=I.sibling}P.type===Y?(F=ia(P.props.children,x.mode,F,P.key),F.return=x,x=F):(F=Ko(P.type,P.key,P.props,null,x.mode,F),Rl(F,P),F.return=x,x=F)}return _(x);case B:t:{for(lt=P.key;I!==null;){if(I.key===lt)if(I.tag===4&&I.stateNode.containerInfo===P.containerInfo&&I.stateNode.implementation===P.implementation){a(x,I.sibling),F=f(I,P.children||[]),F.return=x,x=F;break t}else{a(x,I);break}else n(x,I);I=I.sibling}F=of(P,x.mode,F),F.return=x,x=F}return _(x);case b:return lt=P._init,P=lt(P._payload),Kt(x,I,P,F)}if(ae(P))return pt(x,I,P,F);if(L(P)){if(lt=L(P),typeof lt!="function")throw Error(s(150));return P=lt.call(P),mt(x,I,P,F)}if(typeof P.then=="function")return Kt(x,I,hu(P),F);if(P.$$typeof===rt)return Kt(x,I,$o(x,P),F);du(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,I!==null&&I.tag===6?(a(x,I.sibling),F=f(I,P),F.return=x,x=F):(a(x,I),F=lf(P,x.mode,F),F.return=x,x=F),_(x)):a(x,I)}return function(x,I,P,F){try{wl=0;var lt=Kt(x,I,P,F);return $a=null,lt}catch(ut){if(ut===pl||ut===eu)throw ut;var Ct=cn(29,ut,null,x.mode);return Ct.lanes=F,Ct.return=x,Ct}finally{}}}var ts=Ug(!0),Pg=Ug(!1),Vn=W(null),ei=null;function nr(t){var n=t.alternate;$(be,be.current&1),$(Vn,t),ei===null&&(n===null||Ka.current!==null||n.memoizedState!==null)&&(ei=t)}function zg(t){if(t.tag===22){if($(be,be.current),$(Vn,t),ei===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ei=t)}}else ir()}function ir(){$(be,be.current),$(Vn,Vn.current)}function Mi(t){nt(Vn),ei===t&&(ei=null),nt(be)}var be=W(0);function mu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Ih(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Hf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var jf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=mn(),f=$i(l);f.payload=n,a!=null&&(f.callback=a),n=tr(t,f,l),n!==null&&(gn(n,t,l),vl(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=mn(),f=$i(l);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=tr(t,f,l),n!==null&&(gn(n,t,l),vl(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=mn(),l=$i(a);l.tag=2,n!=null&&(l.callback=n),n=tr(t,l,a),n!==null&&(gn(n,t,a),vl(n,t,a))}};function kg(t,n,a,l,f,h,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,_):n.prototype&&n.prototype.isPureReactComponent?!ol(a,l)||!ol(f,h):!0}function Bg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&jf.enqueueReplaceState(n,n.state,null)}function ha(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var gu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hg(t){gu(t)}function jg(t){console.error(t)}function qg(t){gu(t)}function pu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Gg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function qf(t,n,a){return a=$i(a),a.tag=3,a.payload={element:null},a.callback=function(){pu(t,n)},a}function Fg(t){return t=$i(t),t.tag=3,t}function Yg(t,n,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=l.value;t.payload=function(){return f(h)},t.callback=function(){Gg(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Gg(n,a,l),typeof f!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function ME(t,n,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&dl(n,a,f,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return ei===null?dh():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===vf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),gh(t,l,f)),!1;case 22:return a.flags|=65536,l===vf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),gh(t,l,f)),!1}throw Error(s(435,a.tag))}return gh(t,l,f),dh(),!1}if(kt)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==ff&&(t=Error(s(422),{cause:l}),hl(wn(t,a)))):(l!==ff&&(n=Error(s(423),{cause:l}),hl(wn(n,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=wn(l,a),f=qf(t.stateNode,l,f),Tf(t,f),oe!==4&&(oe=2)),!1;var h=Error(s(520),{cause:l});if(h=wn(h,a),Ol===null?Ol=[h]:Ol.push(h),oe!==4&&(oe=2),n===null)return!0;l=wn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=qf(a.stateNode,l,t),Tf(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ur===null||!ur.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Fg(f),Yg(f,t,a,l),Tf(a,f),!1}a=a.return}while(a!==null);return!1}var Qg=Error(s(461)),Ie=!1;function Pe(t,n,a,l){n.child=t===null?Pg(n,null,a,l):ts(n,t.child,a,l)}function Xg(t,n,a,l,f){a=a.render;var h=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return ua(n),l=Rf(t,n,a,_,h,f),T=Cf(),t!==null&&!Ie?(Df(t,n,f),Ni(t,n,f)):(kt&&T&&uf(n),n.flags|=1,Pe(t,n,l,f),n.child)}function Kg(t,n,a,l,f){if(t===null){var h=a.type;return typeof h=="function"&&!sf(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Zg(t,n,h,l,f)):(t=Ko(a.type,null,l,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Wf(t,f)){var _=h.memoizedProps;if(a=a.compare,a=a!==null?a:ol,a(_,l)&&t.ref===n.ref)return Ni(t,n,f)}return n.flags|=1,t=wi(h,l),t.ref=n.ref,t.return=n,n.child=t}function Zg(t,n,a,l,f){if(t!==null){var h=t.memoizedProps;if(ol(h,l)&&t.ref===n.ref)if(Ie=!1,n.pendingProps=l=h,Wf(t,f))(t.flags&131072)!==0&&(Ie=!0);else return n.lanes=t.lanes,Ni(t,n,f)}return Gf(t,n,a,l,f)}function Wg(t,n,a){var l=n.pendingProps,f=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|a:a,t!==null){for(f=n.child=t.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return Jg(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&tu(n,h!==null?h.cachePool:null),h!==null?Zm(n,h):Sf(),zg(n);else return n.lanes=n.childLanes=536870912,Jg(t,n,h!==null?h.baseLanes|a:a,a)}else h!==null?(tu(n,h.cachePool),Zm(n,h),ir(),n.memoizedState=null):(t!==null&&tu(n,null),Sf(),ir());return Pe(t,n,f,a),n.child}function Jg(t,n,a,l){var f=yf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&tu(n,null),Sf(),zg(n),t!==null&&dl(t,n,l,!0),null}function yu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Gf(t,n,a,l,f){return ua(n),a=Rf(t,n,a,l,void 0,f),l=Cf(),t!==null&&!Ie?(Df(t,n,f),Ni(t,n,f)):(kt&&l&&uf(n),n.flags|=1,Pe(t,n,a,f),n.child)}function $g(t,n,a,l,f,h){return ua(n),n.updateQueue=null,a=Jm(n,l,a,f),Wm(t),l=Cf(),t!==null&&!Ie?(Df(t,n,h),Ni(t,n,h)):(kt&&l&&uf(n),n.flags|=1,Pe(t,n,a,h),n.child)}function tp(t,n,a,l,f){if(ua(n),n.stateNode===null){var h=Ga,_=a.contextType;typeof _=="object"&&_!==null&&(h=Ge(_)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=jf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},_f(n),_=a.contextType,h.context=typeof _=="object"&&_!==null?Ge(_):Ga,h.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Hf(n,a,_,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&jf.enqueueReplaceState(h,h.state,null),El(n,l,h,f),_l(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var T=n.memoizedProps,R=ha(a,T);h.props=R;var z=h.context,G=a.contextType;_=Ga,typeof G=="object"&&G!==null&&(_=Ge(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||z!==_)&&Bg(n,h,l,_),Ji=!1;var k=n.memoizedState;h.state=k,El(n,l,h,f),_l(),z=n.memoizedState,T||k!==z||Ji?(typeof Q=="function"&&(Hf(n,a,Q,l),z=n.memoizedState),(R=Ji||kg(n,a,R,l,k,z,_))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),h.props=l,h.state=z,h.context=_,l=R):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,Ef(t,n),_=n.memoizedProps,G=ha(a,_),h.props=G,Q=n.pendingProps,k=h.context,z=a.contextType,R=Ga,typeof z=="object"&&z!==null&&(R=Ge(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==Q||k!==R)&&Bg(n,h,l,R),Ji=!1,k=n.memoizedState,h.state=k,El(n,l,h,f),_l();var H=n.memoizedState;_!==Q||k!==H||Ji||t!==null&&t.dependencies!==null&&Jo(t.dependencies)?(typeof T=="function"&&(Hf(n,a,T,l),H=n.memoizedState),(G=Ji||kg(n,a,G,l,k,H,R)||t!==null&&t.dependencies!==null&&Jo(t.dependencies))?(z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,H,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,H,R)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),h.props=l,h.state=H,h.context=R,l=G):(typeof h.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,yu(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=ts(n,t.child,null,f),n.child=ts(n,null,a,f)):Pe(t,n,a,f),n.memoizedState=h.state,t=n.child):t=Ni(t,n,f),t}function ep(t,n,a,l){return fl(),n.flags|=256,Pe(t,n,a,l),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(t){return{baseLanes:t,cachePool:jm()}}function Qf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=In),t}function np(t,n,a){var l=n.pendingProps,f=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=t!==null&&t.memoizedState===null?!1:(be.current&2)!==0),_&&(f=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(f?nr(n):ir(),kt){var T=le,R;if(R=T){t:{for(R=T,T=ti;R.nodeType!==8;){if(!T){T=null;break t}if(R=zn(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(n.memoizedState={dehydrated:T,treeContext:ra!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},R=cn(18,null,null,0),R.stateNode=T,R.return=n,n.child=R,Je=n,le=null,R=!0):R=!1}R||la(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Ih(T)?n.lanes=32:n.lanes=536870912,null;Mi(n)}return T=l.children,l=l.fallback,f?(ir(),f=n.mode,T=vu({mode:"hidden",children:T},f),l=ia(l,f,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,f=n.child,f.memoizedState=Yf(a),f.childLanes=Qf(t,_,a),n.memoizedState=Ff,l):(nr(n),Xf(n,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(h)n.flags&256?(nr(n),n.flags&=-257,n=Kf(t,n,a)):n.memoizedState!==null?(ir(),n.child=t.child,n.flags|=128,n=null):(ir(),f=l.fallback,T=n.mode,l=vu({mode:"visible",children:l.children},T),f=ia(f,T,a,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,ts(n,t.child,null,a),l=n.child,l.memoizedState=Yf(a),l.childLanes=Qf(t,_,a),n.memoizedState=Ff,n=f);else if(nr(n),Ih(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,l=Error(s(419)),l.stack="",l.digest=_,hl({value:l,source:null,stack:null}),n=Kf(t,n,a)}else if(Ie||dl(t,n,a,!1),_=(a&t.childLanes)!==0,Ie||_){if(_=Jt,_!==null&&(l=a&-a,l=(l&42)!==0?1:Gi(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,qa(t,l),gn(_,t,l),Qg;T.data==="$?"||dh(),n=Kf(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,le=zn(T.nextSibling),Je=n,kt=!0,sa=null,ti=!1,t!==null&&(Cn[Dn++]=Ri,Cn[Dn++]=Ci,Cn[Dn++]=ra,Ri=t.id,Ci=t.overflow,ra=n),n=Xf(n,l.children),n.flags|=4096);return n}return f?(ir(),f=l.fallback,T=n.mode,R=t.child,z=R.sibling,l=wi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?f=wi(z,f):(f=ia(f,T,a,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,T=t.child.memoizedState,T===null?T=Yf(a):(R=T.cachePool,R!==null?(z=Se._currentValue,R=R.parent!==z?{parent:z,pool:z}:R):R=jm(),T={baseLanes:T.baseLanes|a,cachePool:R}),f.memoizedState=T,f.childLanes=Qf(t,_,a),n.memoizedState=Ff,l):(nr(n),a=t.child,t=a.sibling,a=wi(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Xf(t,n){return n=vu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function vu(t,n){return t=cn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Kf(t,n,a){return ts(n,t.child,null,a),t=Xf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ip(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),df(t.return,n,a)}function Zf(t,n,a,l,f){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=a,h.tailMode=f)}function rp(t,n,a){var l=n.pendingProps,f=l.revealOrder,h=l.tail;if(Pe(t,n,l.children,a),l=be.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ip(t,a,n);else if(t.tag===19)ip(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(be,l),f){case"forwards":for(a=n.child,f=null;a!==null;)t=a.alternate,t!==null&&mu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),Zf(n,!1,f,a,h);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&mu(t)===null){n.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Zf(n,!0,a,null,h);break;case"together":Zf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ni(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),or|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(dl(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Wf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Jo(t)))}function NE(t,n,a){switch(n.tag){case 3:Wt(n,n.stateNode.containerInfo),Wi(n,Se,t.memoizedState.cache),fl();break;case 27:case 5:qi(n);break;case 4:Wt(n,n.stateNode.containerInfo);break;case 10:Wi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(nr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?np(t,n,a):(nr(n),t=Ni(t,n,a),t!==null?t.sibling:null);nr(n);break;case 19:var f=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(dl(t,n,a,!1),l=(a&n.childLanes)!==0),f){if(l)return rp(t,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$(be,be.current),l)break;return null;case 22:case 23:return n.lanes=0,Wg(t,n,a);case 24:Wi(n,Se,t.memoizedState.cache)}return Ni(t,n,a)}function ap(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ie=!0;else{if(!Wf(t,a)&&(n.flags&128)===0)return Ie=!1,NE(t,n,a);Ie=(t.flags&131072)!==0}else Ie=!1,kt&&(n.flags&1048576)!==0&&Lm(n,Wo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")sf(l)?(t=ha(l,t),n.tag=1,n=tp(null,n,l,t,a)):(n.tag=0,n=Gf(null,n,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===_t){n.tag=11,n=Xg(null,n,l,t,a);break t}else if(f===M){n.tag=14,n=Kg(null,n,l,t,a);break t}}throw n=_e(l)||l,Error(s(306,n,""))}}return n;case 0:return Gf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,f=ha(l,n.pendingProps),tp(t,n,l,f,a);case 3:t:{if(Wt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;f=h.element,Ef(t,n),El(n,l,null,a);var _=n.memoizedState;if(l=_.cache,Wi(n,Se,l),l!==h.cache&&mf(n,[Se],a,!0),_l(),l=_.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=ep(t,n,l,a);break t}else if(l!==f){f=wn(Error(s(424)),n),hl(f),n=ep(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=zn(t.firstChild),Je=n,kt=!0,sa=null,ti=!0,a=Pg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(fl(),l===f){n=Ni(t,n,a);break t}Pe(t,n,l,a)}n=n.child}return n;case 26:return yu(t,n),t===null?(a=uy(n.type,null,n.pendingProps,null))?n.memoizedState=a:kt||(a=n.type,t=n.pendingProps,l=Nu(vt.current).createElement(a),l[Ee]=n,l[de]=t,ke(l,a,t),ue(l),n.stateNode=l):n.memoizedState=uy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qi(n),t===null&&kt&&(l=n.stateNode=sy(n.type,n.pendingProps,vt.current),Je=n,ti=!0,f=le,hr(n.type)?(Mh=f,le=zn(l.firstChild)):le=f),Pe(t,n,n.pendingProps.children,a),yu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((f=l=le)&&(l=sT(l,n.type,n.pendingProps,ti),l!==null?(n.stateNode=l,Je=n,le=zn(l.firstChild),ti=!1,f=!0):f=!1),f||la(n)),qi(n),f=n.type,h=n.pendingProps,_=t!==null?t.memoizedProps:null,l=h.children,Ch(f,h)?l=null:_!==null&&Ch(f,_)&&(n.flags|=32),n.memoizedState!==null&&(f=Rf(t,n,bE,null,null,a),jl._currentValue=f),yu(t,n),Pe(t,n,l,a),n.child;case 6:return t===null&&kt&&((t=a=le)&&(a=lT(a,n.pendingProps,ti),a!==null?(n.stateNode=a,Je=n,le=null,t=!0):t=!1),t||la(n)),null;case 13:return np(t,n,a);case 4:return Wt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=ts(n,null,l,a):Pe(t,n,l,a),n.child;case 11:return Xg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Wi(n,n.type,l.value),Pe(t,n,l.children,a),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,ua(n),f=Ge(f),l=l(f),n.flags|=1,Pe(t,n,l,a),n.child;case 14:return Kg(t,n,n.type,n.pendingProps,a);case 15:return Zg(t,n,n.type,n.pendingProps,a);case 19:return rp(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=vu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=wi(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Wg(t,n,a);case 24:return ua(n),l=Ge(Se),t===null?(f=yf(),f===null&&(f=Jt,h=gf(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),n.memoizedState={parent:l,cache:f},_f(n),Wi(n,Se,f)):((t.lanes&a)!==0&&(Ef(t,n),El(n,null,null,a),_l()),f=t.memoizedState,h=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Wi(n,Se,l)):(l=h.cache,Wi(n,Se,l),l!==f.cache&&mf(n,[Se],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Oi(t){t.flags|=4}function sp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!my(n)){if(n=Vn.current,n!==null&&((Ot&4194048)===Ot?ei!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==ei))throw yl=vf,qm;t.flags|=8192}}function _u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Gs():536870912,t.lanes|=n,rs|=n)}function Cl(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ie(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function OE(t,n,a){var l=n.pendingProps;switch(cf(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Vi(Se),jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(cl(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,zm())),ie(n),null;case 26:return a=n.memoizedState,t===null?(Oi(n),a!==null?(ie(n),sp(n,a)):(ie(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Oi(n),ie(n),sp(n,a)):(ie(n),n.flags&=-16777217):(t.memoizedProps!==l&&Oi(n),ie(n),n.flags&=-16777217),null;case 27:hi(n),a=vt.current;var f=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}t=dt.current,cl(n)?Um(n):(t=sy(f,l,a),n.stateNode=t,Oi(n))}return ie(n),null;case 5:if(hi(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(t=dt.current,cl(n))Um(n);else{switch(f=Nu(vt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[Ee]=n,t[de]=l;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=t;t:switch(ke(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Oi(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Oi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=vt.current,cl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,f=Je,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Ee]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||$p(t.nodeValue,a)),t||la(n)}else t=Nu(t).createTextNode(l),t[Ee]=n,n.stateNode=t}return ie(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=cl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ee]=n}else fl(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),f=!1}else f=zm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Mi(n),n):(Mi(n),null)}if(Mi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==f&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),_u(n,n.updateQueue),ie(n),null;case 4:return jn(),t===null&&Ah(n.stateNode.containerInfo),ie(n),null;case 10:return Vi(n.type),ie(n),null;case 19:if(nt(be),f=n.memoizedState,f===null)return ie(n),null;if(l=(n.flags&128)!==0,h=f.rendering,h===null)if(l)Cl(f,!1);else{if(oe!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=mu(t),h!==null){for(n.flags|=128,Cl(f,!1),t=h.updateQueue,n.updateQueue=t,_u(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)xm(a,t),a=a.sibling;return $(be,be.current&1|2),n.child}t=t.sibling}f.tail!==null&&_n()>Au&&(n.flags|=128,l=!0,Cl(f,!1),n.lanes=4194304)}else{if(!l)if(t=mu(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,_u(n,t),Cl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!kt)return ie(n),null}else 2*_n()-f.renderingStartTime>Au&&a!==536870912&&(n.flags|=128,l=!0,Cl(f,!1),n.lanes=4194304);f.isBackwards?(h.sibling=n.child,n.child=h):(t=f.last,t!==null?t.sibling=h:n.child=h,f.last=h)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=_n(),n.sibling=null,t=be.current,$(be,l?t&1|2:t&1),n):(ie(n),null);case 22:case 23:return Mi(n),bf(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&_u(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(ca),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function xE(t,n){switch(cf(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(Se),jn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return hi(n),null;case 13:if(Mi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));fl()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(be),null;case 4:return jn(),null;case 10:return Vi(n.type),null;case 22:case 23:return Mi(n),bf(),t!==null&&nt(ca),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(Se),null;case 25:return null;default:return null}}function lp(t,n){switch(cf(n),n.tag){case 3:Vi(Se),jn();break;case 26:case 27:case 5:hi(n);break;case 4:jn();break;case 13:Mi(n);break;case 19:nt(be);break;case 10:Vi(n.type);break;case 22:case 23:Mi(n),bf(),t!==null&&nt(ca);break;case 24:Vi(Se)}}function Dl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var h=a.create,_=a.inst;l=h(),_.destroy=l}a=a.next}while(a!==f)}}catch(T){Zt(n,n.return,T)}}function rr(t,n,a){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var h=f.next;l=h;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=n;var R=a,z=T;try{z()}catch(G){Zt(f,R,G)}}}l=l.next}while(l!==h)}}catch(G){Zt(n,n.return,G)}}function op(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Km(n,a)}catch(l){Zt(t,t.return,l)}}}function up(t,n,a){a.props=ha(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Zt(t,n,l)}}function Vl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Zt(t,n,f)}}function ni(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Zt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Zt(t,n,f)}else a.current=null}function cp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Zt(t,t.return,f)}}function Jf(t,n,a){try{var l=t.stateNode;eT(l,t.type,a,n),l[de]=n}catch(f){Zt(t,t.return,f)}}function fp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hr(t.type)||t.tag===4}function $f(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||fp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function th(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Mu));else if(l!==4&&(l===27&&hr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(th(t,n,a),t=t.sibling;t!==null;)th(t,n,a),t=t.sibling}function Eu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&hr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Eu(t,n,a),t=t.sibling;t!==null;)Eu(t,n,a),t=t.sibling}function hp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);ke(n,l,a),n[Ee]=t,n[de]=a}catch(h){Zt(t,t.return,h)}}var xi=!1,fe=!1,eh=!1,dp=typeof WeakSet=="function"?WeakSet:Set,Me=null;function LE(t,n){if(t=t.containerInfo,wh=zu,t=bm(t),Jc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var _=0,T=-1,R=-1,z=0,G=0,Q=t,k=null;e:for(;;){for(var H;Q!==a||f!==0&&Q.nodeType!==3||(T=_+f),Q!==h||l!==0&&Q.nodeType!==3||(R=_+l),Q.nodeType===3&&(_+=Q.nodeValue.length),(H=Q.firstChild)!==null;)k=Q,Q=H;for(;;){if(Q===t)break e;if(k===a&&++z===f&&(T=_),k===h&&++G===l&&(R=_),(H=Q.nextSibling)!==null)break;Q=k,k=Q.parentNode}Q=H}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rh={focusedElem:t,selectionRange:a},zu=!1,Me=n;Me!==null;)if(n=Me,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Me=t;else for(;Me!==null;){switch(n=Me,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,f=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var pt=ha(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(pt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Zt(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Vh(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Vh(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Me=t;break}Me=n.return}}function mp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ar(t,a),l&4&&Dl(5,a);break;case 1:if(ar(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Zt(a,a.return,_)}else{var f=ha(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(a,a.return,_)}}l&64&&op(a),l&512&&Vl(a,a.return);break;case 3:if(ar(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Km(t,n)}catch(_){Zt(a,a.return,_)}}break;case 27:n===null&&l&4&&hp(a);case 26:case 5:ar(t,a),n===null&&l&4&&cp(a),l&512&&Vl(a,a.return);break;case 12:ar(t,a);break;case 13:ar(t,a),l&4&&yp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=GE.bind(null,a),oT(t,a))));break;case 22:if(l=a.memoizedState!==null||xi,!l){n=n!==null&&n.memoizedState!==null||fe,f=xi;var h=fe;xi=l,(fe=n)&&!h?sr(t,a,(a.subtreeFlags&8772)!==0):ar(t,a),xi=f,fe=h}break;case 30:break;default:ar(t,a)}}function gp(t){var n=t.alternate;n!==null&&(t.alternate=null,gp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,nn=!1;function Li(t,n,a){for(a=a.child;a!==null;)pp(t,n,a),a=a.sibling}function pp(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(se,a)}catch{}switch(a.tag){case 26:fe||ni(a,n),Li(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||ni(a,n);var l=ee,f=nn;hr(a.type)&&(ee=a.stateNode,nn=!1),Li(t,n,a),zl(a.stateNode),ee=l,nn=f;break;case 5:fe||ni(a,n);case 6:if(l=ee,f=nn,ee=null,Li(t,n,a),ee=l,nn=f,ee!==null)if(nn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(h){Zt(a,n,h)}else try{ee.removeChild(a.stateNode)}catch(h){Zt(a,n,h)}break;case 18:ee!==null&&(nn?(t=ee,ry(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Yl(t)):ry(ee,a.stateNode));break;case 4:l=ee,f=nn,ee=a.stateNode.containerInfo,nn=!0,Li(t,n,a),ee=l,nn=f;break;case 0:case 11:case 14:case 15:fe||rr(2,a,n),fe||rr(4,a,n),Li(t,n,a);break;case 1:fe||(ni(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&up(a,n,l)),Li(t,n,a);break;case 21:Li(t,n,a);break;case 22:fe=(l=fe)||a.memoizedState!==null,Li(t,n,a),fe=l;break;default:Li(t,n,a)}}function yp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Yl(t)}catch(a){Zt(n,n.return,a)}}function UE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new dp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new dp),n;default:throw Error(s(435,t.tag))}}function nh(t,n){var a=UE(t);n.forEach(function(l){var f=FE.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function fn(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],h=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(hr(T.type)){ee=T.stateNode,nn=!1;break t}break;case 5:ee=T.stateNode,nn=!1;break t;case 3:case 4:ee=T.stateNode.containerInfo,nn=!0;break t}T=T.return}if(ee===null)throw Error(s(160));pp(h,_,f),ee=null,nn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)vp(n,t),n=n.sibling}var Pn=null;function vp(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(n,t),hn(t),l&4&&(rr(3,t,t.return),Dl(3,t),rr(5,t,t.return));break;case 1:fn(n,t),hn(t),l&512&&(fe||a===null||ni(a,a.return)),l&64&&xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Pn;if(fn(n,t),hn(t),l&512&&(fe||a===null||ni(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":h=f.getElementsByTagName("title")[0],(!h||h[Hr]||h[Ee]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(l),f.head.insertBefore(h,f.querySelector("head > title"))),ke(h,l,a),h[Ee]=t,ue(h),l=h;break t;case"link":var _=hy("link","href",f).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(h=_[T],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}h=f.createElement(l),ke(h,l,a),f.head.appendChild(h);break;case"meta":if(_=hy("meta","content",f).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(h=_[T],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}h=f.createElement(l),ke(h,l,a),f.head.appendChild(h);break;default:throw Error(s(468,l))}h[Ee]=t,ue(h),l=h}t.stateNode=l}else dy(f,t.type,t.stateNode);else t.stateNode=fy(f,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?dy(f,t.type,t.stateNode):fy(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Jf(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(n,t),hn(t),l&512&&(fe||a===null||ni(a,a.return)),a!==null&&l&4&&Jf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,t),hn(t),l&512&&(fe||a===null||ni(a,a.return)),t.flags&32){f=t.stateNode;try{Tn(f,"")}catch(H){Zt(t,t.return,H)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Jf(t,f,a!==null?a.memoizedProps:f)),l&1024&&(eh=!0);break;case 6:if(fn(n,t),hn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){Zt(t,t.return,H)}}break;case 3:if(Lu=null,f=Pn,Pn=Ou(n.containerInfo),fn(n,t),Pn=f,hn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Yl(n.containerInfo)}catch(H){Zt(t,t.return,H)}eh&&(eh=!1,_p(t));break;case 4:l=Pn,Pn=Ou(t.stateNode.containerInfo),fn(n,t),hn(t),Pn=l;break;case 12:fn(n,t),hn(t);break;case 13:fn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(oh=_n()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nh(t,l)));break;case 22:f=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,z=xi,G=fe;if(xi=z||f,fe=G||R,fn(n,t),fe=G,xi=z,hn(t),l&8192)t:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||R||xi||fe||da(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(h=R.stateNode,f)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=R.stateNode;var Q=R.memoizedProps.style,k=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(H){Zt(R,R.return,H)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(H){Zt(R,R.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,nh(t,a))));break;case 19:fn(n,t),hn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,nh(t,l)));break;case 30:break;case 21:break;default:fn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(fp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,h=$f(t);Eu(t,h,f);break;case 5:var _=a.stateNode;a.flags&32&&(Tn(_,""),a.flags&=-33);var T=$f(t);Eu(t,T,_);break;case 3:case 4:var R=a.stateNode.containerInfo,z=$f(t);th(t,z,R);break;default:throw Error(s(161))}}catch(G){Zt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function _p(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;_p(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ar(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)mp(t,n.alternate,n),n=n.sibling}function da(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:rr(4,n,n.return),da(n);break;case 1:ni(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&up(n,n.return,a),da(n);break;case 27:zl(n.stateNode);case 26:case 5:ni(n,n.return),da(n);break;case 22:n.memoizedState===null&&da(n);break;case 30:da(n);break;default:da(n)}t=t.sibling}}function sr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=t,h=n,_=h.flags;switch(h.tag){case 0:case 11:case 15:sr(f,h,a),Dl(4,h);break;case 1:if(sr(f,h,a),l=h,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Zt(l,l.return,z)}if(l=h,f=l.updateQueue,f!==null){var T=l.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)Xm(R[f],T)}catch(z){Zt(l,l.return,z)}}a&&_&64&&op(h),Vl(h,h.return);break;case 27:hp(h);case 26:case 5:sr(f,h,a),a&&l===null&&_&4&&cp(h),Vl(h,h.return);break;case 12:sr(f,h,a);break;case 13:sr(f,h,a),a&&_&4&&yp(f,h);break;case 22:h.memoizedState===null&&sr(f,h,a),Vl(h,h.return);break;case 30:break;default:sr(f,h,a)}n=n.sibling}}function ih(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ml(a))}function rh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t))}function ii(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ep(t,n,a,l),n=n.sibling}function Ep(t,n,a,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ii(t,n,a,l),f&2048&&Dl(9,n);break;case 1:ii(t,n,a,l);break;case 3:ii(t,n,a,l),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ml(t)));break;case 12:if(f&2048){ii(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,_=h.id,T=h.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Zt(n,n.return,R)}}else ii(t,n,a,l);break;case 13:ii(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,_=n.alternate,n.memoizedState!==null?h._visibility&2?ii(t,n,a,l):Il(t,n):h._visibility&2?ii(t,n,a,l):(h._visibility|=2,es(t,n,a,l,(n.subtreeFlags&10256)!==0)),f&2048&&ih(_,n);break;case 24:ii(t,n,a,l),f&2048&&rh(n.alternate,n);break;default:ii(t,n,a,l)}}function es(t,n,a,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,_=n,T=a,R=l,z=_.flags;switch(_.tag){case 0:case 11:case 15:es(h,_,T,R,f),Dl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?es(h,_,T,R,f):Il(h,_):(G._visibility|=2,es(h,_,T,R,f)),f&&z&2048&&ih(_.alternate,_);break;case 24:es(h,_,T,R,f),f&&z&2048&&rh(_.alternate,_);break;default:es(h,_,T,R,f)}n=n.sibling}}function Il(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,f=l.flags;switch(l.tag){case 22:Il(a,l),f&2048&&ih(l.alternate,l);break;case 24:Il(a,l),f&2048&&rh(l.alternate,l);break;default:Il(a,l)}n=n.sibling}}var Ml=8192;function ns(t){if(t.subtreeFlags&Ml)for(t=t.child;t!==null;)Tp(t),t=t.sibling}function Tp(t){switch(t.tag){case 26:ns(t),t.flags&Ml&&t.memoizedState!==null&&TT(Pn,t.memoizedState,t.memoizedProps);break;case 5:ns(t);break;case 3:case 4:var n=Pn;Pn=Ou(t.stateNode.containerInfo),ns(t),Pn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Ml,Ml=16777216,ns(t),Ml=n):ns(t));break;default:ns(t)}}function Ap(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Nl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Me=l,bp(l,t)}Ap(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sp(t),t=t.sibling}function Sp(t){switch(t.tag){case 0:case 11:case 15:Nl(t),t.flags&2048&&rr(9,t,t.return);break;case 3:Nl(t);break;case 12:Nl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Tu(t)):Nl(t);break;default:Nl(t)}}function Tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Me=l,bp(l,t)}Ap(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:rr(8,n,n.return),Tu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Tu(n));break;default:Tu(n)}t=t.sibling}}function bp(t,n){for(;Me!==null;){var a=Me;switch(a.tag){case 0:case 11:case 15:rr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ml(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Me=l;else t:for(a=t;Me!==null;){l=Me;var f=l.sibling,h=l.return;if(gp(l),l===a){Me=null;break t}if(f!==null){f.return=h,Me=f;break t}Me=h}}}var PE={getCacheForType:function(t){var n=Ge(Se),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},zE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Dt=null,Ot=0,Ft=0,dn=null,lr=!1,is=!1,ah=!1,Ui=0,oe=0,or=0,ma=0,sh=0,In=0,rs=0,Ol=null,rn=null,lh=!1,oh=0,Au=1/0,Su=null,ur=null,ze=0,cr=null,as=null,ss=0,uh=0,ch=null,wp=null,xl=0,fh=null;function mn(){if((Gt&2)!==0&&Ot!==0)return Ot&-Ot;if(q.T!==null){var t=Qa;return t!==0?t:vh()}return Fi()}function Rp(){In===0&&(In=(Ot&536870912)===0||kt?qs():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),In}function gn(t,n,a){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(ls(t,0),fr(t,Ot,In,!1)),mi(t,a),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(ma|=a),oe===4&&fr(t,Ot,In,!1)),ri(t))}function Cp(t,n,a){if((Gt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Br(t,n),f=l?HE(t,n):mh(t,n,!0),h=l;do{if(f===0){is&&!l&&fr(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!kE(a)){f=mh(t,n,!1),h=!1;continue}if(f===2){if(h=n,t.errorRecoveryDisabledLanes&h)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;f=Ol;var R=T.current.memoizedState.isDehydrated;if(R&&(ls(T,_).flags|=256),_=mh(T,_,!1),_!==2){if(ah&&!R){T.errorRecoveryDisabledLanes|=h,ma|=h,f=4;break t}h=rn,rn=f,h!==null&&(rn===null?rn=h:rn.push.apply(rn,h))}f=_}if(h=!1,f!==2)continue}}if(f===1){ls(t,0),fr(t,n,0,!0);break}t:{switch(l=t,h=f,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:fr(l,n,In,!lr);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=oh+300-_n(),10<f)){if(fr(l,n,In,!lr),ba(l,0,!0)!==0)break t;l.timeoutHandle=ny(Dp.bind(null,l,a,rn,Su,lh,n,In,ma,rs,lr,h,2,-0,0),f);break t}Dp(l,a,rn,Su,lh,n,In,ma,rs,lr,h,0,-0,0)}}break}while(!0);ri(t)}function Dp(t,n,a,l,f,h,_,T,R,z,G,Q,k,H){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Hl={stylesheets:null,count:0,unsuspend:ET},Tp(n),Q=AT(),Q!==null)){t.cancelPendingCommit=Q(Lp.bind(null,t,n,h,a,l,f,_,T,R,G,1,k,H)),fr(t,h,_,!z);return}Lp(t,n,h,a,l,f,_,T,R)}function kE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],h=f.getSnapshot;f=f.value;try{if(!un(h(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fr(t,n,a,l){n&=~sh,n&=~ma,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var f=n;0<f;){var h=31-qe(f),_=1<<h;l[h]=-1,f&=~_}a!==0&&qn(t,a,n)}function bu(){return(Gt&6)===0?(Ll(0),!1):!0}function hh(){if(Dt!==null){if(Ft===0)var t=Dt.return;else t=Dt,Di=oa=null,Vf(t),$a=null,wl=0,t=Dt;for(;t!==null;)lp(t.alternate,t),t=t.return;Dt=null}}function ls(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),hh(),Jt=t,Dt=a=wi(t.current,null),Ot=n,Ft=0,dn=null,lr=!1,is=Br(t,n),ah=!1,rs=In=sh=ma=or=oe=0,rn=Ol=null,lh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var f=31-qe(l),h=1<<f;n|=t[f],l&=~h}return Ui=n,Yo(),a}function Vp(t,n){bt=null,q.H=fu,n===pl||n===eu?(n=Ym(),Ft=3):n===qm?(n=Ym(),Ft=4):Ft=n===Qg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Dt===null&&(oe=1,pu(t,wn(n,t.current)))}function Ip(){var t=q.H;return q.H=fu,t===null?fu:t}function Mp(){var t=q.A;return q.A=PE,t}function dh(){oe=4,lr||(Ot&4194048)!==Ot&&Vn.current!==null||(is=!0),(or&134217727)===0&&(ma&134217727)===0||Jt===null||fr(Jt,Ot,In,!1)}function mh(t,n,a){var l=Gt;Gt|=2;var f=Ip(),h=Mp();(Jt!==t||Ot!==n)&&(Su=null,ls(t,n)),n=!1;var _=oe;t:do try{if(Ft!==0&&Dt!==null){var T=Dt,R=dn;switch(Ft){case 8:hh(),_=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=Ft;if(Ft=0,dn=null,os(t,T,R,z),a&&is){_=0;break t}break;default:z=Ft,Ft=0,dn=null,os(t,T,R,z)}}BE(),_=oe;break}catch(G){Vp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Di=oa=null,Gt=l,q.H=f,q.A=h,Dt===null&&(Jt=null,Ot=0,Yo()),_}function BE(){for(;Dt!==null;)Np(Dt)}function HE(t,n){var a=Gt;Gt|=2;var l=Ip(),f=Mp();Jt!==t||Ot!==n?(Su=null,Au=_n()+500,ls(t,n)):is=Br(t,n);t:do try{if(Ft!==0&&Dt!==null){n=Dt;var h=dn;e:switch(Ft){case 1:Ft=0,dn=null,os(t,n,h,1);break;case 2:case 9:if(Gm(h)){Ft=0,dn=null,Op(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),ri(t)},h.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Gm(h)?(Ft=0,dn=null,Op(n)):(Ft=0,dn=null,os(t,n,h,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(!_||my(_)){Ft=0,dn=null;var R=T.sibling;if(R!==null)Dt=R;else{var z=T.return;z!==null?(Dt=z,wu(z)):Dt=null}break e}}Ft=0,dn=null,os(t,n,h,5);break;case 6:Ft=0,dn=null,os(t,n,h,6);break;case 8:hh(),oe=6;break t;default:throw Error(s(462))}}jE();break}catch(G){Vp(t,G)}while(!0);return Di=oa=null,q.H=l,q.A=f,Gt=a,Dt!==null?0:(Jt=null,Ot=0,Yo(),oe)}function jE(){for(;Dt!==null&&!ks();)Np(Dt)}function Np(t){var n=ap(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?wu(t):Dt=n}function Op(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=$g(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=$g(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Vf(n);default:lp(a,n),n=Dt=xm(n,Ui),n=ap(a,n,Ui)}t.memoizedProps=t.pendingProps,n===null?wu(t):Dt=n}function os(t,n,a,l){Di=oa=null,Vf(n),$a=null,wl=0;var f=n.return;try{if(ME(t,f,n,a,Ot)){oe=1,pu(t,wn(a,t.current)),Dt=null;return}}catch(h){if(f!==null)throw Dt=f,h;oe=1,pu(t,wn(a,t.current)),Dt=null;return}n.flags&32768?(kt||l===1?t=!0:is||(Ot&536870912)!==0?t=!1:(lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Vn.current,l!==null&&l.tag===13&&(l.flags|=16384))),xp(n,t)):wu(n)}function wu(t){var n=t;do{if((n.flags&32768)!==0){xp(n,lr);return}t=n.return;var a=OE(n.alternate,n,Ui);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);oe===0&&(oe=5)}function xp(t,n){do{var a=xE(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);oe=6,Dt=null}function Lp(t,n,a,l,f,h,_,T,R){t.cancelPendingCommit=null;do Ru();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=rf,Fs(t,a,h,_,T,R),t===Jt&&(Dt=Jt=null,Ot=0),as=n,cr=t,ss=a,uh=h,ch=f,wp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YE(Ur,function(){return Bp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,f=et.p,et.p=2,_=Gt,Gt|=4;try{LE(t,n,a)}finally{Gt=_,et.p=f,q.T=l}}ze=1,Up(),Pp(),zp()}}function Up(){if(ze===1){ze=0;var t=cr,n=as,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var l=et.p;et.p=2;var f=Gt;Gt|=4;try{vp(n,t);var h=Rh,_=bm(t.containerInfo),T=h.focusedElem,R=h.selectionRange;if(_!==T&&T&&T.ownerDocument&&Sm(T.ownerDocument.documentElement,T)){if(R!==null&&Jc(T)){var z=R.start,G=R.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var Q=T.ownerDocument||document,k=Q&&Q.defaultView||window;if(k.getSelection){var H=k.getSelection(),pt=T.textContent.length,mt=Math.min(R.start,pt),Kt=R.end===void 0?mt:Math.min(R.end,pt);!H.extend&&mt>Kt&&(_=Kt,Kt=mt,mt=_);var x=Am(T,mt),I=Am(T,Kt);if(x&&I&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var P=Q.createRange();P.setStart(x.node,x.offset),H.removeAllRanges(),mt>Kt?(H.addRange(P),H.extend(I.node,I.offset)):(P.setEnd(I.node,I.offset),H.addRange(P))}}}}for(Q=[],H=T;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var F=Q[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}zu=!!wh,Rh=wh=null}finally{Gt=f,et.p=l,q.T=a}}t.current=n,ze=2}}function Pp(){if(ze===2){ze=0;var t=cr,n=as,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var l=et.p;et.p=2;var f=Gt;Gt|=4;try{mp(t,n.alternate,n)}finally{Gt=f,et.p=l,q.T=a}}ze=3}}function zp(){if(ze===4||ze===3){ze=0,To();var t=cr,n=as,a=ss,l=wp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,as=cr=null,kp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ur=null),wa(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(se,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,f=et.p,et.p=2,q.T=null;try{for(var h=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];h(T.value,{componentStack:T.stack})}}finally{q.T=n,et.p=f}}(ss&3)!==0&&Ru(),ri(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===fh?xl++:(xl=0,fh=t):xl=0,Ll(0)}}function kp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ml(n)))}function Ru(t){return Up(),Pp(),zp(),Bp()}function Bp(){if(ze!==5)return!1;var t=cr,n=uh;uh=0;var a=wa(ss),l=q.T,f=et.p;try{et.p=32>a?32:a,q.T=null,a=ch,ch=null;var h=cr,_=ss;if(ze=0,as=cr=null,ss=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,Sp(h.current),Ep(h,h.current,_,a),Gt=T,Ll(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(se,h)}catch{}return!0}finally{et.p=f,q.T=l,kp(t,n)}}function Hp(t,n,a){n=wn(a,n),n=qf(t.stateNode,n,2),t=tr(t,n,2),t!==null&&(mi(t,2),ri(t))}function Zt(t,n,a){if(t.tag===3)Hp(t,t,a);else for(;n!==null;){if(n.tag===3){Hp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ur===null||!ur.has(l))){t=wn(a,t),a=Fg(2),l=tr(n,a,2),l!==null&&(Yg(a,l,n,t),mi(l,2),ri(l));break}}n=n.return}}function gh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new zE;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(a)||(ah=!0,f.add(a),t=qE.bind(null,t,n,a),n.then(t,t))}function qE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(Ot&a)===a&&(oe===4||oe===3&&(Ot&62914560)===Ot&&300>_n()-oh?(Gt&2)===0&&ls(t,0):sh|=a,rs===Ot&&(rs=0)),ri(t)}function jp(t,n){n===0&&(n=Gs()),t=qa(t,n),t!==null&&(mi(t,n),ri(t))}function GE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),jp(t,a)}function FE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),jp(t,a)}function YE(t,n){return xr(t,n)}var Cu=null,us=null,ph=!1,Du=!1,yh=!1,ga=0;function ri(t){t!==us&&t.next===null&&(us===null?Cu=us=t:us=us.next=t),Du=!0,ph||(ph=!0,XE())}function Ll(t,n){if(!yh&&Du){yh=!0;do for(var a=!1,l=Cu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var h=0;else{var _=l.suspendedLanes,T=l.pingedLanes;h=(1<<31-qe(42|t)+1)-1,h&=f&~(_&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Yp(l,h))}else h=Ot,h=ba(l,l===Jt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Br(l,h)||(a=!0,Yp(l,h));l=l.next}while(a);yh=!1}}function QE(){qp()}function qp(){Du=ph=!1;var t=0;ga!==0&&(nT()&&(t=ga),ga=0);for(var n=_n(),a=null,l=Cu;l!==null;){var f=l.next,h=Gp(l,n);h===0?(l.next=null,a===null?Cu=f:a.next=f,f===null&&(us=a)):(a=l,(t!==0||(h&3)!==0)&&(Du=!0)),l=f}Ll(t)}function Gp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var _=31-qe(h),T=1<<_,R=f[_];R===-1?((T&a)===0||(T&l)!==0)&&(f[_]=js(T,n)):R<=n&&(t.expiredLanes|=T),h&=~T}if(n=Jt,a=Ot,a=ba(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Lr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Br(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Lr(l),wa(a)){case 2:case 8:a=Aa;break;case 32:a=Ur;break;case 268435456:a=Sa;break;default:a=Ur}return l=Fp.bind(null,t),a=xr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Lr(l),t.callbackPriority=2,t.callbackNode=null,2}function Fp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Ru()&&t.callbackNode!==a)return null;var l=Ot;return l=ba(t,t===Jt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Cp(t,l,n),Gp(t,_n()),t.callbackNode!=null&&t.callbackNode===a?Fp.bind(null,t):null)}function Yp(t,n){if(Ru())return null;Cp(t,n,!0)}function XE(){rT(function(){(Gt&6)!==0?xr(Bs,QE):qp()})}function vh(){return ga===0&&(ga=qs()),ga}function Qp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ma(""+t)}function Xp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function KE(t,n,a,l,f){if(n==="submit"&&a&&a.stateNode===f){var h=Qp((f[de]||null).action),_=l.submitter;_&&(n=(n=_[de]||null)?Qp(n.formAction):_.getAttribute("formAction"),n!==null&&(h=n,_=null));var T=new Na("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ga!==0){var R=_?Xp(f,_):new FormData(f);zf(a,{pending:!0,data:R,method:f.method,action:h},null,R)}}else typeof h=="function"&&(T.preventDefault(),R=_?Xp(f,_):new FormData(f),zf(a,{pending:!0,data:R,method:f.method,action:h},h,R))},currentTarget:f}]})}}for(var _h=0;_h<nf.length;_h++){var Eh=nf[_h],ZE=Eh.toLowerCase(),WE=Eh[0].toUpperCase()+Eh.slice(1);Un(ZE,"on"+WE)}Un(Cm,"onAnimationEnd"),Un(Dm,"onAnimationIteration"),Un(Vm,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(mE,"onTransitionRun"),Un(gE,"onTransitionStart"),Un(pE,"onTransitionCancel"),Un(Im,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ul));function Kp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==h&&f.isPropagationStopped())break t;h=T,f.currentTarget=z;try{h(f)}catch(G){gu(G)}f.currentTarget=null,h=R}else for(_=0;_<l.length;_++){if(T=l[_],R=T.instance,z=T.currentTarget,T=T.listener,R!==h&&f.isPropagationStopped())break t;h=T,f.currentTarget=z;try{h(f)}catch(G){gu(G)}f.currentTarget=null,h=R}}}}function Vt(t,n){var a=n[Qs];a===void 0&&(a=n[Qs]=new Set);var l=t+"__bubble";a.has(l)||(Zp(n,t,2,!1),a.add(l))}function Th(t,n,a){var l=0;n&&(l|=4),Zp(a,t,l,n)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Ah(t){if(!t[Vu]){t[Vu]=!0,Xs.forEach(function(a){a!=="selectionchange"&&(JE.has(a)||Th(a,!1,t),Th(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Vu]||(n[Vu]=!0,Th("selectionchange",!1,n))}}function Zp(t,n,a,l){switch(Ey(n)){case 2:var f=wT;break;case 8:f=RT;break;default:f=Uh}a=f.bind(null,n,a,t),f=void 0,!Sn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(n,a,{capture:!0,passive:f}):t.addEventListener(n,a,!0):f!==void 0?t.addEventListener(n,a,{passive:f}):t.addEventListener(n,a,!1)}function Sh(t,n,a,l,f){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=l.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=gi(T),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){l=h=_;continue t}T=T.parentNode}}l=l.return}Mo(function(){var z=h,G=An(a),Q=[];t:{var k=Mm.get(t);if(k!==void 0){var H=Na,pt=t;switch(t){case"keypress":if(Kn(a)===0)break t;case"keydown":case"keyup":H=za;break;case"focusin":pt="focus",H=La;break;case"focusout":pt="blur",H=La;break;case"beforeblur":case"afterblur":H=La;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Xc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=ko;break;case Cm:case Dm:case Vm:H=Ua;break;case Im:H=Ho;break;case"scroll":case"scrollend":H=No;break;case"wheel":H=ka;break;case"copy":case"cut":case"paste":H=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=sl;break;case"toggle":case"beforetoggle":H=qo}var mt=(n&4)!==0,Kt=!mt&&(t==="scroll"||t==="scrollend"),x=mt?k!==null?k+"Capture":null:k;mt=[];for(var I=z,P;I!==null;){var F=I;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||x===null||(F=Xr(I,x),F!=null&&mt.push(Pl(I,F,P))),Kt)break;I=I.return}0<mt.length&&(k=new H(k,pt,null,a,G),Q.push({event:k,listeners:mt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",k&&a!==_i&&(pt=a.relatedTarget||a.fromElement)&&(gi(pt)||pt[En]))break t;if((H||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,H?(pt=a.relatedTarget||a.toElement,H=z,pt=pt?gi(pt):null,pt!==null&&(Kt=c(pt),mt=pt.tag,pt!==Kt||mt!==5&&mt!==27&&mt!==6)&&(pt=null)):(H=null,pt=z),H!==pt)){if(mt=bn,F="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(mt=sl,F="onPointerLeave",x="onPointerEnter",I="pointer"),Kt=H==null?k:Fn(H),P=pt==null?k:Fn(pt),k=new mt(F,I+"leave",H,a,G),k.target=Kt,k.relatedTarget=P,F=null,gi(G)===z&&(mt=new mt(x,I+"enter",pt,a,G),mt.target=P,mt.relatedTarget=Kt,F=mt),Kt=F,H&&pt)e:{for(mt=H,x=pt,I=0,P=mt;P;P=cs(P))I++;for(P=0,F=x;F;F=cs(F))P++;for(;0<I-P;)mt=cs(mt),I--;for(;0<P-I;)x=cs(x),P--;for(;I--;){if(mt===x||x!==null&&mt===x.alternate)break e;mt=cs(mt),x=cs(x)}mt=null}else mt=null;H!==null&&Wp(Q,k,H,mt,!1),pt!==null&&Kt!==null&&Wp(Q,Kt,pt,mt,!0)}}t:{if(k=z?Fn(z):window,H=k.nodeName&&k.nodeName.toLowerCase(),H==="select"||H==="input"&&k.type==="file")var lt=pm;else if(Ae(k))if(ym)lt=fE;else{lt=uE;var Ct=oE}else H=k.nodeName,!H||H.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?z&&$s(z.elementType)&&(lt=pm):lt=cE;if(lt&&(lt=lt(t,z))){bi(Q,lt,a,G);break t}Ct&&Ct(t,k,z),t==="focusout"&&z&&k.type==="number"&&z.memoizedProps.value!=null&&Ki(k,"number",k.value)}switch(Ct=z?Fn(z):window,t){case"focusin":(Ae(Ct)||Ct.contentEditable==="true")&&(Ba=Ct,$c=z,ul=null);break;case"focusout":ul=$c=Ba=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,wm(Q,a,G);break;case"selectionchange":if(dE)break;case"keydown":case"keyup":wm(Q,a,G)}var ut;if(Jn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Mt?j(t,a)&&(gt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(v&&a.locale!=="ko"&&(Mt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Mt&&(ut=el()):(Xn=G,Zi="value"in Xn?Xn.value:Xn.textContent,Mt=!0)),Ct=Iu(z,gt),0<Ct.length&&(gt=new rl(gt,t,null,a,G),Q.push({event:gt,listeners:Ct}),ut?gt.data=ut:(ut=tt(a),ut!==null&&(gt.data=ut)))),(ut=m?Te(t,a):Nt(t,a))&&(gt=Iu(z,"onBeforeInput"),0<gt.length&&(Ct=new rl("onBeforeInput","beforeinput",null,a,G),Q.push({event:Ct,listeners:gt}),Ct.data=ut)),KE(Q,t,z,a,G)}Kp(Q,n)})}function Pl(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Iu(t,n){for(var a=n+"Capture",l=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Xr(t,a),f!=null&&l.unshift(Pl(t,f,h)),f=Xr(t,n),f!=null&&l.push(Pl(t,f,h))),t.tag===3)return l;t=t.return}return[]}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Wp(t,n,a,l,f){for(var h=n._reactName,_=[];a!==null&&a!==l;){var T=a,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||z===null||(R=z,f?(z=Xr(a,h),z!=null&&_.unshift(Pl(a,z,R))):f||(z=Xr(a,h),z!=null&&_.push(Pl(a,z,R)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var $E=/\r\n?/g,tT=/\u0000|\uFFFD/g;function Jp(t){return(typeof t=="string"?t:""+t).replace($E,`
`).replace(tT,"")}function $p(t,n){return n=Jp(n),Jp(t)===n}function Mu(){}function Xt(t,n,a,l,f,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&Tn(t,""+l);break;case"className":Yn(t,"class",l);break;case"tabIndex":Yn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,l);break;case"style":Js(t,l,h);break;case"data":if(n!=="object"){Yn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ma(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",f.name,f,null),Xt(t,n,"formEncType",f.formEncType,f,null),Xt(t,n,"formMethod",f.formMethod,f,null),Xt(t,n,"formTarget",f.formTarget,f,null)):(Xt(t,n,"encType",f.encType,f,null),Xt(t,n,"method",f.method,f,null),Xt(t,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ma(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ma(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Xi(t,"popover",l);break;case"xlinkActuate":Le(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Le(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Le(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Le(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Le(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Le(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Le(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Le(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Le(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Xi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yc.get(a)||a,Xi(t,a,l))}}function bh(t,n,a,l,f,h){switch(a){case"style":Js(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Tn(t,l):(typeof l=="number"||typeof l=="bigint")&&Tn(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Mu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),h=t[de]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,f),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,f);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Xi(t,a,l)}}}function ke(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var _=a[h];if(_!=null)switch(h){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,h,_,a,null)}}f&&Xt(t,n,"srcSet",a.srcSet,a,null),l&&Xt(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var T=h=_=f=null,R=null,z=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":f=G;break;case"type":_=G;break;case"checked":R=G;break;case"defaultChecked":z=G;break;case"value":h=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Xt(t,n,l,G,a,null)}}Fr(t,h,T,R,z,_,f,!1),Ia(t);return;case"select":Vt("invalid",t),l=_=h=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":h=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Xt(t,n,f,T,a,null)}n=h,a=_,t.multiple=!!l,n!=null?vi(t,!!l,n,!1):a!=null&&vi(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),h=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":f=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(t,n,_,T,a,null)}Yr(t,l,f,h),Ia(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Xt(t,n,R,l,a,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Ul.length;l++)Vt(Ul[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(l=a[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,z,l,a,null)}return;default:if($s(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&bh(t,n,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Xt(t,n,T,l,a,null))}function eT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,_=null,T=null,R=null,z=null,G=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(H)||Xt(t,n,H,null,l,Q)}}for(var k in l){var H=l[k];if(Q=a[k],l.hasOwnProperty(k)&&(H!=null||Q!=null))switch(k){case"type":h=H;break;case"name":f=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==Q&&Xt(t,n,k,H,l,Q)}}on(t,_,T,R,z,G,h,f);return;case"select":H=_=T=k=null;for(h in a)if(R=a[h],a.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(h)||Xt(t,n,h,null,l,R)}for(f in l)if(h=l[f],R=a[f],l.hasOwnProperty(f)&&(h!=null||R!=null))switch(f){case"value":k=h;break;case"defaultValue":T=h;break;case"multiple":_=h;default:h!==R&&Xt(t,n,f,h,l,R)}n=T,a=_,l=H,k!=null?vi(t,!!a,k,!1):!!l!=!!a&&(n!=null?vi(t,!!a,n,!0):vi(t,!!a,a?[]:"",!1));return;case"textarea":H=k=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(t,n,T,null,l,f)}for(_ in l)if(f=l[_],h=a[_],l.hasOwnProperty(_)&&(f!=null||h!=null))switch(_){case"value":k=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==h&&Xt(t,n,_,f,l,h)}Yt(t,k,H);return;case"option":for(var pt in a)if(k=a[pt],a.hasOwnProperty(pt)&&k!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:Xt(t,n,pt,null,l,k)}for(R in l)if(k=l[R],H=a[R],l.hasOwnProperty(R)&&k!==H&&(k!=null||H!=null))switch(R){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Xt(t,n,R,k,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)k=a[mt],a.hasOwnProperty(mt)&&k!=null&&!l.hasOwnProperty(mt)&&Xt(t,n,mt,null,l,k);for(z in l)if(k=l[z],H=a[z],l.hasOwnProperty(z)&&k!==H&&(k!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Xt(t,n,z,k,l,H)}return;default:if($s(n)){for(var Kt in a)k=a[Kt],a.hasOwnProperty(Kt)&&k!==void 0&&!l.hasOwnProperty(Kt)&&bh(t,n,Kt,void 0,l,k);for(G in l)k=l[G],H=a[G],!l.hasOwnProperty(G)||k===H||k===void 0&&H===void 0||bh(t,n,G,k,l,H);return}}for(var x in a)k=a[x],a.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Xt(t,n,x,null,l,k);for(Q in l)k=l[Q],H=a[Q],!l.hasOwnProperty(Q)||k===H||k==null&&H==null||Xt(t,n,Q,k,l,H)}var wh=null,Rh=null;function Nu(t){return t.nodeType===9?t:t.ownerDocument}function ty(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ey(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Ch(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Dh=null;function nT(){var t=window.event;return t&&t.type==="popstate"?t===Dh?!1:(Dh=t,!0):(Dh=null,!1)}var ny=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,iy=typeof Promise=="function"?Promise:void 0,rT=typeof queueMicrotask=="function"?queueMicrotask:typeof iy<"u"?function(t){return iy.resolve(null).then(t).catch(aT)}:ny;function aT(t){setTimeout(function(){throw t})}function hr(t){return t==="head"}function ry(t,n){var a=n,l=0,f=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&zl(_.documentElement),a&2&&zl(_.body),a&4)for(a=_.head,zl(a),_=a.firstChild;_;){var T=_.nextSibling,R=_.nodeName;_[Hr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(f===0){t.removeChild(h),Yl(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=h}while(a);Yl(n)}function Vh(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Vh(a),Qi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function sT(t,n,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Hr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function lT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Ih(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function oT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Mh=null;function ay(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function sy(t,n,a){switch(n=Nu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function zl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Qi(t)}var Mn=new Map,ly=new Set;function Ou(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=et.d;et.d={f:uT,r:cT,D:fT,C:hT,L:dT,m:mT,X:pT,S:gT,M:yT};function uT(){var t=Pi.f(),n=bu();return t||n}function cT(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?Cg(n):Pi.r(t)}var fs=typeof document>"u"?null:document;function oy(t,n,a){var l=fs;if(l&&typeof n=="string"&&n){var f=me(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),ly.has(f)||(ly.add(f),t={rel:t,crossOrigin:a,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),ke(n,"link",t),ue(n),l.head.appendChild(n)))}}function fT(t){Pi.D(t),oy("dns-prefetch",t,null)}function hT(t,n){Pi.C(t,n),oy("preconnect",t,n)}function dT(t,n,a){Pi.L(t,n,a);var l=fs;if(l&&t&&n){var f='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+me(a.imageSizes)+'"]')):f+='[href="'+me(t)+'"]';var h=f;switch(n){case"style":h=hs(t);break;case"script":h=ds(t)}Mn.has(h)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Mn.set(h,t),l.querySelector(f)!==null||n==="style"&&l.querySelector(kl(h))||n==="script"&&l.querySelector(Bl(h))||(n=l.createElement("link"),ke(n,"link",t),ue(n),l.head.appendChild(n)))}}function mT(t,n){Pi.m(t,n);var a=fs;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+me(l)+'"][href="'+me(t)+'"]',h=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ds(t)}if(!Mn.has(h)&&(t=E({rel:"modulepreload",href:t},n),Mn.set(h,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Bl(h)))return}l=a.createElement("link"),ke(l,"link",t),ue(l),a.head.appendChild(l)}}}function gT(t,n,a){Pi.S(t,n,a);var l=fs;if(l&&t){var f=Ke(l).hoistableStyles,h=hs(t);n=n||"default";var _=f.get(h);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(kl(h)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Mn.get(h))&&Nh(t,a);var R=_=l.createElement("link");ue(R),ke(R,"link",t),R._p=new Promise(function(z,G){R.onload=z,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,xu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(h,_)}}}function pT(t,n){Pi.X(t,n);var a=fs;if(a&&t){var l=Ke(a).hoistableScripts,f=ds(t),h=l.get(f);h||(h=a.querySelector(Bl(f)),h||(t=E({src:t,async:!0},n),(n=Mn.get(f))&&Oh(t,n),h=a.createElement("script"),ue(h),ke(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function yT(t,n){Pi.M(t,n);var a=fs;if(a&&t){var l=Ke(a).hoistableScripts,f=ds(t),h=l.get(f);h||(h=a.querySelector(Bl(f)),h||(t=E({src:t,async:!0,type:"module"},n),(n=Mn.get(f))&&Oh(t,n),h=a.createElement("script"),ue(h),ke(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function uy(t,n,a,l){var f=(f=vt.current)?Ou(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=hs(a.href),a=Ke(f).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=hs(a.href);var h=Ke(f).hoistableStyles,_=h.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,_),(h=f.querySelector(kl(t)))&&!h._p&&(_.instance=h,_.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),h||vT(f,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ds(a),a=Ke(f).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function hs(t){return'href="'+me(t)+'"'}function kl(t){return'link[rel="stylesheet"]['+t+"]"}function cy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function vT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ke(n,"link",a),ue(n),t.head.appendChild(n))}function ds(t){return'[src="'+me(t)+'"]'}function Bl(t){return"script[async]"+t}function fy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+me(a.href)+'"]');if(l)return n.instance=l,ue(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ue(l),ke(l,"style",f),xu(l,a.precedence,t),n.instance=l;case"stylesheet":f=hs(a.href);var h=t.querySelector(kl(f));if(h)return n.state.loading|=4,n.instance=h,ue(h),h;l=cy(a),(f=Mn.get(f))&&Nh(l,f),h=(t.ownerDocument||t).createElement("link"),ue(h);var _=h;return _._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),ke(h,"link",l),n.state.loading|=4,xu(h,a.precedence,t),n.instance=h;case"script":return h=ds(a.src),(f=t.querySelector(Bl(h)))?(n.instance=f,ue(f),f):(l=a,(f=Mn.get(h))&&(l=E({},a),Oh(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),ue(f),ke(f,"link",l),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,xu(l,a.precedence,t));return n.instance}function xu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,h=f,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)h=T;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Nh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Oh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Lu=null;function hy(t,n,a){if(Lu===null){var l=new Map,f=Lu=new Map;f.set(a,l)}else f=Lu,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var h=a[f];if(!(h[Hr]||h[Ee]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(h):l.set(_,[h])}}return l}function dy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function _T(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function my(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Hl=null;function ET(){}function TT(t,n,a){if(Hl===null)throw Error(s(475));var l=Hl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=hs(a.href),h=t.querySelector(kl(f));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Uu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,ue(h);return}h=t.ownerDocument||t,a=cy(a),(f=Mn.get(f))&&Nh(a,f),h=h.createElement("link"),ue(h);var _=h;_._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),ke(h,"link",a),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Uu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function AT(){if(Hl===null)throw Error(s(475));var t=Hl;return t.stylesheets&&t.count===0&&xh(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&xh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Uu(){if(this.count--,this.count===0){if(this.stylesheets)xh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pu=null;function xh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pu=new Map,n.forEach(ST,t),Pu=null,Uu.call(t))}function ST(t,n){if(!(n.state.loading&4)){var a=Pu.get(t);if(a)var l=a.get(null);else{a=new Map,Pu.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var _=f[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=n.instance,_=f.getAttribute("data-precedence"),h=a.get(_)||l,h===l&&a.set(null,f),a.set(_,f),this.count++,l=Uu.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var jl={$$typeof:rt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function bT(t,n,a,l,f,h,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function gy(t,n,a,l,f,h,_,T,R,z,G,Q){return t=new bT(t,n,a,_,T,R,z,Q),n=1,h===!0&&(n|=24),h=cn(3,null,null,n),t.current=h,h.stateNode=t,n=gf(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},_f(h),t}function py(t){return t?(t=Ga,t):Ga}function yy(t,n,a,l,f,h){f=py(f),l.context===null?l.context=f:l.pendingContext=f,l=$i(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=tr(t,l,n),a!==null&&(gn(a,t,n),vl(a,t,n))}function vy(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Lh(t,n){vy(t,n),(t=t.alternate)&&vy(t,n)}function _y(t){if(t.tag===13){var n=qa(t,67108864);n!==null&&gn(n,t,67108864),Lh(t,67108864)}}var zu=!0;function wT(t,n,a,l){var f=q.T;q.T=null;var h=et.p;try{et.p=2,Uh(t,n,a,l)}finally{et.p=h,q.T=f}}function RT(t,n,a,l){var f=q.T;q.T=null;var h=et.p;try{et.p=8,Uh(t,n,a,l)}finally{et.p=h,q.T=f}}function Uh(t,n,a,l){if(zu){var f=Ph(l);if(f===null)Sh(t,n,l,ku,a),Ty(t,l);else if(DT(f,t,n,a,l))l.stopPropagation();else if(Ty(t,l),n&4&&-1<CT.indexOf(t)){for(;f!==null;){var h=Gn(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=On(h.pendingLanes);if(_!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var R=1<<31-qe(_);T.entanglements[1]|=R,_&=~R}ri(h),(Gt&6)===0&&(Au=_n()+500,Ll(0))}}break;case 13:T=qa(h,2),T!==null&&gn(T,h,2),bu(),Lh(h,2)}if(h=Ph(l),h===null&&Sh(t,n,l,ku,a),h===f)break;f=h}f!==null&&l.stopPropagation()}else Sh(t,n,l,null,a)}}function Ph(t){return t=An(t),zh(t)}var ku=null;function zh(t){if(ku=null,t=gi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return ku=t,null}function Ey(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bc()){case Bs:return 2;case Aa:return 8;case Ur:case Hc:return 32;case Sa:return 268435456;default:return 32}default:return 32}}var kh=!1,dr=null,mr=null,gr=null,ql=new Map,Gl=new Map,pr=[],CT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ty(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":ql.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(n.pointerId)}}function Fl(t,n,a,l,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[f]},n!==null&&(n=Gn(n),n!==null&&_y(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function DT(t,n,a,l,f){switch(n){case"focusin":return dr=Fl(dr,t,n,a,l,f),!0;case"dragenter":return mr=Fl(mr,t,n,a,l,f),!0;case"mouseover":return gr=Fl(gr,t,n,a,l,f),!0;case"pointerover":var h=f.pointerId;return ql.set(h,Fl(ql.get(h)||null,t,n,a,l,f)),!0;case"gotpointercapture":return h=f.pointerId,Gl.set(h,Fl(Gl.get(h)||null,t,n,a,l,f)),!0}return!1}function Ay(t){var n=gi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,bo(t.priority,function(){if(a.tag===13){var l=mn();l=Gi(l);var f=qa(a,l);f!==null&&gn(f,a,l),Lh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Ph(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);_i=l,a.target.dispatchEvent(l),_i=null}else return n=Gn(a),n!==null&&_y(n),t.blockedOn=a,!1;n.shift()}return!0}function Sy(t,n,a){Bu(t)&&a.delete(n)}function VT(){kh=!1,dr!==null&&Bu(dr)&&(dr=null),mr!==null&&Bu(mr)&&(mr=null),gr!==null&&Bu(gr)&&(gr=null),ql.forEach(Sy),Gl.forEach(Sy)}function Hu(t,n){t.blockedOn===n&&(t.blockedOn=null,kh||(kh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,VT)))}var ju=null;function by(t){ju!==t&&(ju=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ju===t&&(ju=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],f=t[n+2];if(typeof l!="function"){if(zh(l||a)===null)continue;break}var h=Gn(a);h!==null&&(t.splice(n,3),n-=3,zf(h,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Yl(t){function n(R){return Hu(R,t)}dr!==null&&Hu(dr,t),mr!==null&&Hu(mr,t),gr!==null&&Hu(gr,t),ql.forEach(n),Gl.forEach(n);for(var a=0;a<pr.length;a++){var l=pr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<pr.length&&(a=pr[0],a.blockedOn===null);)Ay(a),a.blockedOn===null&&pr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],h=a[l+1],_=f[de]||null;if(typeof h=="function")_||by(a);else if(_){var T=null;if(h&&h.hasAttribute("formAction")){if(f=h,_=h[de]||null)T=_.formAction;else if(zh(f)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),by(a)}}}function Bh(t){this._internalRoot=t}qu.prototype.render=Bh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=mn();yy(a,l,t,n,null,null)},qu.prototype.unmount=Bh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;yy(t.current,2,null,t,null,null),bu(),n[En]=null}};function qu(t){this._internalRoot=t}qu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Fi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<pr.length&&n!==0&&n<pr[a].priority;a++);pr.splice(a,0,t),a===0&&Ay(t)}};var wy=e.version;if(wy!=="19.1.0")throw Error(s(527,wy,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var IT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Gu.isDisabled&&Gu.supportsFiber)try{se=Gu.inject(IT),qt=Gu}catch{}}return Xl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",f=Hg,h=jg,_=qg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=gy(t,1,!1,null,null,a,l,f,h,_,T,null),t[En]=n.current,Ah(t),new Bh(n)},Xl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,f="",h=Hg,_=jg,T=qg,R=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=gy(t,1,!0,n,a??null,l,f,h,_,T,R,z),n.context=py(null),a=n.current,l=mn(),l=Gi(l),f=$i(l),f.callback=null,tr(a,f,l),a=l,n.current.lanes=a,mi(n,a),ri(n),t[En]=n.current,Ah(t),new qu(n)},Xl.version="19.1.0",Xl}var Ly;function BT(){if(Ly)return qh.exports;Ly=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qh.exports=kT(),qh.exports}var HT=BT();const jT=()=>{};var Uy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},qT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},o_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let D=(g&15)<<2|y>>6,B=y&63;p||(B=64,d||(D=64)),s.push(i[E],i[S],i[D],i[B])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(l_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new GT;const D=c<<2|g>>4;if(s.push(D),y!==64){const B=g<<4&240|y>>2;if(s.push(B),S!==64){const Y=y<<6&192|S;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const FT=function(r){const e=l_(r);return o_.encodeByteArray(e,!0)},sc=function(r){return FT(r).replace(/\./g,"")},YT=function(r){try{return o_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=()=>QT().__FIREBASE_DEFAULTS__,KT=()=>{if(typeof process>"u"||typeof Uy>"u")return;const r=Uy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},ZT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&YT(r[1]);return e&&JSON.parse(e)},Nd=()=>{try{return jT()||XT()||KT()||ZT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},WT=r=>{var e,i;return(i=(e=Nd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},JT=r=>{const e=WT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},u_=()=>{var r;return(r=Nd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[sc(JSON.stringify(i)),sc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nA(){var r;const e=(r=Nd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iA(){return!nA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function rA(){try{return typeof indexedDB=="object"}catch{return!1}}function aA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="FirebaseError";class Os extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=sA,Object.setPrototypeOf(this,Os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,c_.prototype.create)}}class c_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?lA(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Os(o,g,s)}}function lA(r,e){return r.replace(oA,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const oA=/\{\$([^}]+)}/g;function lc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(Py(c)&&Py(d)){if(!lc(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Py(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(r){return r&&r._delegate?r._delegate:r}class no{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new $T;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fA(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cA(r){return r===pa?void 0:r}function fA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new uA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const dA={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},mA=Lt.INFO,gA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},pA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=gA[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class f_{constructor(e){this.name=e,this._logLevel=mA,this._logHandler=pA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const yA=(r,e)=>e.some(i=>r instanceof i);let zy,ky;function vA(){return zy||(zy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _A(){return ky||(ky=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const h_=new WeakMap,ad=new WeakMap,d_=new WeakMap,Qh=new WeakMap,Od=new WeakMap;function EA(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Er(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&h_.set(i,r)}).catch(()=>{}),Od.set(e,r),e}function TA(r){if(ad.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});ad.set(r,e)}let sd={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return ad.get(r);if(e==="objectStoreNames")return r.objectStoreNames||d_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function AA(r){sd=r(sd)}function SA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Xh(this),e,...i);return d_.set(s,e.sort?e.sort():[e]),Er(s)}:_A().includes(r)?function(...e){return r.apply(Xh(this),e),Er(h_.get(this))}:function(...e){return Er(r.apply(Xh(this),e))}}function bA(r){return typeof r=="function"?SA(r):(r instanceof IDBTransaction&&TA(r),yA(r,vA())?new Proxy(r,sd):r)}function Er(r){if(r instanceof IDBRequest)return EA(r);if(Qh.has(r))return Qh.get(r);const e=bA(r);return e!==r&&(Qh.set(r,e),Od.set(e,r)),e}const Xh=r=>Od.get(r);function wA(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=Er(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Er(d.result),p.oldVersion,p.newVersion,Er(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const RA=["get","getKey","getAll","getAllKeys","count"],CA=["put","add","delete","clear"],Kh=new Map;function By(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Kh.get(e))return Kh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=CA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||RA.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return Kh.set(e,c),c}AA(r=>({...r,get:(e,i,s)=>By(e,i)||r.get(e,i,s),has:(e,i)=>!!By(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(VA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function VA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ld="@firebase/app",Hy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new f_("@firebase/app"),IA="@firebase/app-compat",MA="@firebase/analytics-compat",NA="@firebase/analytics",OA="@firebase/app-check-compat",xA="@firebase/app-check",LA="@firebase/auth",UA="@firebase/auth-compat",PA="@firebase/database",zA="@firebase/data-connect",kA="@firebase/database-compat",BA="@firebase/functions",HA="@firebase/functions-compat",jA="@firebase/installations",qA="@firebase/installations-compat",GA="@firebase/messaging",FA="@firebase/messaging-compat",YA="@firebase/performance",QA="@firebase/performance-compat",XA="@firebase/remote-config",KA="@firebase/remote-config-compat",ZA="@firebase/storage",WA="@firebase/storage-compat",JA="@firebase/firestore",$A="@firebase/vertexai",t1="@firebase/firestore-compat",e1="firebase",n1="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="[DEFAULT]",i1={[ld]:"fire-core",[IA]:"fire-core-compat",[NA]:"fire-analytics",[MA]:"fire-analytics-compat",[xA]:"fire-app-check",[OA]:"fire-app-check-compat",[LA]:"fire-auth",[UA]:"fire-auth-compat",[PA]:"fire-rtdb",[zA]:"fire-data-connect",[kA]:"fire-rtdb-compat",[BA]:"fire-fn",[HA]:"fire-fn-compat",[jA]:"fire-iid",[qA]:"fire-iid-compat",[GA]:"fire-fcm",[FA]:"fire-fcm-compat",[YA]:"fire-perf",[QA]:"fire-perf-compat",[XA]:"fire-rc",[KA]:"fire-rc-compat",[ZA]:"fire-gcs",[WA]:"fire-gcs-compat",[JA]:"fire-fst",[t1]:"fire-fst-compat",[$A]:"fire-vertex","fire-js":"fire-js",[e1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc=new Map,r1=new Map,ud=new Map;function jy(r,e){try{r.container.addComponent(e)}catch(i){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function uc(r){const e=r.name;if(ud.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;ud.set(e,r);for(const i of oc.values())jy(i,r);for(const i of r1.values())jy(i,r);return!0}function a1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function s1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new c_("app","Firebase",l1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1=n1;function m_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:od,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw Tr.create("bad-app-name",{appName:String(o)});if(i||(i=u_()),!i)throw Tr.create("no-options");const c=oc.get(o);if(c){if(lc(i,c.options)&&lc(s,c.config))return c;throw Tr.create("duplicate-app",{appName:o})}const d=new hA(o);for(const p of ud.values())d.addComponent(p);const g=new o1(i,s,d);return oc.set(o,g),g}function c1(r=od){const e=oc.get(r);if(!e&&r===od&&u_())return m_();if(!e)throw Tr.create("no-app",{appName:r});return e}function Ss(r,e,i){var s;let o=(s=i1[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(g.join(" "));return}uc(new no(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1="firebase-heartbeat-database",h1=1,io="firebase-heartbeat-store";let Zh=null;function g_(){return Zh||(Zh=wA(f1,h1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(io)}catch(i){console.warn(i)}}}}).catch(r=>{throw Tr.create("idb-open",{originalErrorMessage:r.message})})),Zh}async function d1(r){try{const i=(await g_()).transaction(io),s=await i.objectStore(io).get(p_(r));return await i.done,s}catch(e){if(e instanceof Os)Bi.warn(e.message);else{const i=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(i.message)}}}async function qy(r,e){try{const s=(await g_()).transaction(io,"readwrite");await s.objectStore(io).put(e,p_(r)),await s.done}catch(i){if(i instanceof Os)Bi.warn(i.message);else{const s=Tr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Bi.warn(s.message)}}}function p_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1=1024,g1=30;class p1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new v1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Gy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>g1){const d=_1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Bi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Gy(),{heartbeatsToSend:s,unsentEntries:o}=y1(this._heartbeatsCache.heartbeats),c=sc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Bi.warn(i),""}}}function Gy(){return new Date().toISOString().substring(0,10)}function y1(r,e=m1){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Fy(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Fy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class v1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return rA()?aA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await d1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return qy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return qy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Fy(r){return sc(JSON.stringify({version:2,heartbeats:r})).length}function _1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(r){uc(new no("platform-logger",e=>new DA(e),"PRIVATE")),uc(new no("heartbeat",e=>new p1(e),"PRIVATE")),Ss(ld,Hy,r),Ss(ld,Hy,"esm2017"),Ss("fire-js","")}E1("");var Yy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,y_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function w(){}w.prototype=b.prototype,M.D=b.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(N,O,L){for(var C=Array(arguments.length-2),_e=2;_e<arguments.length;_e++)C[_e-2]=arguments[_e];return b.prototype[O].apply(N,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,b,w){w||(w=0);var N=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)N[O]=b.charCodeAt(w++)|b.charCodeAt(w++)<<8|b.charCodeAt(w++)<<16|b.charCodeAt(w++)<<24;else for(O=0;16>O;++O)N[O]=b[w++]|b[w++]<<8|b[w++]<<16|b[w++]<<24;b=M.g[0],w=M.g[1],O=M.g[2];var L=M.g[3],C=b+(L^w&(O^L))+N[0]+3614090360&4294967295;b=w+(C<<7&4294967295|C>>>25),C=L+(O^b&(w^O))+N[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(w^L&(b^w))+N[2]+606105819&4294967295,O=L+(C<<17&4294967295|C>>>15),C=w+(b^O&(L^b))+N[3]+3250441966&4294967295,w=O+(C<<22&4294967295|C>>>10),C=b+(L^w&(O^L))+N[4]+4118548399&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(O^b&(w^O))+N[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(w^L&(b^w))+N[6]+2821735955&4294967295,O=L+(C<<17&4294967295|C>>>15),C=w+(b^O&(L^b))+N[7]+4249261313&4294967295,w=O+(C<<22&4294967295|C>>>10),C=b+(L^w&(O^L))+N[8]+1770035416&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(O^b&(w^O))+N[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(w^L&(b^w))+N[10]+4294925233&4294967295,O=L+(C<<17&4294967295|C>>>15),C=w+(b^O&(L^b))+N[11]+2304563134&4294967295,w=O+(C<<22&4294967295|C>>>10),C=b+(L^w&(O^L))+N[12]+1804603682&4294967295,b=w+(C<<7&4294967295|C>>>25),C=L+(O^b&(w^O))+N[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=O+(w^L&(b^w))+N[14]+2792965006&4294967295,O=L+(C<<17&4294967295|C>>>15),C=w+(b^O&(L^b))+N[15]+1236535329&4294967295,w=O+(C<<22&4294967295|C>>>10),C=b+(O^L&(w^O))+N[1]+4129170786&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^O&(b^w))+N[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^w&(L^b))+N[11]+643717713&4294967295,O=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(O^L))+N[0]+3921069994&4294967295,w=O+(C<<20&4294967295|C>>>12),C=b+(O^L&(w^O))+N[5]+3593408605&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^O&(b^w))+N[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^w&(L^b))+N[15]+3634488961&4294967295,O=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(O^L))+N[4]+3889429448&4294967295,w=O+(C<<20&4294967295|C>>>12),C=b+(O^L&(w^O))+N[9]+568446438&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^O&(b^w))+N[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^w&(L^b))+N[3]+4107603335&4294967295,O=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(O^L))+N[8]+1163531501&4294967295,w=O+(C<<20&4294967295|C>>>12),C=b+(O^L&(w^O))+N[13]+2850285829&4294967295,b=w+(C<<5&4294967295|C>>>27),C=L+(w^O&(b^w))+N[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=O+(b^w&(L^b))+N[7]+1735328473&4294967295,O=L+(C<<14&4294967295|C>>>18),C=w+(L^b&(O^L))+N[12]+2368359562&4294967295,w=O+(C<<20&4294967295|C>>>12),C=b+(w^O^L)+N[5]+4294588738&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^O)+N[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^w)+N[11]+1839030562&4294967295,O=L+(C<<16&4294967295|C>>>16),C=w+(O^L^b)+N[14]+4259657740&4294967295,w=O+(C<<23&4294967295|C>>>9),C=b+(w^O^L)+N[1]+2763975236&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^O)+N[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^w)+N[7]+4139469664&4294967295,O=L+(C<<16&4294967295|C>>>16),C=w+(O^L^b)+N[10]+3200236656&4294967295,w=O+(C<<23&4294967295|C>>>9),C=b+(w^O^L)+N[13]+681279174&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^O)+N[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^w)+N[3]+3572445317&4294967295,O=L+(C<<16&4294967295|C>>>16),C=w+(O^L^b)+N[6]+76029189&4294967295,w=O+(C<<23&4294967295|C>>>9),C=b+(w^O^L)+N[9]+3654602809&4294967295,b=w+(C<<4&4294967295|C>>>28),C=L+(b^w^O)+N[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=O+(L^b^w)+N[15]+530742520&4294967295,O=L+(C<<16&4294967295|C>>>16),C=w+(O^L^b)+N[2]+3299628645&4294967295,w=O+(C<<23&4294967295|C>>>9),C=b+(O^(w|~L))+N[0]+4096336452&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~O))+N[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~w))+N[14]+2878612391&4294967295,O=L+(C<<15&4294967295|C>>>17),C=w+(L^(O|~b))+N[5]+4237533241&4294967295,w=O+(C<<21&4294967295|C>>>11),C=b+(O^(w|~L))+N[12]+1700485571&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~O))+N[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~w))+N[10]+4293915773&4294967295,O=L+(C<<15&4294967295|C>>>17),C=w+(L^(O|~b))+N[1]+2240044497&4294967295,w=O+(C<<21&4294967295|C>>>11),C=b+(O^(w|~L))+N[8]+1873313359&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~O))+N[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~w))+N[6]+2734768916&4294967295,O=L+(C<<15&4294967295|C>>>17),C=w+(L^(O|~b))+N[13]+1309151649&4294967295,w=O+(C<<21&4294967295|C>>>11),C=b+(O^(w|~L))+N[4]+4149444226&4294967295,b=w+(C<<6&4294967295|C>>>26),C=L+(w^(b|~O))+N[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=O+(b^(L|~w))+N[2]+718787259&4294967295,O=L+(C<<15&4294967295|C>>>17),C=w+(L^(O|~b))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,M.g[2]=M.g[2]+O&4294967295,M.g[3]=M.g[3]+L&4294967295}s.prototype.u=function(M,b){b===void 0&&(b=M.length);for(var w=b-this.blockSize,N=this.B,O=this.h,L=0;L<b;){if(O==0)for(;L<=w;)o(this,M,L),L+=this.blockSize;if(typeof M=="string"){for(;L<b;)if(N[O++]=M.charCodeAt(L++),O==this.blockSize){o(this,N),O=0;break}}else for(;L<b;)if(N[O++]=M[L++],O==this.blockSize){o(this,N),O=0;break}}this.h=O,this.o+=b},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;var w=8*this.o;for(b=M.length-8;b<M.length;++b)M[b]=w&255,w/=256;for(this.u(M),M=Array(16),b=w=0;4>b;++b)for(var N=0;32>N;N+=8)M[w++]=this.g[b]>>>N&255;return M};function c(M,b){var w=g;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=b(M)}function d(M,b){this.h=b;for(var w=[],N=!0,O=M.length-1;0<=O;O--){var L=M[O]|0;N&&L==b||(w[O]=L,N=!1)}this.g=w}var g={};function p(M){return-128<=M&&128>M?c(M,function(b){return new d([b|0],0>b?-1:0)}):new d([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return S;if(0>M)return K(y(-M));for(var b=[],w=1,N=0;M>=w;N++)b[N]=M/w|0,w*=4294967296;return new d(b,0)}function E(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return K(E(M.substring(1),b));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(b,8)),N=S,O=0;O<M.length;O+=8){var L=Math.min(8,M.length-O),C=parseInt(M.substring(O,O+L),b);8>L?(L=y(Math.pow(b,L)),N=N.j(L).add(y(C))):(N=N.j(w),N=N.add(y(C)))}return N}var S=p(0),D=p(1),B=p(16777216);r=d.prototype,r.m=function(){if(J(this))return-K(this).m();for(var M=0,b=1,w=0;w<this.g.length;w++){var N=this.i(w);M+=(0<=N?N:4294967296+N)*b,b*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(Y(this))return"0";if(J(this))return"-"+K(this).toString(M);for(var b=y(Math.pow(M,6)),w=this,N="";;){var O=_t(w,b).g;w=it(w,O.j(b));var L=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=O,Y(w))return L+N;for(;6>L.length;)L="0"+L;N=L+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function Y(M){if(M.h!=0)return!1;for(var b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function J(M){return M.h==-1}r.l=function(M){return M=it(this,M),J(M)?-1:Y(M)?0:1};function K(M){for(var b=M.g.length,w=[],N=0;N<b;N++)w[N]=~M.g[N];return new d(w,~M.h).add(D)}r.abs=function(){return J(this)?K(this):this},r.add=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],N=0,O=0;O<=b;O++){var L=N+(this.i(O)&65535)+(M.i(O)&65535),C=(L>>>16)+(this.i(O)>>>16)+(M.i(O)>>>16);N=C>>>16,L&=65535,C&=65535,w[O]=C<<16|L}return new d(w,w[w.length-1]&-2147483648?-1:0)};function it(M,b){return M.add(K(b))}r.j=function(M){if(Y(this)||Y(M))return S;if(J(this))return J(M)?K(this).j(K(M)):K(K(this).j(M));if(J(M))return K(this.j(K(M)));if(0>this.l(B)&&0>M.l(B))return y(this.m()*M.m());for(var b=this.g.length+M.g.length,w=[],N=0;N<2*b;N++)w[N]=0;for(N=0;N<this.g.length;N++)for(var O=0;O<M.g.length;O++){var L=this.i(N)>>>16,C=this.i(N)&65535,_e=M.i(O)>>>16,ae=M.i(O)&65535;w[2*N+2*O]+=C*ae,st(w,2*N+2*O),w[2*N+2*O+1]+=L*ae,st(w,2*N+2*O+1),w[2*N+2*O+1]+=C*_e,st(w,2*N+2*O+1),w[2*N+2*O+2]+=L*_e,st(w,2*N+2*O+2)}for(N=0;N<b;N++)w[N]=w[2*N+1]<<16|w[2*N];for(N=b;N<2*b;N++)w[N]=0;return new d(w,0)};function st(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function rt(M,b){this.g=M,this.h=b}function _t(M,b){if(Y(b))throw Error("division by zero");if(Y(M))return new rt(S,S);if(J(M))return b=_t(K(M),b),new rt(K(b.g),K(b.h));if(J(b))return b=_t(M,K(b)),new rt(K(b.g),b.h);if(30<M.g.length){if(J(M)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var w=D,N=b;0>=N.l(M);)w=ct(w),N=ct(N);var O=At(w,1),L=At(N,1);for(N=At(N,2),w=At(w,2);!Y(N);){var C=L.add(N);0>=C.l(M)&&(O=O.add(w),L=C),N=At(N,1),w=At(w,1)}return b=it(M,O.j(b)),new rt(O,b)}for(O=S;0<=M.l(b);){for(w=Math.max(1,Math.floor(M.m()/b.m())),N=Math.ceil(Math.log(w)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),L=y(w),C=L.j(b);J(C)||0<C.l(M);)w-=N,L=y(w),C=L.j(b);Y(L)&&(L=D),O=O.add(L),M=it(M,C)}return new rt(O,M)}r.A=function(M){return _t(this,M).h},r.and=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)&M.i(N);return new d(w,this.h&M.h)},r.or=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)|M.i(N);return new d(w,this.h|M.h)},r.xor=function(M){for(var b=Math.max(this.g.length,M.g.length),w=[],N=0;N<b;N++)w[N]=this.i(N)^M.i(N);return new d(w,this.h^M.h)};function ct(M){for(var b=M.g.length+1,w=[],N=0;N<b;N++)w[N]=M.i(N)<<1|M.i(N-1)>>>31;return new d(w,M.h)}function At(M,b){var w=b>>5;b%=32;for(var N=M.g.length-w,O=[],L=0;L<N;L++)O[L]=0<b?M.i(L+w)>>>b|M.i(L+w+1)<<32-b:M.i(L+w);return new d(O,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,y_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Ar=d}).apply(typeof Yy<"u"?Yy:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v_,Kl,__,$u,cd,E_,T_,A_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in v))break t;v=v[U]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var v=0,A=!1,U={next:function(){if(!A&&v<u.length){var j=v++;return{value:m(j,u[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function D(u,m,v){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,D.apply(null,arguments)}function B(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Y(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,U,j){for(var tt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)tt[Mt-2]=arguments[Mt];return m.prototype[U].apply(A,tt)}}function J(u){const m=u.length;if(0<m){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function K(u,m){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const U=u.length||0,j=A.length||0;u.length=U+j;for(let tt=0;tt<j;tt++)u[U+tt]=A[tt]}else u.push(A)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function st(u){return/^[\s\xa0]*$/.test(u)}function rt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function _t(u){return _t[" "](u),u}_t[" "]=function(){};var ct=rt().indexOf("Gecko")!=-1&&!(rt().toLowerCase().indexOf("webkit")!=-1&&rt().indexOf("Edge")==-1)&&!(rt().indexOf("Trident")!=-1||rt().indexOf("MSIE")!=-1)&&rt().indexOf("Edge")==-1;function At(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function M(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function b(u){const m={};for(const v in u)m[v]=u[v];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)u[v]=A[v];for(let j=0;j<w.length;j++)v=w[j],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function O(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function L(u){g.setTimeout(()=>{throw u},0)}function C(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class _e{constructor(){this.h=this.g=null}add(m,v){const A=ae.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ae=new it(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ft=!1,zt=new _e,V=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(W)}};var W=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){L(v)}var m=ae;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u}();function Rt(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ct){t:{try{_t(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}Y(Rt,$);var vt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function jn(u,m,v,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++Wt,this.da=this.fa=!1}function qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hi(u){this.src=u,this.g={},this.h=0}hi.prototype.add=function(u,m,v,A,U){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var tt=xr(u,m,A,U);return-1<tt?(m=u[tt],v||(m.fa=!1)):(m=new jn(m,this.src,j,!!A,U),m.fa=v,u.push(m)),m};function Or(u,m){var v=m.type;if(v in u.g){var A=u.g[v],U=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(A,U,1),j&&(qi(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xr(u,m,v,A){for(var U=0;U<u.length;++U){var j=u[U];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==A)return U}return-1}var Lr="closure_lm_"+(1e6*Math.random()|0),ks={};function To(u,m,v,A,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)To(u,m[j],v,A,U);return null}return v=Ao(v),u&&u[Ce]?u.K(m,v,y(A)?!!A.capture:!1,U):_n(u,m,v,!1,A,U)}function _n(u,m,v,A,U,j){if(!m)throw Error("Invalid event type");var tt=y(U)?!!U.capture:!!U,Mt=Sa(u);if(Mt||(u[Lr]=Mt=new hi(u)),v=Mt.add(m,v,A,tt,j),v.proxy)return v;if(A=Bc(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)dt||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Ur(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Bc(){function u(v){return m.call(u.src,u.listener,v)}const m=Hc;return u}function Bs(u,m,v,A,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Bs(u,m[j],v,A,U);else A=y(A)?!!A.capture:!!A,v=Ao(v),u&&u[Ce]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],v=xr(j,v,A,U),-1<v&&(qi(j[v]),Array.prototype.splice.call(j,v,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Sa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xr(m,v,A,U)),(v=-1<u?m[u]:null)&&Aa(v))}function Aa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])Or(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Ur(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Sa(m))?(Or(v,u),v.h==0&&(v.src=null,m[Lr]=null)):qi(u)}}}function Ur(u){return u in ks?ks[u]:ks[u]="on"+u}function Hc(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var v=u.listener,A=u.ha||u.src;u.fa&&Aa(u),u=v.call(A,m)}return u}function Sa(u){return u=u[Lr],u instanceof hi?u:null}var Hs="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ao(u){return typeof u=="function"?u:(u[Hs]||(u[Hs]=function(m){return u.handleEvent(m)}),u[Hs])}function se(){nt.call(this),this.i=new hi(this),this.M=this,this.F=null}Y(se,nt),se.prototype[Ce]=!0,se.prototype.removeEventListener=function(u,m,v,A){Bs(this,u,m,v,A)};function qt(u,m){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var U=m;m=new $(A,u),N(m,U)}if(U=!0,v)for(var j=v.length-1;0<=j;j--){var tt=m.g=v[j];U=ln(tt,A,!0,m)&&U}if(tt=m.g=u,U=ln(tt,A,!0,m)&&U,U=ln(tt,A,!1,m)&&U,v)for(j=0;j<v.length;j++)tt=m.g=v[j],U=ln(tt,A,!1,m)&&U}se.prototype.N=function(){if(se.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],A=0;A<v.length;A++)qi(v[A]);delete u.g[m],u.h--}}this.F=null},se.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},se.prototype.L=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function ln(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var tt=m[j];if(tt&&!tt.da&&tt.capture==v){var Mt=tt.listener,Te=tt.ha||tt.src;tt.fa&&Or(u.i,tt),U=Mt.call(Te,A)!==!1&&U}}return U&&!A.defaultPrevented}function qe(u,m,v){if(typeof u=="function")v&&(u=D(u,v));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function So(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,So(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class jc extends nt{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:So(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(u){nt.call(this),this.h=u,this.g={}}Y(Pr,nt);var zr=[];function kr(u){At(u.g,function(m,v){this.g.hasOwnProperty(v)&&Aa(m)},u),u.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),kr(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=g.JSON.stringify,ba=g.JSON.parse,Br=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function js(){}js.prototype.h=null;function qs(u){return u.h||(u.h=u.i())}function Gs(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){$.call(this,"d")}Y(mi,$);function Fs(){$.call(this,"c")}Y(Fs,$);var qn={},Ys=null;function Gi(){return Ys=Ys||new se}qn.La="serverreachability";function wa(u){$.call(this,qn.La,u)}Y(wa,$);function Fi(u){const m=Gi();qt(m,new wa(m))}qn.STAT_EVENT="statevent";function bo(u,m){$.call(this,qn.STAT_EVENT,u),this.stat=m}Y(bo,$);function te(u){const m=Gi();qt(m,new bo(m,u))}qn.Ma="timingevent";function Ee(u,m){$.call(this,qn.Ma,u),this.size=m}Y(Ee,$);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function Qs(u,m,v,A,U,j){u.info(function(){if(u.g)if(j)for(var tt="",Mt=j.split("&"),Te=0;Te<Mt.length;Te++){var Nt=Mt[Te].split("=");if(1<Nt.length){var Ve=Nt[0];Nt=Nt[1];var Ae=Ve.split("_");tt=2<=Ae.length&&Ae[1]=="type"?tt+(Ve+"="+Nt+"&"):tt+(Ve+"=redacted&")}}else tt=null;else tt=j;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function qc(u,m,v,A,U,j,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+j+" "+tt})}function Yi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hr(u,v)+(A?" "+A:"")})}function wo(u,m){u.info(function(){return"TIMEOUT: "+m})}En.prototype.info=function(){};function Hr(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var tt=1;tt<U.length;tt++)U[tt]=""}}}}return On(v)}catch{return m}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Fn(){}Y(Fn,js),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},Gn=new Fn;function Ke(u,m,v,A){this.j=u,this.i=m,this.l=v,this.R=A||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var Xs={},Ra={};function xn(u,m,v){u.L=1,u.v=Yr(on(m)),u.m=v,u.P=!0,pi(u,null)}function pi(u,m){u.F=Date.now(),jr(u),u.A=on(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),tl(v.i,"t",A),u.C=0,v=u.j.J,u.h=new ue,u.g=Ho(u.j,v?m:null,!u.m),0<u.O&&(u.M=new jc(D(u.Y,u,u.g),u.O)),m=u.U,v=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(zr[0]=U.toString()),U=zr);for(var j=0;j<U.length;j++){var tt=To(v,U[j],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fi(),Qs(u.i,u.u,u.A,u.l,u.R,u.m)}Ke.prototype.ca=function(u){u=u.target;const m=this.M;m&&bn(u)==3?m.j():this.Y(u)},Ke.prototype.Y=function(u){try{if(u==this.g)t:{const Ae=bn(this.g);var m=this.g.Ba();const bi=this.g.Z();if(!(3>Ae)&&(Ae!=3||this.g&&(this.h.h||this.g.oa()||Oo(this.g)))){this.J||Ae!=4||m==7||(m==8||0>=bi?Fi(3):Fi(2)),Xi(this);var v=this.g.Z();this.X=v;e:if(Ro(this)){var A=Oo(this.g);u="";var U=A.length,j=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),Yn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(j&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=v==200,qc(this.i,this.u,this.A,this.l,this.R,Ae,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Te=this.g;if((Mt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!st(Mt)){var Nt=Mt;break e}}Nt=null}if(v=Nt)Yi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qr(this,v);else{this.o=!1,this.s=3,te(12),Le(this),Yn(this);break t}}if(this.P){v=!0;let Ue;for(;!this.J&&this.C<tt.length;)if(Ue=Co(this,tt),Ue==Ra){Ae==4&&(this.s=4,te(14),v=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Xs){this.s=4,te(15),Yi(this.i,this.l,tt,"[Invalid Chunk]"),v=!1;break}else Yi(this.i,this.l,Ue,null),qr(this,Ue);if(Ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||tt.length!=0||this.h.h||(this.s=1,te(16),v=!1),this.o=this.o&&v,!v)Yi(this.i,this.l,tt,"[Invalid Chunked Response]"),Le(this),Yn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.ba&&!Ve.M&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),ta(Ve),Ve.M=!0,te(11))}}else Yi(this.i,this.l,tt,null),qr(this,tt);Ae==4&&Le(this),this.o&&!this.J&&(Ae==4?zo(this.j,this):(this.o=!1,jr(this)))}else Xc(this.g),v==400&&0<tt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Le(this),Yn(this)}}}catch{}finally{}};function Ro(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Co(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ra:(v=Number(m.substring(v,A)),isNaN(v)?Xs:(A+=1,A+v>m.length?Ra:(m=m.slice(A,A+v),u.C=A+v,m)))}Ke.prototype.cancel=function(){this.J=!0,Le(this)};function jr(u){u.S=Date.now()+u.I,Do(u,u.I)}function Do(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(D(u.ba,u),m)}function Xi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ke.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(wo(this.i,this.A),this.L!=2&&(Fi(),te(17)),Le(this),this.s=2,Yn(this)):Do(this,this.S-u)};function Yn(u){u.j.G==0||u.J||zo(u.j,u)}function Le(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function qr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Ks(v.h,u))){if(!u.K&&Ks(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)za(v),Ua(v);else break t;al(v),te(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=de(D(v.Za,v),6e3));if(1>=Da(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Si(v,11)}else if((u.K||v.g==u)&&za(v),!st(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Nt=U[m];if(v.T=Nt[0],Nt=Nt[1],v.G==2)if(Nt[0]=="c"){v.K=Nt[1],v.ia=Nt[2];const Ve=Nt[3];Ve!=null&&(v.la=Ve,v.j.info("VER="+v.la));const Ae=Nt[4];Ae!=null&&(v.Aa=Ae,v.j.info("SVER="+v.Aa));const bi=Nt[5];bi!=null&&typeof bi=="number"&&0<bi&&(A=1.5*bi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Ue=u.g;if(Ue){const $n=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var j=A.h;j.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Va(j,j.h),j.h=null))}if(A.D){const ll=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;ll&&(A.ya=ll,Yt(A.I,A.D,ll))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var tt=u;if(A.qa=Bo(A,A.J?A.ia:null,A.W),tt.K){Ze(A.h,tt);var Mt=tt,Te=A.L;Te&&(Mt.I=Te),Mt.B&&(Xi(Mt),jr(Mt)),A.g=tt}else Uo(A);0<v.i.length&&Pa(v)}else Nt[0]!="stop"&&Nt[0]!="close"||Si(v,7);else v.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Si(v,7):il(v):Nt[0]!="noop"&&v.l&&v.l.ta(Nt),v.v=0)}}Fi(4)}catch{}}var Vo=class{constructor(u,m){this.g=u,this.map=m}};function yi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ca(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Da(u){return u.h?1:u.g?u.g.size:0}function Ks(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Va(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yi.prototype.cancel=function(){if(this.i=Zs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Zs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return J(u.i)}function Gc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,A=0;A<v;A++)m.push(u[A]);return m}m=[],v=0;for(A in u)m[v++]=u[A];return m}function Ia(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const A in u)m[v++]=A;return m}}}function Ws(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ia(u),A=Gc(u),U=A.length,j=0;j<U;j++)m.call(void 0,A[j],v&&v[j],u)}var Gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fc(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),U=null;if(0<=A){var j=u[v].substring(0,A);U=u[v].substring(A+1)}else j=u[v];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,Fr(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.s),this.l=u.l;var m=u.i,v=new _i;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),vi(this,v),this.m=u.m}else u&&(m=String(u).match(Gr))?(this.h=!1,Fr(this,m[1]||"",!0),this.o=Tn(m[2]||""),this.g=Tn(m[3]||"",!0),Ki(this,m[4]),this.l=Tn(m[5]||"",!0),vi(this,m[6]||"",!0),this.m=Tn(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Qr(m,Js,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Qr(m,Js,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Qr(v,v.charAt(0)=="/"?Yc:$s,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Qr(v,Ma)),u.join("")};function on(u){return new me(u)}function Fr(u,m,v){u.j=v?Tn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function vi(u,m,v){m instanceof _i?(u.i=m,Mo(u.i,u.h)):(v||(m=Qr(m,Qc)),u.i=new _i(m,u.h))}function Yt(u,m,v){u.i.set(m,v)}function Yr(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Tn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Io),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Io(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Js=/[#\/\?@]/g,$s=/[#\?:]/g,Yc=/[#\?]/g,Qc=/[#\?@]/g,Ma=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&Fc(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=_i.prototype,r.add=function(u,m){An(this),this.i=null,u=Qn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Ei(u,m){An(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ti(u,m){return An(u),m=Qn(u,m),u.g.has(m)}r.forEach=function(u,m){An(this),this.g.forEach(function(v,A){v.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){An(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let A=0;A<m.length;A++){const U=u[A];for(let j=0;j<U.length;j++)v.push(m[A])}return v},r.V=function(u){An(this);let m=[];if(typeof u=="string")Ti(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},r.set=function(u,m){return An(this),this.i=null,u=Qn(this,u),Ti(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function tl(u,m,v){Ei(u,m),0<v.length&&(u.i=null,u.g.set(Qn(u,m),J(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var A=m[v];const j=encodeURIComponent(String(A)),tt=this.V(A);for(A=0;A<tt.length;A++){var U=j;tt[A]!==""&&(U+="="+encodeURIComponent(String(tt[A]))),u.push(U)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Mo(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(v,A){var U=A.toLowerCase();A!=U&&(Ei(this,A),tl(this,U,v))},u)),u.j=m}function Xr(u,m){const v=new En;if(g.Image){const A=new Image;A.onload=B(Sn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=B(Sn,v,"TestLoadImage: error",!1,m,A),A.onabort=B(Sn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=B(Sn,v,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Ln(u,m){const v=new En,A=new AbortController,U=setTimeout(()=>{A.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(j=>{clearTimeout(U),j.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Sn(v,"TestPingServer: error",!1,m)})}function Sn(u,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Kr(){this.g=new Br}function Xn(u,m,v){const A=v||"";try{Ws(u,function(U,j){let tt=U;y(U)&&(tt=On(U)),m.push(A+j+"="+encodeURIComponent(tt))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function Zi(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(Zi,js),Zi.prototype.g=function(){return new Ai(this.l,this.j)},Zi.prototype.i=function(u){return function(){return u}}({});function Ai(u,m){se.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(Ai,se),r=Ai.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;el(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function el(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Kn(this):Zn(this),this.readyState==3&&el(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Kn(this))},r.Qa=function(u){this.g&&(this.response=u,Kn(this))},r.ga=function(){this.g&&Kn(this)};function Kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function nl(u){let m="";return At(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function De(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=nl(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Yt(u,m,v))}function Bt(u){se.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Bt,se);var Na=/^https?$/i,Zr=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?qs(this.o):qs(Gn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){No(this,j);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Zr,m,void 0))||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of v)this.g.setRequestHeader(j,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wr(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){No(this,j)}};function No(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Oa(u),Wn(u)}function Oa(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?xa(this):this.bb())},r.bb=function(){xa(this)};function xa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)qe(u.Ea,0,u);else if(qt(u,"readystatechange"),bn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=tt===0){var U=String(u.D).match(Gr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),A=!Na.test(U?U.toLowerCase():"")}v=A}if(v)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var j=2<bn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Oa(u)}}finally{Wn(u)}}}}function Wn(u,m){if(u.g){Wr(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{v.onreadystatechange=A}catch{}}}function Wr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ba(m)}};function Oo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Xc(u){const m={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(st(u[A]))continue;var v=O(u[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[U]||[];m[U]=j,j.push(v)}M(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function La(u){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,u),this.cb=Jr("retryDelaySeedMs",1e4,u),this.Wa=Jr("forwardChannelMaxRetries",2,u),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(u&&u.concurrentRequestLimit),this.Da=new Kr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=La.prototype,r.la=8,r.G=1,r.connect=function(u,m,v,A){te(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Bo(this,null,this.W),Pa(this)};function il(u){if(xo(u),u.G==3){var m=u.U++,v=on(u.I);if(Yt(v,"SID",u.K),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),$r(u,v),m=new Ke(u,u.j,m),m.L=2,m.v=Yr(on(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=Ho(m.j,null),m.g.ea(m.v)),m.F=Date.now(),jr(m)}ko(u)}function Ua(u){u.g&&(ta(u),u.g.cancel(),u.g=null)}function xo(u){Ua(u),u.u&&(g.clearTimeout(u.u),u.u=null),za(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Pa(u){if(!Ca(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||V(),ft||(et(),ft=!0),zt.add(m,u),u.B=0}}function Kc(u,m){return Da(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(D(u.Ga,u,m),sl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ke(this,this.j,u);let j=this.o;if(this.S&&(j?(j=b(j),N(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Lo(this,U,m),v=on(this.I),Yt(v,"RID",u),Yt(v,"CVER",22),this.D&&Yt(v,"X-HTTP-Session-Id",this.D),$r(this,v),j&&(this.O?m="headers="+encodeURIComponent(String(nl(j)))+"&"+m:this.m&&De(v,this.m,j)),Va(this.h,U),this.Ua&&Yt(v,"TYPE","init"),this.P?(Yt(v,"$req",m),Yt(v,"SID","null"),U.T=!0,xn(U,v,null)):xn(U,v,m),this.G=2}}else this.G==3&&(u?rl(this,u):this.i.length==0||Ca(this.h)||rl(this))};function rl(u,m){var v;m?v=m.l:v=u.U++;const A=on(u.I);Yt(A,"SID",u.K),Yt(A,"RID",v),Yt(A,"AID",u.T),$r(u,A),u.m&&u.o&&De(A,u.m,u.o),v=new Ke(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Lo(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Va(u.h,v),xn(v,A,m)}function $r(u,m){u.H&&At(u.H,function(v,A){Yt(m,A,v)}),u.l&&Ws({},function(v,A){Yt(m,A,v)})}function Lo(u,m,v){v=Math.min(u.i.length,v);var A=u.l?D(u.l.Na,u.l,u):null;t:{var U=u.i;let j=-1;for(;;){const tt=["count="+v];j==-1?0<v?(j=U[0].g,tt.push("ofs="+j)):j=0:tt.push("ofs="+j);let Mt=!0;for(let Te=0;Te<v;Te++){let Nt=U[Te].g;const Ve=U[Te].map;if(Nt-=j,0>Nt)j=Math.max(0,U[Te].g-100),Mt=!1;else try{Xn(Ve,tt,"req"+Nt+"_")}catch{A&&A(Ve)}}if(Mt){A=tt.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,A}function Uo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||V(),ft||(et(),ft=!0),zt.add(m,u),u.v=0}}function al(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(D(u.Fa,u),sl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Po(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Ua(this),Po(this))};function ta(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Po(u){u.g=new Ke(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=on(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),$r(u,m),u.m&&u.o&&De(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Yr(on(m)),v.m=null,v.P=!0,pi(v,u)}r.Za=function(){this.C!=null&&(this.C=null,Ua(this),al(this),te(19))};function za(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function zo(u,m){var v=null;if(u.g==m){za(u),ta(u),u.g=null;var A=2}else if(Ks(u.h,m))v=m.D,Ze(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=Gi(),qt(A,new Ee(A,v)),Pa(u)}else Uo(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Kc(u,m)||A==2&&al(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function sl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var v=D(u.fb,u),A=u.Xa;const U=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Fr(A,"https"),Yr(A),U?Xr(A.toString(),v):Ln(A.toString(),v)}else te(2);u.G=0,u.l&&u.l.sa(m),ko(u),xo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function ko(u){if(u.G=0,u.ka=[],u.l){const m=Zs(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ka,m),K(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function Bo(u,m,v){var A=v instanceof me?on(v):new me(v);if(A.g!="")m&&(A.g=m+"."+A.g),Ki(A,A.s);else{var U=g.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new me(null);A&&Fr(j,A),m&&(j.g=m),U&&Ki(j,U),v&&(j.l=v),A=j}return v=u.D,m=u.ya,v&&m&&Yt(A,v,m),Yt(A,"VER",u.la),$r(u,A),A}function Ho(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new Zi({eb:v})):new Bt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function jo(){}r=jo.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ka(){}ka.prototype.g=function(u,m){return new We(u,m)};function We(u,m){se.call(this),this.g=new La(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!st(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!st(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}Y(We,se),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){il(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=On(u),u=v);m.i.push(new Vo(m.Ya++,u)),m.G==3&&Pa(m)},We.prototype.N=function(){this.g.l=null,delete this.j,il(this.g),delete this.g,We.aa.N.call(this)};function qo(u){mi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(qo,mi);function Go(){Fs.call(this),this.status=1}Y(Go,Fs);function Jn(u){this.g=u}Y(Jn,jo),Jn.prototype.ua=function(){qt(this.g,"a")},Jn.prototype.ta=function(u){qt(this.g,new qo(u))},Jn.prototype.sa=function(u){qt(this.g,new Go)},Jn.prototype.ra=function(){qt(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,A_=function(){return new ka},T_=function(){return Gi()},E_=qn,cd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,$u=Qi,gi.COMPLETE="complete",__=gi,Gs.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",se.prototype.listen=se.prototype.K,Kl=Gs,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,v_=Bt}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const Qy="@firebase/firestore",Xy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new f_("@firebase/firestore");function _s(){return va.logLevel}function at(r,...e){if(va.logLevel<=Lt.DEBUG){const i=e.map(xd);va.debug(`Firestore (${xs}): ${r}`,...i)}}function Hi(r,...e){if(va.logLevel<=Lt.ERROR){const i=e.map(xd);va.error(`Firestore (${xs}): ${r}`,...i)}}function ws(r,...e){if(va.logLevel<=Lt.WARN){const i=e.map(xd);va.warn(`Firestore (${xs}): ${r}`,...i)}}function xd(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r="Unexpected state"){const e=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: `+r;throw Hi(e),new Error(e)}function jt(r,e){r||yt()}function Tt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends Os{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class T1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class A1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class S1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Sr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Sr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string"),new S_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string"),new Qe(e)}}class b1{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class w1{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new b1(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ky{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R1{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,s1(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0);const s=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ky(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string"),this.R=i.token,new Ky(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=C1(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function wt(r,e){return r<e?-1:r>e?1:0}function fd(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return wt(s,o);{const c=b_(),d=D1(c.encode(Zy(r,i)),c.encode(Zy(e,i)));return d!==0?d:wt(s,o)}}i+=s>65535?2:1}return wt(r.length,e.length)}function Zy(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function D1(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return wt(r[i],e[i]);return wt(r.length,e.length)}function Rs(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=-62135596800,Jy=1e6;class we{static now(){return we.fromMillis(Date.now())}static fromDate(e){return we.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*Jy);return new we(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Wy)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jy}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Wy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new we(0,0))}static max(){return new Et(new we(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y="__name__";class ai{constructor(e,i,s){i===void 0?i=0:i>e.length&&yt(),s===void 0?s=e.length-i:s>e.length-i&&yt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ai.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return wt(e.length,i.length)}static compareSegments(e,i){const s=ai.isNumericId(e),o=ai.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ai.extractNumericId(e).compare(ai.extractNumericId(i)):fd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class $t extends ai{construct(e,i,s){return new $t(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const V1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends ai{construct(e,i,s){return new He(e,i,s)}static isValidIdentifier(e){return V1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$y}static keyField(){return new He([$y])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht($t.fromString(e))}static fromName(e){return new ht($t.fromString(e).popFirst(5))}static empty(){return new ht($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new $t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ro=-1;function I1(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Et.fromTimestamp(s===1e9?new we(i+1,0):new we(i,s));return new wr(o,ht.empty(),e)}function M1(r){return new wr(r.readTime,r.key,ro)}class wr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new wr(Et.min(),ht.empty(),ro)}static max(){return new wr(Et.max(),ht.empty(),ro)}}function N1(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,e.documentKey),i!==0?i:wt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class x1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ls(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==O1)throw r;at("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,s)=>{i(e)})}static reject(e){return new X((i,s)=>{s(e)})}static waitFor(e){return new X((i,s)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next(o=>o?X.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new X((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(E=>{d[y]=E,++g,g===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new X((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function L1(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Us(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Sc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ld=-1;function bc(r){return r==null}function cc(r){return r===0&&1/r==-1/0}function U1(r){return typeof r=="number"&&Number.isInteger(r)&&!cc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="";function P1(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=tv(e)),e=z1(r.get(i),e);return tv(e)}function z1(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case R_:i+="";break;default:i+=c}}return i}function tv(r){return r+R_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Mr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function C_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new re(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new re(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yu(this.root,e,this.comparator,!0)}}class Yu{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Be.RED,this.left=o??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Be(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Be.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,i,s,o,c){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new re(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(e){return new nv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class nv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new yn([])}unionWith(e){let i=new Re(He.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new yn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return Rs(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new D_("Invalid base64 string: "+c):c}}(e);return new je(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const k1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(r){if(jt(!!r),typeof r=="string"){let e=0;const i=k1.exec(r);if(jt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:he(r.seconds),nanos:he(r.nanos)}}function he(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Cr(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_="server_timestamp",I_="__type__",M_="__previous_value__",N_="__local_write_time__";function Ud(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[I_])===null||i===void 0?void 0:i.stringValue)===V_}function wc(r){const e=r.mapValue.fields[M_];return Ud(e)?wc(e):e}function ao(r){const e=Rr(r.mapValue.fields[N_].timestampValue);return new we(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e,i,s,o,c,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const fc="(default)";class so{constructor(e,i){this.projectId=e,this.database=i||fc}static empty(){return new so("","")}get isDefaultDatabase(){return this.database===fc}isEqual(e){return e instanceof so&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="__type__",H1="__max__",Qu={mapValue:{}},x_="__vector__",hc="value";function Dr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Ud(r)?4:q1(r)?9007199254740991:j1(r)?10:11:yt()}function ui(r,e){if(r===e)return!0;const i=Dr(r);if(i!==Dr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ao(r).isEqual(ao(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Rr(o.timestampValue),g=Rr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Cr(o.bytesValue).isEqual(Cr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return he(o.geoPointValue.latitude)===he(c.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return he(o.integerValue)===he(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=he(o.doubleValue),g=he(c.doubleValue);return d===g?cc(d)===cc(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return Rs(r.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(ev(d)!==ev(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ui(d[p],g[p])))return!1;return!0}(r,e);default:return yt()}}function lo(r,e){return(r.values||[]).find(i=>ui(i,e))!==void 0}function Cs(r,e){if(r===e)return 0;const i=Dr(r),s=Dr(e);if(i!==s)return wt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(r.booleanValue,e.booleanValue);case 2:return function(c,d){const g=he(c.integerValue||c.doubleValue),p=he(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,e);case 3:return iv(r.timestampValue,e.timestampValue);case 4:return iv(ao(r),ao(e));case 5:return fd(r.stringValue,e.stringValue);case 6:return function(c,d){const g=Cr(c),p=Cr(d);return g.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=wt(g[y],p[y]);if(E!==0)return E}return wt(g.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const g=wt(he(c.latitude),he(d.latitude));return g!==0?g:wt(he(c.longitude),he(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return rv(r.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,y,E;const S=c.fields||{},D=d.fields||{},B=(g=S[hc])===null||g===void 0?void 0:g.arrayValue,Y=(p=D[hc])===null||p===void 0?void 0:p.arrayValue,J=wt(((y=B==null?void 0:B.values)===null||y===void 0?void 0:y.length)||0,((E=Y==null?void 0:Y.values)===null||E===void 0?void 0:E.length)||0);return J!==0?J:rv(B,Y)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===Qu.mapValue&&d===Qu.mapValue)return 0;if(c===Qu.mapValue)return 1;if(d===Qu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const D=fd(p[S],E[S]);if(D!==0)return D;const B=Cs(g[p[S]],y[E[S]]);if(B!==0)return B}return wt(p.length,E.length)}(r.mapValue,e.mapValue);default:throw yt()}}function iv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return wt(r,e);const i=Rr(r),s=Rr(e),o=wt(i.seconds,s.seconds);return o!==0?o:wt(i.nanos,s.nanos)}function rv(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Cs(i[o],s[o]);if(c)return c}return wt(i.length,s.length)}function Ds(r){return hd(r)}function hd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Rr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Cr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ht.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=hd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${hd(i.fields[d])}`;return o+"}"}(r.mapValue):yt()}function tc(r){switch(Dr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wc(r);return e?16+tc(e):16;case 5:return 2*r.stringValue.length;case 6:return Cr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+tc(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Mr(s.fields,(c,d)=>{o+=c.length+tc(d)}),o}(r.mapValue);default:throw yt()}}function av(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function dd(r){return!!r&&"integerValue"in r}function Pd(r){return!!r&&"arrayValue"in r}function sv(r){return!!r&&"nullValue"in r}function lv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ec(r){return!!r&&"mapValue"in r}function j1(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[O_])===null||i===void 0?void 0:i.stringValue)===x_}function Jl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Mr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Jl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Jl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function q1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===H1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!ec(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Jl(i)}setAll(e){let i=He.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Jl(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());ec(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];ec(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Mr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new sn(Jl(this.value))}}function L_(r){const e=[];return Mr(r.fields,(i,s)=>{const o=new He([i]);if(ec(s)){const c=L_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Xe(e,0,Et.min(),Et.min(),Et.min(),sn.empty(),0)}static newFoundDocument(e,i,s,o){return new Xe(e,1,i,Et.min(),s,o,0)}static newNoDocument(e,i){return new Xe(e,2,i,Et.min(),Et.min(),sn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Et.min(),Et.min(),sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,i){this.position=e,this.inclusive=i}}function ov(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=Cs(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function uv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ui(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i="asc"){this.field=e,this.dir=i}}function G1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{}class ve extends U_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Y1(e,i,s):i==="array-contains"?new K1(e,s):i==="in"?new Z1(e,s):i==="not-in"?new W1(e,s):i==="array-contains-any"?new J1(e,s):new ve(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new Q1(e,s):new X1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Cs(i,this.value)):i!==null&&Dr(this.value)===Dr(i)&&this.matchesComparison(Cs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends U_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new Bn(e,i)}matches(e){return P_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function P_(r){return r.op==="and"}function z_(r){return F1(r)&&P_(r)}function F1(r){for(const e of r.filters)if(e instanceof Bn)return!1;return!0}function md(r){if(r instanceof ve)return r.field.canonicalString()+r.op.toString()+Ds(r.value);if(z_(r))return r.filters.map(e=>md(e)).join(",");{const e=r.filters.map(i=>md(i)).join(",");return`${r.op}(${e})`}}function k_(r,e){return r instanceof ve?function(s,o){return o instanceof ve&&s.op===o.op&&s.field.isEqual(o.field)&&ui(s.value,o.value)}(r,e):r instanceof Bn?function(s,o){return o instanceof Bn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&k_(d,o.filters[g]),!0):!1}(r,e):void yt()}function B_(r){return r instanceof ve?function(i){return`${i.field.canonicalString()} ${i.op} ${Ds(i.value)}`}(r):r instanceof Bn?function(i){return i.op.toString()+" {"+i.getFilters().map(B_).join(" ,")+"}"}(r):"Filter"}class Y1 extends ve{constructor(e,i,s){super(e,i,s),this.key=ht.fromName(s.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class Q1 extends ve{constructor(e,i){super(e,"in",i),this.keys=H_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class X1 extends ve{constructor(e,i){super(e,"not-in",i),this.keys=H_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function H_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ht.fromName(s.referenceValue))}class K1 extends ve{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Pd(i)&&lo(i.arrayValue,this.value)}}class Z1 extends ve{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&lo(this.value.arrayValue,i)}}class W1 extends ve{constructor(e,i){super(e,"not-in",i)}matches(e){if(lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!lo(this.value.arrayValue,i)}}class J1 extends ve{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Pd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>lo(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function cv(r,e=null,i=[],s=[],o=null,c=null,d=null){return new $1(r,e,i,s,o,c,d)}function zd(r){const e=Tt(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>md(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),bc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Ds(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Ds(s)).join(",")),e.le=i}return e.le}function kd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!G1(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!k_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!uv(r.startAt,e.startAt)&&uv(r.endAt,e.endAt)}function gd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function tS(r,e,i,s,o,c,d,g){return new fo(r,e,i,s,o,c,d,g)}function j_(r){return new fo(r)}function fv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function q_(r){return r.collectionGroup!==null}function $l(r){const e=Tt(r);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(He.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new mc(c,s))}),i.has(He.keyField().canonicalString())||e.he.push(new mc(He.keyField(),s))}return e.he}function si(r){const e=Tt(r);return e.Pe||(e.Pe=eS(e,$l(r))),e.Pe}function eS(r,e){if(r.limitType==="F")return cv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new mc(o.field,c)});const i=r.endAt?new dc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new dc(r.startAt.position,r.startAt.inclusive):null;return cv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function pd(r,e){const i=r.filters.concat([e]);return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function yd(r,e,i){return new fo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Rc(r,e){return kd(si(r),si(e))&&r.limitType===e.limitType}function G_(r){return`${zd(si(r))}|lt:${r.limitType}`}function Es(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>B_(o)).join(", ")}]`),bc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>Ds(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>Ds(o)).join(",")),`Target(${s})`}(si(r))}; limitType=${r.limitType})`}function Cc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of $l(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=ov(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,$l(s),o)||s.endAt&&!function(d,g,p){const y=ov(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,$l(s),o))}(r,e)}function nS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function F_(r){return(e,i)=>{let s=!1;for(const o of $l(r)){const c=iS(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function iS(r,e,i){const s=r.field.isKeyField()?ht.comparator(e.key,i.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Cs(p,y):yt()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return C_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS=new re(ht.comparator);function ji(){return rS}const Y_=new re(ht.comparator);function Zl(...r){let e=Y_;for(const i of r)e=e.insert(i.key,i);return e}function Q_(r){let e=Y_;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ya(){return to()}function X_(){return to()}function to(){return new Ea(r=>r.toString(),(r,e)=>r.isEqual(e))}const aS=new re(ht.comparator),sS=new Re(ht.comparator);function It(...r){let e=sS;for(const i of r)e=e.add(i);return e}const lS=new Re(wt);function oS(){return lS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(e)?"-0":e}}function K_(r){return{integerValue:""+r}}function uS(r,e){return U1(e)?K_(e):Bd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(){this._=void 0}}function cS(r,e,i){return r instanceof gc?function(o,c){const d={fields:{[I_]:{stringValue:V_},[N_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Ud(c)&&(c=wc(c)),c&&(d.fields[M_]=c),{mapValue:d}}(i,e):r instanceof oo?W_(r,e):r instanceof uo?J_(r,e):function(o,c){const d=Z_(o,c),g=hv(d)+hv(o.Ie);return dd(d)&&dd(o.Ie)?K_(g):Bd(o.serializer,g)}(r,e)}function fS(r,e,i){return r instanceof oo?W_(r,e):r instanceof uo?J_(r,e):i}function Z_(r,e){return r instanceof pc?function(s){return dd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class gc extends Dc{}class oo extends Dc{constructor(e){super(),this.elements=e}}function W_(r,e){const i=$_(e);for(const s of r.elements)i.some(o=>ui(o,s))||i.push(s);return{arrayValue:{values:i}}}class uo extends Dc{constructor(e){super(),this.elements=e}}function J_(r,e){let i=$_(e);for(const s of r.elements)i=i.filter(o=>!ui(o,s));return{arrayValue:{values:i}}}class pc extends Dc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function hv(r){return he(r.integerValue||r.doubleValue)}function $_(r){return Pd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function hS(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof oo&&o instanceof oo||s instanceof uo&&o instanceof uo?Rs(s.elements,o.elements,ui):s instanceof pc&&o instanceof pc?ui(s.Ie,o.Ie):s instanceof gc&&o instanceof gc}(r.transform,e.transform)}class dS{constructor(e,i){this.version=e,this.transformResults=i}}class li{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new li}static exists(e){return new li(void 0,e)}static updateTime(e){return new li(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Vc{}function t0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new n0(r.key,li.none()):new ho(r.key,r.data,li.none());{const i=r.data,s=sn.empty();let o=new Re(He.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Nr(r.key,s,new yn(o.toArray()),li.none())}}function mS(r,e,i){r instanceof ho?function(o,c,d){const g=o.value.clone(),p=mv(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Nr?function(o,c,d){if(!nc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=mv(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(e0(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function eo(r,e,i,s){return r instanceof ho?function(c,d,g,p){if(!nc(c.precondition,d))return g;const y=c.value.clone(),E=gv(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,e,i,s):r instanceof Nr?function(c,d,g,p){if(!nc(c.precondition,d))return g;const y=gv(c.fieldTransforms,p,d),E=d.data;return E.setAll(e0(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,e,i,s):function(c,d,g){return nc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function gS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=Z_(s.transform,o||null);c!=null&&(i===null&&(i=sn.empty()),i.set(s.field,c))}return i||null}function dv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Rs(s,o,(c,d)=>hS(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ho extends Vc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Nr extends Vc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function e0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function mv(r,e,i){const s=new Map;jt(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,fS(d,g,i[o]))}return s}function gv(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,cS(c,d,e))}return s}class n0 extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pS extends Vc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&mS(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=eo(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=eo(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=X_();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const p=t0(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&Rs(this.mutations,e.mutations,(i,s)=>dv(i,s))&&Rs(this.baseMutations,e.baseMutations,(i,s)=>dv(i,s))}}class Hd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){jt(e.mutations.length===s.length);let o=function(){return aS}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new Hd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,xt;function ES(r){switch(r){case Z.OK:return yt();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt()}}function i0(r){if(r===void 0)return Hi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case ye.OK:return Z.OK;case ye.CANCELLED:return Z.CANCELLED;case ye.UNKNOWN:return Z.UNKNOWN;case ye.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ye.INTERNAL:return Z.INTERNAL;case ye.UNAVAILABLE:return Z.UNAVAILABLE;case ye.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ye.NOT_FOUND:return Z.NOT_FOUND;case ye.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ye.ABORTED:return Z.ABORTED;case ye.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ye.DATA_LOSS:return Z.DATA_LOSS;default:return yt()}}(xt=ye||(ye={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=new Ar([4294967295,4294967295],0);function pv(r){const e=b_().encode(r),i=new y_;return i.update(e),new Uint8Array(i.digest())}function yv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ar([i,s],0),new Ar([o,c],0)]}class jd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Wl(`Invalid padding: ${i}`);if(s<0)throw new Wl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Wl(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Wl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Ar.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Ar.fromNumber(s)));return o.compare(TS)===1&&(o=new Ar([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=pv(e),[s,o]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new jd(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=pv(e),[s,o]=yv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,mo.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Ic(Et.min(),o,new re(wt),ji(),It())}}class mo{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new mo(s,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class r0{constructor(e,i){this.targetId=e,this.ge=i}}class a0{constructor(e,i,s=je.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class vv{constructor(){this.pe=0,this.ye=_v(),this.we=je.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=It(),i=It(),s=It();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:yt()}}),new mo(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=_v()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class AS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ji(),this.$e=Xu(),this.Ue=Xu(),this.Ke=new re(wt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:yt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(gd(c))if(s===0){const d=new ht(c.path);this.ze(i,d,Xe.newNoDocument(d,Et.min()))}else jt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Cr(s).toUint8Array()}catch(p){if(p instanceof D_)return ws("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new jd(d,o,c)}catch(p){return ws(p instanceof Wl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&gd(g.target)){const p=new ht(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Xe.newNoDocument(p,e))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=It();this.Ue.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new Ic(e,i,this.Ke,this.Qe,s);return this.Qe=ji(),this.$e=Xu(),this.Ue=Xu(),this.Ke=new re(wt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new vv,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Re(wt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Re(wt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||at("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new vv),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Xu(){return new re(ht.comparator)}function _v(){return new re(ht.comparator)}const SS={asc:"ASCENDING",desc:"DESCENDING"},bS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wS={and:"AND",or:"OR"};class RS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function vd(r,e){return r.useProto3Json||bc(e)?e:{value:e}}function yc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function CS(r,e){return yc(r,e.toTimestamp())}function oi(r){return jt(!!r),Et.fromTimestamp(function(i){const s=Rr(i);return new we(s.seconds,s.nanos)}(r))}function qd(r,e){return _d(r,e).canonicalString()}function _d(r,e){const i=function(o){return new $t(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function l0(r){const e=$t.fromString(r);return jt(h0(e)),e}function Ed(r,e){return qd(r.databaseId,e.path)}function Wh(r,e){const i=l0(e);if(i.get(1)!==r.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(u0(i))}function o0(r,e){return qd(r.databaseId,e)}function DS(r){const e=l0(r);return e.length===4?$t.emptyPath():u0(e)}function Td(r){return new $t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function u0(r){return jt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Ev(r,e,i){return{name:Ed(r,e),fields:i.value.mapValue.fields}}function VS(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(jt(E===void 0||typeof E=="string"),je.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),je.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const E=y.code===void 0?Z.UNKNOWN:i0(y.code);return new ot(E,y.message||"")}(d);i=new a0(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Wh(r,s.document.name),c=oi(s.document.updateTime),d=s.document.createTime?oi(s.document.createTime):Et.min(),g=new sn({mapValue:{fields:s.document.fields}}),p=Xe.newFoundDocument(o,c,d,g),y=s.targetIds||[],E=s.removedTargetIds||[];i=new ic(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Wh(r,s.document),c=s.readTime?oi(s.readTime):Et.min(),d=Xe.newNoDocument(o,c),g=s.removedTargetIds||[];i=new ic([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Wh(r,s.document),c=s.removedTargetIds||[];i=new ic([],c,o,null)}else{if(!("filter"in e))return yt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new _S(o,c),g=s.targetId;i=new r0(g,d)}}return i}function IS(r,e){let i;if(e instanceof ho)i={update:Ev(r,e.key,e.value)};else if(e instanceof n0)i={delete:Ed(r,e.key)};else if(e instanceof Nr)i={update:Ev(r,e.key,e.data),updateMask:kS(e.fieldMask)};else{if(!(e instanceof pS))return yt();i={verify:Ed(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof gc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof oo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof pc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw yt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:CS(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt()}(r,e.precondition)),i}function MS(r,e){return r&&r.length>0?(jt(e!==void 0),r.map(i=>function(o,c){let d=o.updateTime?oi(o.updateTime):oi(c);return d.isEqual(Et.min())&&(d=oi(c)),new dS(d,o.transformResults||[])}(i,e))):[]}function NS(r,e){return{documents:[o0(r,e.path)]}}function OS(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=o0(r,o);const c=function(y){if(y.length!==0)return f0(Bn.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(D){return{field:Ts(D.field),direction:US(D.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=vd(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function xS(r){let e=DS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){jt(s===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(S){const D=c0(S);return D instanceof Bn&&z_(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(D=>function(Y){return new mc(As(Y.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(S){let D;return D=typeof S=="object"?S.value:S,bc(D)?null:D}(i.limit));let p=null;i.startAt&&(p=function(S){const D=!!S.before,B=S.values||[];return new dc(B,D)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const D=!S.before,B=S.values||[];return new dc(B,D)}(i.endAt)),tS(e,o,d,c,g,"F",p,y)}function LS(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function c0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=As(i.unaryFilter.field);return ve.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=As(i.unaryFilter.field);return ve.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=As(i.unaryFilter.field);return ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=As(i.unaryFilter.field);return ve.create(d,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(r):r.fieldFilter!==void 0?function(i){return ve.create(As(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Bn.create(i.compositeFilter.filters.map(s=>c0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt()}}(i.compositeFilter.op))}(r):yt()}function US(r){return SS[r]}function PS(r){return bS[r]}function zS(r){return wS[r]}function Ts(r){return{fieldPath:r.canonicalString()}}function As(r){return He.fromServerFormat(r.fieldPath)}function f0(r){return r instanceof ve?function(i){if(i.op==="=="){if(lv(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NAN"}};if(sv(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(lv(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NOT_NAN"}};if(sv(i.value))return{unaryFilter:{field:Ts(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ts(i.field),op:PS(i.op),value:i.value}}}(r):r instanceof Bn?function(i){const s=i.getFilters().map(o=>f0(o));return s.length===1?s[0]:{compositeFilter:{op:zS(i.op),filters:s}}}(r):yt()}function kS(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function h0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,s,o,c=Et.min(),d=Et.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS{constructor(e){this.Tt=e}}function HS(r){const e=xS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?yd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.Tn=new qS}addToCollectionParentIndex(e,i){return this.Tn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(wr.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class qS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Re($t.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Re($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},d0=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(d0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Vs(0)}static Kn(){return new Vs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="LruGarbageCollector",GS=1048576;function Sv([r,e],[i,s]){const o=wt(r,i);return o===0?wt(e,s):o}class FS{constructor(e){this.Hn=e,this.buffer=new Re(Sv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Sv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class YS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){at(Av,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Us(i)?at(Av,"Ignoring IndexedDB error during garbage collection: ",i):await Ls(i)}await this.er(3e5)})}}class QS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Sc.ae);const s=new FS(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Tv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Tv):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,d,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,g=Date.now(),this.removeTargets(e,s,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),_s()<=Lt.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function XS(r,e){return new QS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.changes=new Ea(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&eo(s.mutation,o,yn.empty(),we.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,It()).next(()=>s))}getLocalViewOfDocuments(e,i,s=It()){const o=ya();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=Zl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ya();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,It()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let c=ji();const d=to(),g=function(){return to()}();return i.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Nr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),eo(E.mutation,y,E.mutation.getFieldMask(),we.now())):d.set(y.key,yn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var S;return g.set(y,new ZS(E,(S=d.get(y))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,i){const s=to();let o=new re((d,g)=>d-g),c=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||yn.empty();E=g.applyToLocalView(y,E),s.set(p,E);const S=(o.get(g.batchId)||It()).add(p);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,S=X_();E.forEach(D=>{if(!c.has(D)){const B=t0(i.get(D),s.get(D));B!==null&&S.set(D,B),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return X.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):q_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):X.resolve(ya());let g=ro,p=c;return d.next(y=>X.forEach(y,(E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next(D=>{p=p.insert(E,D)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,It())).next(E=>({batchId:g,changes:Q_(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(s=>{let o=Zl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Zl();return this.indexManager.getCollectionParents(e,c).next(g=>X.forEach(g,p=>{const y=function(S,D){return new fo(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,D)=>{d=d.insert(S,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Xe.newInvalidDocument(E)))});let g=Zl();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&eo(E.mutation,y,yn.empty(),we.now()),Cc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return X.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:oi(o.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:HS(o.bundledQuery),readTime:oi(o.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.overlays=new re(ht.comparator),this.Rr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ya();return X.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),X.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const o=ya(),c=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new re((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ya(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ya(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=o)););return X.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new vS(i,s));let c=this.Rr.get(i);c===void 0&&(c=It(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this.Vr=new Re(xe.mr),this.gr=new Re(xe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new xe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new xe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new ht(new $t([])),s=new xe(i,e),o=new xe(i,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ht(new $t([])),s=new xe(i,e),o=new xe(i,e+1);let c=It();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new xe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ht.comparator(e.key,i.key)||wt(e.Cr,i.Cr)}static pr(e,i){return wt(e.Cr,i.Cr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(xe.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new yS(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new xe(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ld:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),o=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);c.push(g)}),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(wt);return i.forEach(o=>{const c=new xe(o,0),d=new xe(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),X.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const d=new xe(new ht(c),0);let g=new Re(wt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},d),X.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){jt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return X.forEach(i.mutations,o=>{const c=new xe(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new xe(i,0),o=this.Mr.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.kr=e,this.docs=function(){return new re(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=ji();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Xe.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=ji();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||N1(M1(E),s)<=0||(o.has(E.key)||Cc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,s,o){yt()}qr(e,i){return X.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new ib(this)}getSize(e){return X.resolve(this.size)}}class ib extends KS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),X.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.persistence=e,this.Qr=new Ea(i=>zd(i),kd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Gd,this.targetCount=0,this.Kr=Vs.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),X.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Vs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.zn(i),X.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),X.waitFor(c).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Sc(0),this.zr=!1,this.zr=!0,this.jr=new tb,this.referenceDelegate=e(this),this.Hr=new rb(this),this.indexManager=new jS,this.remoteDocumentCache=function(o){return new nb(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new BS(i),this.Yr=new JS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new $S,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new eb(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){at("MemoryPersistence","Starting transaction:",e);const o=new ab(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return X.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class ab extends x1{constructor(e){super(),this.currentSequenceNumber=e}}class Fd{constructor(e){this.persistence=e,this.ti=new Gd,this.ni=null}static ri(e){return new Fd(e)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),X.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,s=>{const o=ht.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return X.or([()=>X.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class vc{constructor(e,i){this.persistence=e,this.oi=new Ea(s=>P1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=XS(this,i)}static ri(e,i){return new vc(e,i)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return X.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?X.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,c.removeEntry(d,Et.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=tc(e.data.value)),i}ar(e,i,s){return X.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=It(),o=It();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Yd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return iA()?8:L1(eA())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new sb;return this._s(e,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(_s()<=Lt.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Es(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(_s()<=Lt.DEBUG&&at("QueryEngine","Query:",Es(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(_s()<=Lt.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Es(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(i))):X.resolve())}rs(e,i){if(fv(i))return X.resolve(null);let s=si(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=yd(i,null,"F"),s=si(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=It(...c);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(e,yd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return fv(i)||o.isEqual(Et.min())?X.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?X.resolve(null):(_s()<=Lt.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Es(i)),this.hs(e,d,i,I1(o,ro)).next(g=>g))})}cs(e,i){let s=new Re(F_(e));return i.forEach((o,c)=>{Cc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return _s()<=Lt.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Es(i)),this.ns.getDocumentsMatchingQuery(e,i,wr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qd="LocalStore",ob=3e8;class ub{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new re(wt),this.Is=new Ea(c=>zd(c),kd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new WS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function cb(r,e,i,s){return new ub(r,e,i,s)}async function g0(r,e){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=It();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function fb(r,e){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const S=y.batch,D=S.keys();let B=X.resolve();return D.forEach(Y=>{B=B.next(()=>E.getEntry(p,Y)).next(J=>{const K=y.docVersions.get(Y);jt(K!==null),J.version.compareTo(K)<0&&(S.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))})}),B.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=It();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function p0(r){const e=Tt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function hb(r,e){const i=Tt(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((E,S)=>{const D=o.get(S);if(!D)return;g.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,S)));let B=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,s)),o=o.insert(S,B),function(J,K,it){return J.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=ob?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0}(D,B,E)&&g.push(i.Hr.updateTargetData(c,B))});let p=ji(),y=It();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(db(c,d,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Et.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(E)}return X.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function db(r,e,i){let s=It(),o=It();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=ji();return i.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(Et.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):at(Qd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function mb(r,e){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ld),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function gb(r,e){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,X.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new _r(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Ad(r,e,i){const s=Tt(r),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Us(d))throw d;at(Qd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function bv(r,e,i){const s=Tt(r);let o=Et.min(),c=It();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const S=Tt(p),D=S.Is.get(E);return D!==void 0?X.resolve(S.Ts.get(D)):S.Hr.getTargetData(y,E)}(s,d,si(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:Et.min(),i?c:It())).next(g=>(pb(s,nS(e),g),{documents:g,gs:c})))}function pb(r,e,i){let s=r.Es.get(e)||Et.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class wv{constructor(){this.activeTargetIds=oS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class yb{constructor(){this.ho=new wv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new wv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="ConnectivityMonitor";class Cv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){at(Rv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){at(Rv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ku=null;function Sd(){return Ku===null?Ku=function(){return 268435456+Math.round(2147483648*Math.random())}():Ku++,"0x"+Ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="RestConnection",_b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Eb{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===fc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const d=Sd(),g=this.bo(e,i.toUriEncodedString());at(Jh,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,g,p,s).then(y=>(at(Jh,`Received RPC '${e}' ${d}: `,y),y),y=>{throw ws(Jh,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(e,i,s,o,c,d){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=_b[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class Ab extends Eb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=Sd();return new Promise((d,g)=>{const p=new v_;p.setWithCredentials(!0),p.listenOnce(__.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case $u.NO_ERROR:const E=p.getResponseJson();at(Ye,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case $u.TIMEOUT:at(Ye,`RPC '${e}' ${c} timed out`),g(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case $u.HTTP_ERROR:const S=p.getStatus();if(at(Ye,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const B=D==null?void 0:D.error;if(B&&B.status&&B.message){const Y=function(K){const it=K.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(it)>=0?it:Z.UNKNOWN}(B.status);g(new ot(Y,B.message))}else g(new ot(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{at(Ye,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);at(Ye,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=Sd(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=A_(),g=T_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");at(Ye,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=d.createWebChannel(E,p);let D=!1,B=!1;const Y=new Tb({Fo:K=>{B?at(Ye,`Not sending because RPC '${e}' stream ${o} is closed:`,K):(D||(at(Ye,`Opening RPC '${e}' stream ${o} transport.`),S.open(),D=!0),at(Ye,`RPC '${e}' stream ${o} sending:`,K),S.send(K))},Mo:()=>S.close()}),J=(K,it,st)=>{K.listen(it,rt=>{try{st(rt)}catch(_t){setTimeout(()=>{throw _t},0)}})};return J(S,Kl.EventType.OPEN,()=>{B||(at(Ye,`RPC '${e}' stream ${o} transport opened.`),Y.Qo())}),J(S,Kl.EventType.CLOSE,()=>{B||(B=!0,at(Ye,`RPC '${e}' stream ${o} transport closed`),Y.Uo())}),J(S,Kl.EventType.ERROR,K=>{B||(B=!0,ws(Ye,`RPC '${e}' stream ${o} transport errored:`,K),Y.Uo(new ot(Z.UNAVAILABLE,"The operation could not be completed")))}),J(S,Kl.EventType.MESSAGE,K=>{var it;if(!B){const st=K.data[0];jt(!!st);const rt=st,_t=(rt==null?void 0:rt.error)||((it=rt[0])===null||it===void 0?void 0:it.error);if(_t){at(Ye,`RPC '${e}' stream ${o} received error:`,_t);const ct=_t.status;let At=function(w){const N=ye[w];if(N!==void 0)return i0(N)}(ct),M=_t.message;At===void 0&&(At=Z.INTERNAL,M="Unknown error status: "+ct+" with message "+_t.message),B=!0,Y.Uo(new ot(At,M)),S.close()}else at(Ye,`RPC '${e}' stream ${o} received:`,st),Y.Ko(st)}}),J(g,E_.STAT_EVENT,K=>{K.stat===cd.PROXY?at(Ye,`RPC '${e}' stream ${o} detected buffering proxy`):K.stat===cd.NOPROXY&&at(Ye,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Y.$o()},0),Y}}function $h(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(r){return new RS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&at("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="PersistentStream";class v0{constructor(e,i,s,o,c,d,g,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new y0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Hi(i.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new ot(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return at(Dv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(at(Dv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sb extends v0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=VS(this.serializer,e),s=function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?oi(d.readTime):Et.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Td(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=gd(p)?{documents:NS(c,p)}:{query:OS(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=s0(c,d.resumeToken);const y=vd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=yc(c,d.snapshotVersion.toTimestamp());const y=vd(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=LS(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Td(this.serializer),i.removeTarget=e,this.I_(i)}}class bb extends v0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return jt(!!e.streamToken),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=MS(e.writeResults,e.commitTime),s=oi(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Td(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>IS(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{}class Rb extends wb{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,_d(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(Z.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,_d(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(Z.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Cb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Hi(i),this.N_=!1):at("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class Db{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Ta(this)&&(at(_a,"Restarting streams for network reachability change."),await async function(p){const y=Tt(p);y.W_.add(4),await go(y),y.j_.set("Unknown"),y.W_.delete(4),await Nc(y)}(this))})}),this.j_=new Cb(s,o)}}async function Nc(r){if(Ta(r))for(const e of r.G_)await e(!0)}async function go(r){for(const e of r.G_)await e(!1)}function _0(r,e){const i=Tt(r);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),Wd(i)?Zd(i):Ps(i).c_()&&Kd(i,e))}function Xd(r,e){const i=Tt(r),s=Ps(i);i.K_.delete(e),s.c_()&&E0(i,e),i.K_.size===0&&(s.c_()?s.P_():Ta(i)&&i.j_.set("Unknown"))}function Kd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ps(r).y_(e)}function E0(r,e){r.H_.Ne(e),Ps(r).w_(e)}function Zd(r){r.H_=new AS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ps(r).start(),r.j_.B_()}function Wd(r){return Ta(r)&&!Ps(r).u_()&&r.K_.size>0}function Ta(r){return Tt(r).W_.size===0}function T0(r){r.H_=void 0}async function Vb(r){r.j_.set("Online")}async function Ib(r){r.K_.forEach((e,i)=>{Kd(r,e)})}async function Mb(r,e){T0(r),Wd(r)?(r.j_.q_(e),Zd(r)):r.j_.set("Unknown")}async function Nb(r,e,i){if(r.j_.set("Online"),e instanceof a0&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(r,e)}catch(s){at(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await _c(r,s)}else if(e instanceof ic?r.H_.We(e):e instanceof r0?r.H_.Ze(e):r.H_.je(e),!i.isEqual(Et.min()))try{const s=await p0(r.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const E=c.K_.get(p);if(!E)return;c.K_.set(p,E.withResumeToken(je.EMPTY_BYTE_STRING,E.snapshotVersion)),E0(c,p);const S=new _r(E.target,p,y,E.sequenceNumber);Kd(c,S)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){at(_a,"Failed to raise snapshot:",s),await _c(r,s)}}async function _c(r,e,i){if(!Us(e))throw e;r.W_.add(1),await go(r),r.j_.set("Offline"),i||(i=()=>p0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{at(_a,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Nc(r)})}function A0(r,e){return e().catch(i=>_c(r,i,e))}async function Oc(r){const e=Tt(r),i=Vr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ld;for(;Ob(e);)try{const o=await mb(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,xb(e,o)}catch(o){await _c(e,o)}S0(e)&&b0(e)}function Ob(r){return Ta(r)&&r.U_.length<10}function xb(r,e){r.U_.push(e);const i=Vr(r);i.c_()&&i.S_&&i.b_(e.mutations)}function S0(r){return Ta(r)&&!Vr(r).u_()&&r.U_.length>0}function b0(r){Vr(r).start()}async function Lb(r){Vr(r).C_()}async function Ub(r){const e=Vr(r);for(const i of r.U_)e.b_(i.mutations)}async function Pb(r,e,i){const s=r.U_.shift(),o=Hd.from(s,e,i);await A0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Oc(r)}async function zb(r,e){e&&Vr(r).S_&&await async function(s,o){if(function(d){return ES(d)&&d!==Z.ABORTED}(o.code)){const c=s.U_.shift();Vr(s).h_(),await A0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Oc(s)}}(r,e),S0(r)&&b0(r)}async function Vv(r,e){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),at(_a,"RemoteStore received new credentials");const s=Ta(i);i.W_.add(3),await go(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Nc(i)}async function kb(r,e){const i=Tt(r);e?(i.W_.delete(2),await Nc(i)):e||(i.W_.add(2),await go(i),i.j_.set("Unknown"))}function Ps(r){return r.J_||(r.J_=function(i,s,o){const c=Tt(i);return c.M_(),new Sb(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:Vb.bind(null,r),No:Ib.bind(null,r),Lo:Mb.bind(null,r),p_:Nb.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Wd(r)?Zd(r):r.j_.set("Unknown")):(await r.J_.stop(),T0(r))})),r.J_}function Vr(r){return r.Y_||(r.Y_=function(i,s,o){const c=Tt(i);return c.M_(),new bb(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Lb.bind(null,r),Lo:zb.bind(null,r),D_:Ub.bind(null,r),v_:Pb.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Oc(r)):(await r.Y_.stop(),r.U_.length>0&&(at(_a,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new Jd(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $d(r,e){if(Hi("AsyncQueue",`${e}: ${r}`),Us(r))return new ot(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{static emptySet(e){return new bs(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=Zl(),this.sortedSet=new re(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof bs)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new bs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.Z_=new re(ht.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):yt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Is{constructor(e,i,s,o,c,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Is(e,i,bs.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Hb{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=Tt(i),c=o.queries;o.queries=Mv(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function Mv(){return new Ea(r=>G_(r),Rc)}async function jb(r,e){const i=Tt(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new Bb,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=$d(d,`Initialization of query '${Es(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&tm(i)}async function qb(r,e){const i=Tt(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Gb(r,e){const i=Tt(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&tm(i)}function Fb(r,e,i){const s=Tt(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function tm(r){r.ia.forEach(e=>{e.next()})}var bd,Nv;(Nv=bd||(bd={}))._a="default",Nv.Cache="cache";class Yb{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Is(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Is.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==bd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e){this.key=e}}class R0{constructor(e){this.key=e}}class Qb{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=It(),this.mutatedKeys=It(),this.ya=F_(e),this.wa=new bs(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new Iv,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const D=o.get(E),B=Cc(this.query,S)?S:null,Y=!!D&&this.mutatedKeys.has(D.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let K=!1;D&&B?D.data.isEqual(B.data)?Y!==J&&(s.track({type:3,doc:B}),K=!0):this.va(D,B)||(s.track({type:2,doc:B}),K=!0,(p&&this.ya(B,p)>0||y&&this.ya(B,y)<0)&&(g=!0)):!D&&B?(s.track({type:0,doc:B}),K=!0):D&&!B&&(s.track({type:1,doc:D}),K=!0,(p||y)&&(g=!0)),K&&(B?(d=d.add(B),c=J?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((E,S)=>function(B,Y){const J=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return J(B)-J(Y)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Is(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Iv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=It(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new R0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new w0(s))}),i}Oa(e){this.fa=e.gs,this.pa=It();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Is.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const em="SyncEngine";class Xb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Kb{constructor(e){this.key=e,this.Ba=!1}}class Zb{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ea(g=>G_(g),Rc),this.qa=new Map,this.Qa=new Set,this.$a=new re(ht.comparator),this.Ua=new Map,this.Ka=new Gd,this.Wa={},this.Ga=new Map,this.za=Vs.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Wb(r,e,i=!0){const s=N0(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await C0(s,e,i,!0),o}async function Jb(r,e){const i=N0(r);await C0(i,e,!0,!1)}async function C0(r,e,i,s){const o=await gb(r.localStore,si(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await $b(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&_0(r.remoteStore,o),g}async function $b(r,e,i,s,o){r.Ha=(S,D,B)=>async function(J,K,it,st){let rt=K.view.ba(it);rt.ls&&(rt=await bv(J.localStore,K.query,!1).then(({documents:M})=>K.view.ba(M,rt)));const _t=st&&st.targetChanges.get(K.targetId),ct=st&&st.targetMismatches.get(K.targetId)!=null,At=K.view.applyChanges(rt,J.isPrimaryClient,_t,ct);return xv(J,K.targetId,At.Ma),At.snapshot}(r,S,D,B);const c=await bv(r.localStore,e,!0),d=new Qb(e,c.gs),g=d.ba(c.documents),p=mo.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,p);xv(r,i,y.Ma);const E=new Xb(e,i,d);return r.ka.set(e,E),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),y.snapshot}async function t2(r,e,i){const s=Tt(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!Rc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Ad(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Xd(s.remoteStore,o.targetId),wd(s,o.targetId)}).catch(Ls)):(wd(s,o.targetId),await Ad(s.localStore,o.targetId,!0))}async function e2(r,e){const i=Tt(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Xd(i.remoteStore,s.targetId))}async function n2(r,e,i){const s=u2(r);try{const o=await function(d,g){const p=Tt(d),y=we.now(),E=g.reduce((B,Y)=>B.add(Y.key),It());let S,D;return p.persistence.runTransaction("Locally write mutations","readwrite",B=>{let Y=ji(),J=It();return p.ds.getEntries(B,E).next(K=>{Y=K,Y.forEach((it,st)=>{st.isValidDocument()||(J=J.add(it))})}).next(()=>p.localDocuments.getOverlayedDocuments(B,Y)).next(K=>{S=K;const it=[];for(const st of g){const rt=gS(st,S.get(st.key).overlayedDocument);rt!=null&&it.push(new Nr(st.key,rt,L_(rt.value.mapValue),li.exists(!0)))}return p.mutationQueue.addMutationBatch(B,y,it,g)}).next(K=>{D=K;const it=K.applyToLocalDocumentSet(S,J);return p.documentOverlayCache.saveOverlays(B,K.batchId,it)})}).then(()=>({batchId:D.batchId,changes:Q_(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new re(wt)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await po(s,o.changes),await Oc(s.remoteStore)}catch(o){const c=$d(o,"Failed to persist write");i.reject(c)}}async function D0(r,e){const i=Tt(r);try{const s=await hb(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Ua.get(c);d&&(jt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?jt(d.Ba):o.removedDocuments.size>0&&(jt(d.Ba),d.Ba=!1))}),await po(i,s,e)}catch(s){await Ls(s)}}function Ov(r,e,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=Tt(d);p.onlineState=g;let y=!1;p.queries.forEach((E,S)=>{for(const D of S.ta)D.sa(g)&&(y=!0)}),y&&tm(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function i2(r,e,i){const s=Tt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),c=o&&o.key;if(c){let d=new re(ht.comparator);d=d.insert(c,Xe.newNoDocument(c,Et.min()));const g=It().add(c),p=new Ic(Et.min(),new Map,new re(wt),d,g);await D0(s,p),s.$a=s.$a.remove(c),s.Ua.delete(e),nm(s)}else await Ad(s.localStore,e,!1).then(()=>wd(s,e,i)).catch(Ls)}async function r2(r,e){const i=Tt(r),s=e.batch.batchId;try{const o=await fb(i.localStore,e);I0(i,s,null),V0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await po(i,o)}catch(o){await Ls(o)}}async function a2(r,e,i){const s=Tt(r);try{const o=await function(d,g){const p=Tt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(S=>(jt(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);I0(s,e,i),V0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await po(s,o)}catch(o){await Ls(o)}}function V0(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function I0(r,e,i){const s=Tt(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function wd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||M0(r,s)})}function M0(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(Xd(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ua.delete(i),nm(r))}function xv(r,e,i){for(const s of i)s instanceof w0?(r.Ka.addReference(s.key,e),s2(r,s)):s instanceof R0?(at(em,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||M0(r,s.key)):yt()}function s2(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(at(em,"New document in limbo: "+i),r.Qa.add(s),nm(r))}function nm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new ht($t.fromString(e)),s=r.za.next();r.Ua.set(s,new Kb(i)),r.$a=r.$a.insert(i,s),_0(r.remoteStore,new _r(si(j_(i.path)),s,"TargetPurposeLimboResolution",Sc.ae))}}async function po(r,e,i){const s=Tt(r),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,e,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Yd.Yi(p.targetId,y);c.push(S)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const E=Tt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>X.forEach(y,D=>X.forEach(D.Hi,B=>E.persistence.referenceDelegate.addReference(S,D.targetId,B)).next(()=>X.forEach(D.Ji,B=>E.persistence.referenceDelegate.removeReference(S,D.targetId,B)))))}catch(S){if(!Us(S))throw S;at(Qd,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const B=E.Ts.get(D),Y=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion(Y);E.Ts=E.Ts.insert(D,J)}}}(s.localStore,c))}async function l2(r,e){const i=Tt(r);if(!i.currentUser.isEqual(e)){at(em,"User change. New user:",e.toKey());const s=await g0(i.localStore,e);i.currentUser=e,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new ot(Z.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await po(i,s.Rs)}}function o2(r,e){const i=Tt(r),s=i.Ua.get(e);if(s&&s.Ba)return It().add(s.key);{let o=It();const c=i.qa.get(e);if(!c)return o;for(const d of c){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function N0(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=D0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=o2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i2.bind(null,e),e.La.p_=Gb.bind(null,e.eventManager),e.La.Ja=Fb.bind(null,e.eventManager),e}function u2(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=r2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=a2.bind(null,e),e}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Mc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return cb(this.persistence,new lb,e.initialUser,this.serializer)}Xa(e){return new m0(Fd.ri,this.serializer)}Za(e){return new yb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class c2 extends Ec{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){jt(this.persistence.referenceDelegate instanceof vc);const s=this.persistence.referenceDelegate.garbageCollector;return new YS(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new m0(s=>vc.ri(s,i),this.serializer)}}class Rd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Ov(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,this.syncEngine),await kb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Hb}()}createDatastore(e){const i=Mc(e.databaseInfo.databaseId),s=function(c){return new Ab(c)}(e.databaseInfo);return function(c,d,g,p){return new Rb(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,g){return new Db(s,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Ov(this.syncEngine,i,0),function(){return Cv.D()?new Cv:new vb}())}createSyncEngine(e,i){return function(o,c,d,g,p,y,E){const S=new Zb(o,c,d,g,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=Tt(o);at(_a,"RemoteStore shutting down."),c.W_.add(5),await go(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Rd.provider={build:()=>new Rd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="FirestoreClient";class h2{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=w_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{at(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(at(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=$d(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function td(r,e){r.asyncQueue.verifyOperationInProgress(),at(Ir,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await g0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Lv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await d2(r);at(Ir,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>Vv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Vv(e.remoteStore,o)),r._onlineComponents=e}async function d2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(Ir,"Using user provided OfflineComponentProvider");try{await td(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;ws("Error using user provided cache. Falling back to memory cache: "+i),await td(r,new Ec)}}else at(Ir,"Using default OfflineComponentProvider"),await td(r,new c2(void 0));return r._offlineComponents}async function O0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(Ir,"Using user provided OnlineComponentProvider"),await Lv(r,r._uninitializedComponentsProvider._online)):(at(Ir,"Using default OnlineComponentProvider"),await Lv(r,new Rd))),r._onlineComponents}function m2(r){return O0(r).then(e=>e.syncEngine)}async function g2(r){const e=await O0(r),i=e.eventManager;return i.onListen=Wb.bind(null,e.syncEngine),i.onUnlisten=t2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Jb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=e2.bind(null,e.syncEngine),i}function p2(r,e,i={}){const s=new Sr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const E=new f2({next:D=>{E.su(),d.enqueueAndForget(()=>qb(c,S)),D.fromCache&&p.source==="server"?y.reject(new ot(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new Yb(g,E,{includeMetadataChanges:!0,Ta:!0});return jb(c,S)}(await g2(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r,e,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function y2(r,e,i,s){if(e===!0&&s===!0)throw new ot(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Pv(r){if(!ht.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function zv(r){if(ht.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function xc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yt()}function Ms(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xc(r);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="firestore.googleapis.com",kv=!0;class Bv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=U0,this.ssl=kv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:kv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=d0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<GS)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}y2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new T1;switch(s.type){case"firstParty":return new w1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=Uv.get(i);s&&(at("ComponentProvider","Removing Datastore"),Uv.delete(i),s.terminate())}(this),Promise.resolve()}}function v2(r,e,i,s={}){var o;const c=(r=Ms(r,Lc))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${i}`;c.host!==U0&&c.host!==g&&ws("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!lc(p,d)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Qe.MOCK_USER;else{y=tA(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qe(S)}r._authCredentials=new A1(new S_(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new zs(this.firestore,e,this._query)}}class vn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class br extends zs{constructor(e,i,s){super(e,i,j_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ht(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function Hv(r,e,...i){if(r=ki(r),L0("collection","path",e),r instanceof Lc){const s=$t.fromString(e,...i);return zv(s),new br(r,null,s)}{if(!(r instanceof vn||r instanceof br))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(e,...i));return zv(s),new br(r.firestore,null,s)}}function P0(r,e,...i){if(r=ki(r),arguments.length===1&&(e=w_.newId()),L0("doc","path",e),r instanceof Lc){const s=$t.fromString(e,...i);return Pv(s),new vn(r,null,new ht(s))}{if(!(r instanceof vn||r instanceof br))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(e,...i));return Pv(s),new vn(r.firestore,r instanceof br?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="AsyncQueue";class qv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new y0(this,"async_queue_retry"),this.Su=()=>{const s=$h();s&&at(jv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=$h();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=$h();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Sr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Us(e))throw e;at(jv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Hi("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Jd.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class Uc extends Lc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new qv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new qv(e),this._firestoreClient=void 0,await e}}}function _2(r,e){const i=typeof r=="object"?r:c1(),s=typeof r=="string"?r:fc,o=a1(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=JT("firestore");c&&v2(o,...c)}return o}function z0(r){if(r._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||E2(r),r._firestoreClient}function E2(r){var e,i,s;const o=r._freezeSettings(),c=function(g,p,y,E){return new B1(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,x0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new h2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ns(je.fromBase64String(e))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ns(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2=/^__.*__$/;class A2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,i,this.fieldTransforms):new ho(e,this.data,i,this.fieldTransforms)}}class k0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Nr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function B0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class sm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new sm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Tc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(B0(this.Lu)&&T2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class S2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Mc(e)}ju(e,i,s,o=!1){return new sm({Lu:e,methodName:i,zu:s,path:He.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lm(r){const e=r._freezeSettings(),i=Mc(r._databaseId);return new S2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function b2(r,e,i,s,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,e,i,o);om("Data must be an object, but it was:",d,s);const g=H0(s,d);let p,y;if(c.merge)p=new yn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const D=Cd(e,S,i);if(!d.contains(D))throw new ot(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);q0(E,D)||E.push(D)}p=new yn(E),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new A2(new sn(g),p,y)}class zc extends im{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof zc}}function w2(r,e,i,s){const o=r.ju(1,e,i);om("Data must be an object, but it was:",o,s);const c=[],d=sn.empty();Mr(s,(p,y)=>{const E=um(e,p,i);y=ki(y);const S=o.Uu(E);if(y instanceof zc)c.push(E);else{const D=yo(y,S);D!=null&&(c.push(E),d.set(E,D))}});const g=new yn(c);return new k0(d,g,o.fieldTransforms)}function R2(r,e,i,s,o,c){const d=r.ju(1,e,i),g=[Cd(e,s,i)],p=[o];if(c.length%2!=0)throw new ot(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(Cd(e,c[D])),p.push(c[D+1]);const y=[],E=sn.empty();for(let D=g.length-1;D>=0;--D)if(!q0(y,g[D])){const B=g[D];let Y=p[D];Y=ki(Y);const J=d.Uu(B);if(Y instanceof zc)y.push(B);else{const K=yo(Y,J);K!=null&&(y.push(B),E.set(B,K))}}const S=new yn(y);return new k0(E,S,d.fieldTransforms)}function C2(r,e,i,s=!1){return yo(i,r.ju(s?4:3,e))}function yo(r,e){if(j0(r=ki(r)))return om("Unsupported field value:",e,r),H0(r,e);if(r instanceof im)return function(s,o){if(!B0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let p=yo(g,o.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=ki(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return uS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=we.fromDate(s);return{timestampValue:yc(o.serializer,c)}}if(s instanceof we){const c=new we(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yc(o.serializer,c)}}if(s instanceof rm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ns)return{bytesValue:s0(o.serializer,s._byteString)};if(s instanceof vn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof am)return function(d,g){return{mapValue:{fields:{[O_]:{stringValue:x_},[hc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return Bd(g.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${xc(s)}`)}(r,e)}function H0(r,e){const i={};return C_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(r,(s,o)=>{const c=yo(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function j0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof we||r instanceof rm||r instanceof Ns||r instanceof vn||r instanceof im||r instanceof am)}function om(r,e,i){if(!j0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=xc(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Cd(r,e,i){if((e=ki(e))instanceof Pc)return e._internalPath;if(typeof e=="string")return um(r,e);throw Tc("Field path arguments must be of type string or ",r,!1,void 0,i)}const D2=new RegExp("[~\\*/\\[\\]]");function um(r,e,i){if(e.search(D2)>=0)throw Tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Pc(...e.split("."))._internalPath}catch{throw Tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Tc(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new ot(Z.INVALID_ARGUMENT,g+r+p)}function q0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new V2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(cm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class V2 extends G0{data(){return super.data()}}function cm(r,e){return typeof e=="string"?um(r,e):e instanceof Pc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fm{}class M2 extends fm{}function ms(r,e,...i){let s=[];e instanceof fm&&s.push(e),s=s.concat(i),function(c){const d=c.filter(p=>p instanceof hm).length,g=c.filter(p=>p instanceof kc).length;if(d>1||d>0&&g>0)throw new ot(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class kc extends M2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new kc(e,i,s)}_apply(e){const i=this._parse(e);return F0(e._query,i),new zs(e.firestore,e.converter,pd(e._query,i))}_parse(e){const i=lm(e.firestore);return function(c,d,g,p,y,E,S){let D;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ot(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Fv(S,E);const Y=[];for(const J of S)Y.push(Gv(p,c,J));D={arrayValue:{values:Y}}}else D=Gv(p,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Fv(S,E),D=C2(g,d,S,E==="in"||E==="not-in");return ve.create(y,E,D)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function gs(r,e,i){const s=e,o=cm("where",r);return kc._create(o,s,i)}class hm extends fm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new hm(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Bn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let d=o;const g=c.getFlattenedFilters();for(const p of g)F0(d,p),d=pd(d,p)}(e._query,i),new zs(e.firestore,e.converter,pd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Gv(r,e,i){if(typeof(i=ki(i))=="string"){if(i==="")throw new ot(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q_(e)&&i.indexOf("/")!==-1)throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child($t.fromString(i));if(!ht.isDocumentKey(s))throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return av(r,new ht(s))}if(i instanceof vn)return av(r,i._key);throw new ot(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xc(i)}.`)}function Fv(r,e){if(!Array.isArray(r)||r.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function F0(r,e){const i=function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new ot(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class N2{convertValue(e,i="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Mr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[hc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>he(d.doubleValue));return new am(c)}convertGeoPoint(e){return new rm(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=wc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(ao(e));default:return null}}convertTimestamp(e){const i=Rr(e);return new we(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=$t.fromString(e);jt(h0(s));const o=new so(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return o.isEqual(i)||Hi(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class x2 extends G0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(cm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class rc extends x2{data(e={}){return super.data(e)}}class L2{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Zu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new rc(this._firestore,this._userDataWriter,s.key,s,new Zu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new rc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Zu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new rc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Zu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:U2(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function U2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}class P2 extends N2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ns(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,i)}}function Yv(r){r=Ms(r,zs);const e=Ms(r.firestore,Uc),i=z0(e),s=new P2(e);return I2(r._query),p2(i,r._query).then(o=>new L2(e,s,r,o))}function z2(r,e,i,...s){r=Ms(r,vn);const o=Ms(r.firestore,Uc),c=lm(o);let d;return d=typeof(e=ki(e))=="string"||e instanceof Pc?R2(c,"updateDoc",r._key,e,i,s):w2(c,"updateDoc",r._key,e),Y0(o,[d.toMutation(r._key,li.exists(!0))])}function k2(r,e){const i=Ms(r.firestore,Uc),s=P0(r),o=O2(r.converter,e);return Y0(i,[b2(lm(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,li.exists(!1))]).then(()=>s)}function Y0(r,e){return function(s,o){const c=new Sr;return s.asyncQueue.enqueueAndForget(async()=>n2(await m2(s),o,c)),c.promise}(z0(r),e)}(function(e,i=!0){(function(o){xs=o})(u1),uc(new no("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Uc(new S1(s.getProvider("auth-internal")),new R1(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new so(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ss(Qy,Xy,e),Ss(Qy,Xy,"esm2017")})();var B2="firebase",H2="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ss(B2,H2,"app");const j2={apiKey:"AIzaSyCiDPHZEXAHbxXM5pBHVPsFsV3oh-BkNRI",authDomain:"shaffers-b329f.firebaseapp.com",projectId:"shaffers-b329f",storageBucket:"shaffers-b329f.firebasestorage.app",messagingSenderId:"513809891195",appId:"1:513809891195:web:9c15bd18f9f837b210c7de"},q2=m_(j2),ed=_2(q2);var Dd=function(){return Dd=Object.assign||function(e){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},Dd.apply(this,arguments)};function ci(r,e,i,s){function o(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function g(E){try{y(s.next(E))}catch(S){d(S)}}function p(E){try{y(s.throw(E))}catch(S){d(S)}}function y(E){E.done?c(E.value):o(E.value).then(g,p)}y((s=s.apply(r,e||[])).next())})}function fi(r,e){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,o,c,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=g(0),d.throw=g(1),d.return=g(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(y){return function(E){return p([y,E])}}function p(y){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(i=0)),i;)try{if(s=1,o&&(c=y[0]&2?o.return:y[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,y[1])).done)return c;switch(o=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,o=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){i.label=y[1];break}if(y[0]===6&&i.label<c[1]){i.label=c[1],c=y;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(y);break}c[2]&&i.ops.pop(),i.trys.pop();continue}y=e.call(r,i)}catch(E){y=[6,E],o=0}finally{s=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function Q0(r,e,i){if(i||arguments.length===2)for(var s=0,o=e.length,c;s<o;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return r.concat(c||Array.prototype.slice.call(e))}var X0="4.6.1";function Ac(r,e){return new Promise(function(i){return setTimeout(i,r,e)})}function G2(){return new Promise(function(r){var e=new MessageChannel;e.port1.onmessage=function(){return r()},e.port2.postMessage(null)})}function F2(r,e){e===void 0&&(e=1/0);var i=window.requestIdleCallback;return i?new Promise(function(s){return i.call(window,function(){return s()},{timeout:e})}):Ac(Math.min(r,e))}function K0(r){return!!r&&typeof r.then=="function"}function Qv(r,e){try{var i=r();K0(i)?i.then(function(s){return e(!0,s)},function(s){return e(!1,s)}):e(!0,i)}catch(s){e(!1,s)}}function Xv(r,e,i){return i===void 0&&(i=16),ci(this,void 0,void 0,function(){var s,o,c,d;return fi(this,function(g){switch(g.label){case 0:s=Array(r.length),o=Date.now(),c=0,g.label=1;case 1:return c<r.length?(s[c]=e(r[c],c),d=Date.now(),d>=o+i?(o=d,[4,G2()]):[3,3]):[3,4];case 2:g.sent(),g.label=3;case 3:return++c,[3,1];case 4:return[2,s]}})})}function co(r){return r.then(void 0,function(){}),r}function Y2(r,e){for(var i=0,s=r.length;i<s;++i)if(r[i]===e)return!0;return!1}function Q2(r,e){return!Y2(r,e)}function dm(r){return parseInt(r)}function kn(r){return parseFloat(r)}function zi(r,e){return typeof r=="number"&&isNaN(r)?e:r}function tn(r){return r.reduce(function(e,i){return e+(i?1:0)},0)}function Z0(r,e){if(e===void 0&&(e=1),Math.abs(e)>=1)return Math.round(r/e)*e;var i=1/e;return Math.round(r*i)/i}function X2(r){for(var e,i,s="Unexpected syntax '".concat(r,"'"),o=/^\s*([a-z-]*)(.*)$/i.exec(r),c=o[1]||void 0,d={},g=/([.:#][\w-]+|\[.+?\])/gi,p=function(D,B){d[D]=d[D]||[],d[D].push(B)};;){var y=g.exec(o[2]);if(!y)break;var E=y[0];switch(E[0]){case".":p("class",E.slice(1));break;case"#":p("id",E.slice(1));break;case"[":{var S=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(E);if(S)p(S[1],(i=(e=S[4])!==null&&e!==void 0?e:S[5])!==null&&i!==void 0?i:"");else throw new Error(s);break}default:throw new Error(s)}}return[c,d]}function K2(r){for(var e=new Uint8Array(r.length),i=0;i<r.length;i++){var s=r.charCodeAt(i);if(s>127)return new TextEncoder().encode(r);e[i]=s}return e}function vr(r,e){var i=r[0]>>>16,s=r[0]&65535,o=r[1]>>>16,c=r[1]&65535,d=e[0]>>>16,g=e[0]&65535,p=e[1]>>>16,y=e[1]&65535,E=0,S=0,D=0,B=0;B+=c+y,D+=B>>>16,B&=65535,D+=o+p,S+=D>>>16,D&=65535,S+=s+g,E+=S>>>16,S&=65535,E+=i+d,E&=65535,r[0]=E<<16|S,r[1]=D<<16|B}function Nn(r,e){var i=r[0]>>>16,s=r[0]&65535,o=r[1]>>>16,c=r[1]&65535,d=e[0]>>>16,g=e[0]&65535,p=e[1]>>>16,y=e[1]&65535,E=0,S=0,D=0,B=0;B+=c*y,D+=B>>>16,B&=65535,D+=o*y,S+=D>>>16,D&=65535,D+=c*p,S+=D>>>16,D&=65535,S+=s*y,E+=S>>>16,S&=65535,S+=o*p,E+=S>>>16,S&=65535,S+=c*g,E+=S>>>16,S&=65535,E+=i*y+s*p+o*g+c*d,E&=65535,r[0]=E<<16|S,r[1]=D<<16|B}function ps(r,e){var i=r[0];e%=64,e===32?(r[0]=r[1],r[1]=i):e<32?(r[0]=i<<e|r[1]>>>32-e,r[1]=r[1]<<e|i>>>32-e):(e-=32,r[0]=r[1]<<e|i>>>32-e,r[1]=i<<e|r[1]>>>32-e)}function pn(r,e){e%=64,e!==0&&(e<32?(r[0]=r[1]>>>32-e,r[1]=r[1]<<e):(r[0]=r[1]<<e-32,r[1]=0))}function ne(r,e){r[0]^=e[0],r[1]^=e[1]}var Z2=[4283543511,3981806797],W2=[3301882366,444984403];function Kv(r){var e=[0,r[0]>>>1];ne(r,e),Nn(r,Z2),e[1]=r[0]>>>1,ne(r,e),Nn(r,W2),e[1]=r[0]>>>1,ne(r,e)}var Wu=[2277735313,289559509],Ju=[1291169091,658871167],Zv=[0,5],J2=[0,1390208809],$2=[0,944331445];function tw(r,e){var i=K2(r);e=e||0;var s=[0,i.length],o=s[1]%16,c=s[1]-o,d=[0,e],g=[0,e],p=[0,0],y=[0,0],E;for(E=0;E<c;E=E+16)p[0]=i[E+4]|i[E+5]<<8|i[E+6]<<16|i[E+7]<<24,p[1]=i[E]|i[E+1]<<8|i[E+2]<<16|i[E+3]<<24,y[0]=i[E+12]|i[E+13]<<8|i[E+14]<<16|i[E+15]<<24,y[1]=i[E+8]|i[E+9]<<8|i[E+10]<<16|i[E+11]<<24,Nn(p,Wu),ps(p,31),Nn(p,Ju),ne(d,p),ps(d,27),vr(d,g),Nn(d,Zv),vr(d,J2),Nn(y,Ju),ps(y,33),Nn(y,Wu),ne(g,y),ps(g,31),vr(g,d),Nn(g,Zv),vr(g,$2);p[0]=0,p[1]=0,y[0]=0,y[1]=0;var S=[0,0];switch(o){case 15:S[1]=i[E+14],pn(S,48),ne(y,S);case 14:S[1]=i[E+13],pn(S,40),ne(y,S);case 13:S[1]=i[E+12],pn(S,32),ne(y,S);case 12:S[1]=i[E+11],pn(S,24),ne(y,S);case 11:S[1]=i[E+10],pn(S,16),ne(y,S);case 10:S[1]=i[E+9],pn(S,8),ne(y,S);case 9:S[1]=i[E+8],ne(y,S),Nn(y,Ju),ps(y,33),Nn(y,Wu),ne(g,y);case 8:S[1]=i[E+7],pn(S,56),ne(p,S);case 7:S[1]=i[E+6],pn(S,48),ne(p,S);case 6:S[1]=i[E+5],pn(S,40),ne(p,S);case 5:S[1]=i[E+4],pn(S,32),ne(p,S);case 4:S[1]=i[E+3],pn(S,24),ne(p,S);case 3:S[1]=i[E+2],pn(S,16),ne(p,S);case 2:S[1]=i[E+1],pn(S,8),ne(p,S);case 1:S[1]=i[E],ne(p,S),Nn(p,Wu),ps(p,31),Nn(p,Ju),ne(d,p)}return ne(d,s),ne(g,s),vr(d,g),vr(g,d),Kv(d),Kv(g),vr(d,g),vr(g,d),("00000000"+(d[0]>>>0).toString(16)).slice(-8)+("00000000"+(d[1]>>>0).toString(16)).slice(-8)+("00000000"+(g[0]>>>0).toString(16)).slice(-8)+("00000000"+(g[1]>>>0).toString(16)).slice(-8)}function ew(r){var e;return Dd({name:r.name,message:r.message,stack:(e=r.stack)===null||e===void 0?void 0:e.split(`
`)},r)}function nw(r){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(r))}function iw(r){return typeof r!="function"}function rw(r,e){var i=co(new Promise(function(s){var o=Date.now();Qv(r.bind(null,e),function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var g=Date.now()-o;if(!c[0])return s(function(){return{error:c[1],duration:g}});var p=c[1];if(iw(p))return s(function(){return{value:p,duration:g}});s(function(){return new Promise(function(y){var E=Date.now();Qv(p,function(){for(var S=[],D=0;D<arguments.length;D++)S[D]=arguments[D];var B=g+Date.now()-E;if(!S[0])return y({error:S[1],duration:B});y({value:S[1],duration:B})})})})})}));return function(){return i.then(function(o){return o()})}}function aw(r,e,i,s){var o=Object.keys(r).filter(function(d){return Q2(i,d)}),c=co(Xv(o,function(d){return rw(r[d],e)},s));return function(){return ci(this,void 0,void 0,function(){var g,p,y,E,S;return fi(this,function(D){switch(D.label){case 0:return[4,c];case 1:return g=D.sent(),[4,Xv(g,function(B){return co(B())},s)];case 2:return p=D.sent(),[4,Promise.all(p)];case 3:for(y=D.sent(),E={},S=0;S<o.length;++S)E[o[S]]=y[S];return[2,E]}})})}}function W0(){var r=window,e=navigator;return tn(["MSCSSMatrix"in r,"msSetImmediate"in r,"msIndexedDB"in r,"msMaxTouchPoints"in e,"msPointerEnabled"in e])>=4}function sw(){var r=window,e=navigator;return tn(["msWriteProfilerMark"in r,"MSStream"in r,"msLaunchUri"in e,"msSaveBlob"in e])>=3&&!W0()}function vo(){var r=window,e=navigator;return tn(["webkitPersistentStorage"in e,"webkitTemporaryStorage"in e,(e.vendor||"").indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in r,"BatteryManager"in r,"webkitMediaStream"in r,"webkitSpeechGrammar"in r])>=5}function Hn(){var r=window,e=navigator;return tn(["ApplePayError"in r,"CSSPrimitiveValue"in r,"Counter"in r,e.vendor.indexOf("Apple")===0,"RGBColor"in r,"WebKitMediaKeys"in r])>=4}function mm(){var r=window,e=r.HTMLElement,i=r.Document;return tn(["safari"in r,!("ongestureend"in r),!("TouchEvent"in r),!("orientation"in r),e&&!("autocapitalize"in e.prototype),i&&"pointerLockElement"in i.prototype])>=4}function _o(){var r=window;return nw(r.print)&&String(r.browser)==="[object WebPageNamespace]"}function J0(){var r,e,i=window;return tn(["buildID"in navigator,"MozAppearance"in((e=(r=document.documentElement)===null||r===void 0?void 0:r.style)!==null&&e!==void 0?e:{}),"onmozfullscreenchange"in i,"mozInnerScreenX"in i,"CSSMozDocumentRule"in i,"CanvasCaptureMediaStream"in i])>=4}function lw(){var r=window;return tn([!("MediaSettingsRange"in r),"RTCEncodedAudioFrame"in r,""+r.Intl=="[object Intl]",""+r.Reflect=="[object Reflect]"])>=3}function ow(){var r=window,e=r.URLPattern;return tn(["union"in Set.prototype,"Iterator"in r,e&&"hasRegExpGroups"in e.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function uw(){var r=window;return tn(["DOMRectList"in r,"RTCPeerConnectionIceEvent"in r,"SVGGeometryElement"in r,"ontransitioncancel"in r])>=3}function Eo(){var r=window,e=navigator,i=r.CSS,s=r.HTMLButtonElement;return tn([!("getStorageUpdates"in e),s&&"popover"in s.prototype,"CSSCounterStyleRule"in r,i.supports("font-size-adjust: ex-height 0.5"),i.supports("text-transform: full-width")])>=4}function cw(){if(navigator.platform==="iPad")return!0;var r=screen,e=r.width/r.height;return tn(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,e>.65&&e<1.53])>=2}function fw(){var r=document;return r.fullscreenElement||r.msFullscreenElement||r.mozFullScreenElement||r.webkitFullscreenElement||null}function hw(){var r=document;return(r.exitFullscreen||r.msExitFullscreen||r.mozCancelFullScreen||r.webkitExitFullscreen).call(r)}function gm(){var r=vo(),e=J0(),i=window,s=navigator,o="connection";return r?tn([!("SharedWorker"in i),s[o]&&"ontypechange"in s[o],!("sinkId"in new Audio)])>=2:e?tn(["onorientationchange"in i,"orientation"in i,/android/i.test(s.appVersion)])>=2:!1}function dw(){var r=navigator,e=window,i=Audio.prototype,s=e.visualViewport;return tn(["srLatency"in i,"srChannelCount"in i,"devicePosture"in r,s&&"segments"in s,"getTextInformation"in Image.prototype])>=3}function mw(){return yw()?-4:gw()}function gw(){var r=window,e=r.OfflineAudioContext||r.webkitOfflineAudioContext;if(!e)return-2;if(pw())return-1;var i=4500,s=5e3,o=new e(1,s,44100),c=o.createOscillator();c.type="triangle",c.frequency.value=1e4;var d=o.createDynamicsCompressor();d.threshold.value=-50,d.knee.value=40,d.ratio.value=12,d.attack.value=0,d.release.value=.25,c.connect(d),d.connect(o.destination),c.start(0);var g=vw(o),p=g[0],y=g[1],E=co(p.then(function(S){return _w(S.getChannelData(0).subarray(i))},function(S){if(S.name==="timeout"||S.name==="suspended")return-3;throw S}));return function(){return y(),E}}function pw(){return Hn()&&!mm()&&!uw()}function yw(){return Hn()&&Eo()&&_o()||vo()&&dw()&&ow()}function vw(r){var e=3,i=500,s=500,o=5e3,c=function(){},d=new Promise(function(g,p){var y=!1,E=0,S=0;r.oncomplete=function(Y){return g(Y.renderedBuffer)};var D=function(){setTimeout(function(){return p(Wv("timeout"))},Math.min(s,S+o-Date.now()))},B=function(){try{var Y=r.startRendering();switch(K0(Y)&&co(Y),r.state){case"running":S=Date.now(),y&&D();break;case"suspended":document.hidden||E++,y&&E>=e?p(Wv("suspended")):setTimeout(B,i);break}}catch(J){p(J)}};B(),c=function(){y||(y=!0,S>0&&D())}});return[d,c]}function _w(r){for(var e=0,i=0;i<r.length;++i)e+=Math.abs(r[i]);return e}function Wv(r){var e=new Error(r);return e.name=r,e}function $0(r,e,i){var s,o,c;return i===void 0&&(i=50),ci(this,void 0,void 0,function(){var d,g;return fi(this,function(p){switch(p.label){case 0:d=document,p.label=1;case 1:return d.body?[3,3]:[4,Ac(i)];case 2:return p.sent(),[3,1];case 3:g=d.createElement("iframe"),p.label=4;case 4:return p.trys.push([4,,10,11]),[4,new Promise(function(y,E){var S=!1,D=function(){S=!0,y()},B=function(K){S=!0,E(K)};g.onload=D,g.onerror=B;var Y=g.style;Y.setProperty("display","block","important"),Y.position="absolute",Y.top="0",Y.left="0",Y.visibility="hidden",e&&"srcdoc"in g?g.srcdoc=e:g.src="about:blank",d.body.appendChild(g);var J=function(){var K,it;S||(((it=(K=g.contentWindow)===null||K===void 0?void 0:K.document)===null||it===void 0?void 0:it.readyState)==="complete"?D():setTimeout(J,10))};J()})];case 5:p.sent(),p.label=6;case 6:return!((o=(s=g.contentWindow)===null||s===void 0?void 0:s.document)===null||o===void 0)&&o.body?[3,8]:[4,Ac(i)];case 7:return p.sent(),[3,6];case 8:return[4,r(g,g.contentWindow)];case 9:return[2,p.sent()];case 10:return(c=g.parentNode)===null||c===void 0||c.removeChild(g),[7];case 11:return[2]}})})}function Ew(r){for(var e=X2(r),i=e[0],s=e[1],o=document.createElement(i??"div"),c=0,d=Object.keys(s);c<d.length;c++){var g=d[c],p=s[g].join(" ");g==="style"?Tw(o.style,p):o.setAttribute(g,p)}return o}function Tw(r,e){for(var i=0,s=e.split(";");i<s.length;i++){var o=s[i],c=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(o);if(c){var d=c[1],g=c[2],p=c[4];r.setProperty(d,g,p||"")}}}function Aw(){for(var r=window;;){var e=r.parent;if(!e||e===r)return!1;try{if(e.location.origin!==r.location.origin)return!0}catch(i){if(i instanceof Error&&i.name==="SecurityError")return!0;throw i}r=e}}var Sw="mmMwWLliI0O&1",bw="48px",ys=["monospace","sans-serif","serif"],Jv=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function ww(){var r=this;return $0(function(e,i){var s=i.document;return ci(r,void 0,void 0,function(){var o,c,d,g,p,y,E,S,D,B,Y,J;return fi(this,function(K){for(o=s.body,o.style.fontSize=bw,c=s.createElement("div"),c.style.setProperty("visibility","hidden","important"),d={},g={},p=function(it){var st=s.createElement("span"),rt=st.style;return rt.position="absolute",rt.top="0",rt.left="0",rt.fontFamily=it,st.textContent=Sw,c.appendChild(st),st},y=function(it,st){return p("'".concat(it,"',").concat(st))},E=function(){return ys.map(p)},S=function(){for(var it={},st=function(At){it[At]=ys.map(function(M){return y(At,M)})},rt=0,_t=Jv;rt<_t.length;rt++){var ct=_t[rt];st(ct)}return it},D=function(it){return ys.some(function(st,rt){return it[rt].offsetWidth!==d[st]||it[rt].offsetHeight!==g[st]})},B=E(),Y=S(),o.appendChild(c),J=0;J<ys.length;J++)d[ys[J]]=B[J].offsetWidth,g[ys[J]]=B[J].offsetHeight;return[2,Jv.filter(function(it){return D(Y[it])})]})})})}function Rw(){var r=navigator.plugins;if(r){for(var e=[],i=0;i<r.length;++i){var s=r[i];if(s){for(var o=[],c=0;c<s.length;++c){var d=s[c];o.push({type:d.type,suffixes:d.suffixes})}e.push({name:s.name,description:s.description,mimeTypes:o})}}return e}}function Cw(){return Dw(Lw())}function Dw(r){var e,i=!1,s,o,c=Vw(),d=c[0],g=c[1];return Iw(d,g)?(i=Mw(g),r?s=o="skipped":(e=Nw(d,g),s=e[0],o=e[1])):s=o="unsupported",{winding:i,geometry:s,text:o}}function Vw(){var r=document.createElement("canvas");return r.width=1,r.height=1,[r,r.getContext("2d")]}function Iw(r,e){return!!(e&&r.toDataURL)}function Mw(r){return r.rect(0,0,10,10),r.rect(2,2,6,6),!r.isPointInPath(5,5,"evenodd")}function Nw(r,e){Ow(r,e);var i=nd(r),s=nd(r);if(i!==s)return["unstable","unstable"];xw(r,e);var o=nd(r);return[o,i]}function Ow(r,e){r.width=240,r.height=60,e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(100,1,62,20),e.fillStyle="#069",e.font='11pt "Times New Roman"';var i="Cwm fjordbank gly ".concat("");e.fillText(i,2,15),e.fillStyle="rgba(102, 204, 0, 0.2)",e.font="18pt Arial",e.fillText(i,4,45)}function xw(r,e){r.width=122,r.height=110,e.globalCompositeOperation="multiply";for(var i=0,s=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];i<s.length;i++){var o=s[i],c=o[0],d=o[1],g=o[2];e.fillStyle=c,e.beginPath(),e.arc(d,g,40,0,Math.PI*2,!0),e.closePath(),e.fill()}e.fillStyle="#f9c",e.arc(60,60,60,0,Math.PI*2,!0),e.arc(60,60,20,0,Math.PI*2,!0),e.fill("evenodd")}function nd(r){return r.toDataURL()}function Lw(){return Hn()&&Eo()&&_o()}function Uw(){var r=navigator,e=0,i;r.maxTouchPoints!==void 0?e=dm(r.maxTouchPoints):r.msMaxTouchPoints!==void 0&&(e=r.msMaxTouchPoints);try{document.createEvent("TouchEvent"),i=!0}catch{i=!1}var s="ontouchstart"in window;return{maxTouchPoints:e,touchEvent:i,touchStart:s}}function Pw(){return navigator.oscpu}function zw(){var r=navigator,e=[],i=r.language||r.userLanguage||r.browserLanguage||r.systemLanguage;if(i!==void 0&&e.push([i]),Array.isArray(r.languages))vo()&&lw()||e.push(r.languages);else if(typeof r.languages=="string"){var s=r.languages;s&&e.push(s.split(","))}return e}function kw(){return window.screen.colorDepth}function Bw(){return zi(kn(navigator.deviceMemory),void 0)}function Hw(){if(!(Hn()&&Eo()&&_o()))return jw()}function jw(){var r=screen,e=function(s){return zi(dm(s),null)},i=[e(r.width),e(r.height)];return i.sort().reverse(),i}var qw=2500,Gw=10,ac,id;function Fw(){if(id===void 0){var r=function(){var e=Vd();Id(e)?id=setTimeout(r,qw):(ac=e,id=void 0)};r()}}function Yw(){var r=this;return Fw(),function(){return ci(r,void 0,void 0,function(){var e;return fi(this,function(i){switch(i.label){case 0:return e=Vd(),Id(e)?ac?[2,Q0([],ac,!0)]:fw()?[4,hw()]:[3,2]:[3,2];case 1:i.sent(),e=Vd(),i.label=2;case 2:return Id(e)||(ac=e),[2,e]}})})}}function Qw(){var r=this;if(Hn()&&Eo()&&_o())return function(){return Promise.resolve(void 0)};var e=Yw();return function(){return ci(r,void 0,void 0,function(){var i,s;return fi(this,function(o){switch(o.label){case 0:return[4,e()];case 1:return i=o.sent(),s=function(c){return c===null?null:Z0(c,Gw)},[2,[s(i[0]),s(i[1]),s(i[2]),s(i[3])]]}})})}}function Vd(){var r=screen;return[zi(kn(r.availTop),null),zi(kn(r.width)-kn(r.availWidth)-zi(kn(r.availLeft),0),null),zi(kn(r.height)-kn(r.availHeight)-zi(kn(r.availTop),0),null),zi(kn(r.availLeft),null)]}function Id(r){for(var e=0;e<4;++e)if(r[e])return!1;return!0}function Xw(){return zi(dm(navigator.hardwareConcurrency),void 0)}function Kw(){var r,e=(r=window.Intl)===null||r===void 0?void 0:r.DateTimeFormat;if(e){var i=new e().resolvedOptions().timeZone;if(i)return i}var s=-Zw();return"UTC".concat(s>=0?"+":"").concat(s)}function Zw(){var r=new Date().getFullYear();return Math.max(kn(new Date(r,0,1).getTimezoneOffset()),kn(new Date(r,6,1).getTimezoneOffset()))}function Ww(){try{return!!window.sessionStorage}catch{return!0}}function Jw(){try{return!!window.localStorage}catch{return!0}}function $w(){if(!(W0()||sw()))try{return!!window.indexedDB}catch{return!0}}function tR(){return!!window.openDatabase}function eR(){return navigator.cpuClass}function nR(){var r=navigator.platform;return r==="MacIntel"&&Hn()&&!mm()?cw()?"iPad":"iPhone":r}function iR(){return navigator.vendor||""}function rR(){for(var r=[],e=0,i=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];e<i.length;e++){var s=i[e],o=window[s];o&&typeof o=="object"&&r.push(s)}return r.sort()}function aR(){var r=document;try{r.cookie="cookietest=1; SameSite=Strict;";var e=r.cookie.indexOf("cookietest=")!==-1;return r.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch{return!1}}function sR(){var r=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',r("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",r("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",r("LnNwb25zb3JpdA=="),".ylamainos",r("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),r("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",r("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",r("LmhlYWRlci1ibG9ja2VkLWFk"),r("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",r("I2FkXzMwMFgyNTA="),r("I2Jhbm5lcmZsb2F0MjI="),r("I2NhbXBhaWduLWJhbm5lcg=="),r("I0FkLUNvbnRlbnQ=")],adGuardChinese:[r("LlppX2FkX2FfSA=="),r("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",r("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),r("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",r("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",r("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",r("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),r("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),r("LmFkZ29vZ2xl"),r("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[r("YW1wLWF1dG8tYWRz"),r("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",r("I2FkX2ludmlld19hcmVh")],adGuardRussian:[r("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),r("LnJlY2xhbWE="),'div[id^="smi2adblock"]',r("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[r("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),r("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",r("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),r("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),r("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",r("I3Jla2xhbWk="),r("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),r("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),r("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[r("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",r("LndpZGdldF9wb19hZHNfd2lkZ2V0"),r("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",r("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[r("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),r("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",r("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",r("I3Jla2xhbW5pLWJveA=="),r("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",r("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[r("I2FkdmVydGVudGll"),r("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",r("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",r("LnNwb25zb3JsaW5rZ3J1ZW4="),r("I3dlcmJ1bmdza3k="),r("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),r("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[r("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",r("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),r("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),r("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[r("LnJla2xhbW9zX3RhcnBhcw=="),r("LnJla2xhbW9zX251b3JvZG9z"),r("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),r("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),r("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[r("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[r("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),r("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",r("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[r("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),r("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),r("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",r("LmFkX19tYWlu"),r("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[r("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[r("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),r("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[r("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),r("I2xpdmVyZUFkV3JhcHBlcg=="),r("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),r("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[r("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",r("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),r("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),r("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[r("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),r("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),r("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",r("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),r("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),r("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),r("ZGl2I3NrYXBpZWNfYWQ=")],ro:[r("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),r("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),r("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),r("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[r("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),r("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),r("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",r("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),r("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",r("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function lR(r){var e=r===void 0?{}:r,i=e.debug;return ci(this,void 0,void 0,function(){var s,o,c,d,g,p;return fi(this,function(y){switch(y.label){case 0:return oR()?(s=sR(),o=Object.keys(s),c=(p=[]).concat.apply(p,o.map(function(E){return s[E]})),[4,uR(c)]):[2,void 0];case 1:return d=y.sent(),i&&cR(s,d),g=o.filter(function(E){var S=s[E],D=tn(S.map(function(B){return d[B]}));return D>S.length*.6}),g.sort(),[2,g]}})})}function oR(){return Hn()||gm()}function uR(r){var e;return ci(this,void 0,void 0,function(){var i,s,o,c,p,d,g,p;return fi(this,function(y){switch(y.label){case 0:for(i=document,s=i.createElement("div"),o=new Array(r.length),c={},$v(s),p=0;p<r.length;++p)d=Ew(r[p]),d.tagName==="DIALOG"&&d.show(),g=i.createElement("div"),$v(g),g.appendChild(d),s.appendChild(g),o[p]=d;y.label=1;case 1:return i.body?[3,3]:[4,Ac(50)];case 2:return y.sent(),[3,1];case 3:i.body.appendChild(s);try{for(p=0;p<r.length;++p)o[p].offsetParent||(c[r[p]]=!0)}finally{(e=s.parentNode)===null||e===void 0||e.removeChild(s)}return[2,c]}})})}function $v(r){r.style.setProperty("visibility","hidden","important"),r.style.setProperty("display","block","important")}function cR(r,e){for(var i="DOM blockers debug:\n```",s=0,o=Object.keys(r);s<o.length;s++){var c=o[s];i+=`
`.concat(c,":");for(var d=0,g=r[c];d<g.length;d++){var p=g[d];i+=`
  `.concat(e[p]?"":""," ").concat(p)}}console.log("".concat(i,"\n```"))}function fR(){for(var r=0,e=["rec2020","p3","srgb"];r<e.length;r++){var i=e[r];if(matchMedia("(color-gamut: ".concat(i,")")).matches)return i}}function hR(){if(t_("inverted"))return!0;if(t_("none"))return!1}function t_(r){return matchMedia("(inverted-colors: ".concat(r,")")).matches}function dR(){if(e_("active"))return!0;if(e_("none"))return!1}function e_(r){return matchMedia("(forced-colors: ".concat(r,")")).matches}var mR=100;function gR(){if(matchMedia("(min-monochrome: 0)").matches){for(var r=0;r<=mR;++r)if(matchMedia("(max-monochrome: ".concat(r,")")).matches)return r;throw new Error("Too high value")}}function pR(){if(vs("no-preference"))return 0;if(vs("high")||vs("more"))return 1;if(vs("low")||vs("less"))return-1;if(vs("forced"))return 10}function vs(r){return matchMedia("(prefers-contrast: ".concat(r,")")).matches}function yR(){if(n_("reduce"))return!0;if(n_("no-preference"))return!1}function n_(r){return matchMedia("(prefers-reduced-motion: ".concat(r,")")).matches}function vR(){if(i_("reduce"))return!0;if(i_("no-preference"))return!1}function i_(r){return matchMedia("(prefers-reduced-transparency: ".concat(r,")")).matches}function _R(){if(r_("high"))return!0;if(r_("standard"))return!1}function r_(r){return matchMedia("(dynamic-range: ".concat(r,")")).matches}var Ht=Math,$e=function(){return 0};function ER(){var r=Ht.acos||$e,e=Ht.acosh||$e,i=Ht.asin||$e,s=Ht.asinh||$e,o=Ht.atanh||$e,c=Ht.atan||$e,d=Ht.sin||$e,g=Ht.sinh||$e,p=Ht.cos||$e,y=Ht.cosh||$e,E=Ht.tan||$e,S=Ht.tanh||$e,D=Ht.exp||$e,B=Ht.expm1||$e,Y=Ht.log1p||$e,J=function(b){return Ht.pow(Ht.PI,b)},K=function(b){return Ht.log(b+Ht.sqrt(b*b-1))},it=function(b){return Ht.log(b+Ht.sqrt(b*b+1))},st=function(b){return Ht.log((1+b)/(1-b))/2},rt=function(b){return Ht.exp(b)-1/Ht.exp(b)/2},_t=function(b){return(Ht.exp(b)+1/Ht.exp(b))/2},ct=function(b){return Ht.exp(b)-1},At=function(b){return(Ht.exp(2*b)-1)/(Ht.exp(2*b)+1)},M=function(b){return Ht.log(1+b)};return{acos:r(.12312423423423424),acosh:e(1e308),acoshPf:K(1e154),asin:i(.12312423423423424),asinh:s(1),asinhPf:it(1),atanh:o(.5),atanhPf:st(.5),atan:c(.5),sin:d(-1e300),sinh:g(1),sinhPf:rt(1),cos:p(10.000000000123),cosh:y(1),coshPf:_t(1),tan:E(-1e300),tanh:S(1),tanhPf:At(1),exp:D(1),expm1:B(1),expm1Pf:ct(1),log1p:Y(10),log1pPf:M(10),powPI:J(-100)}}var TR="mmMwWLliI0fiflO&1",rd={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function AR(){return SR(function(r,e){for(var i={},s={},o=0,c=Object.keys(rd);o<c.length;o++){var d=c[o],g=rd[d],p=g[0],y=p===void 0?{}:p,E=g[1],S=E===void 0?TR:E,D=r.createElement("span");D.textContent=S,D.style.whiteSpace="nowrap";for(var B=0,Y=Object.keys(y);B<Y.length;B++){var J=Y[B],K=y[J];K!==void 0&&(D.style[J]=K)}i[d]=D,e.append(r.createElement("br"),D)}for(var it=0,st=Object.keys(rd);it<st.length;it++){var d=st[it];s[d]=i[d].getBoundingClientRect().width}return s})}function SR(r,e){return e===void 0&&(e=4e3),$0(function(i,s){var o=s.document,c=o.body,d=c.style;d.width="".concat(e,"px"),d.webkitTextSizeAdjust=d.textSizeAdjust="none",vo()?c.style.zoom="".concat(1/s.devicePixelRatio):Hn()&&(c.style.zoom="reset");var g=o.createElement("div");return g.textContent=Q0([],Array(e/20<<0),!0).map(function(){return"word"}).join(" "),c.appendChild(g),r(o,c)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function bR(){return navigator.pdfViewerEnabled}function wR(){var r=new Float32Array(1),e=new Uint8Array(r.buffer);return r[0]=1/0,r[0]=r[0]-r[0],e[3]}function RR(){var r=window.ApplePaySession;if(typeof(r==null?void 0:r.canMakePayments)!="function")return-1;if(CR())return-3;try{return r.canMakePayments()?1:0}catch(e){return DR(e)}}var CR=Aw;function DR(r){if(r instanceof Error&&r.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(r.message))return-2;throw r}function VR(){var r,e=document.createElement("a"),i=(r=e.attributionSourceId)!==null&&r!==void 0?r:e.attributionsourceid;return i===void 0?void 0:String(i)}var tE=-1,eE=-2,IR=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),MR=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),NR=["FRAGMENT_SHADER","VERTEX_SHADER"],OR=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],nE="WEBGL_debug_renderer_info",xR="WEBGL_polygon_mode";function LR(r){var e,i,s,o,c,d,g=r.cache,p=iE(g);if(!p)return tE;if(!aE(p))return eE;var y=rE()?null:p.getExtension(nE);return{version:((e=p.getParameter(p.VERSION))===null||e===void 0?void 0:e.toString())||"",vendor:((i=p.getParameter(p.VENDOR))===null||i===void 0?void 0:i.toString())||"",vendorUnmasked:y?(s=p.getParameter(y.UNMASKED_VENDOR_WEBGL))===null||s===void 0?void 0:s.toString():"",renderer:((o=p.getParameter(p.RENDERER))===null||o===void 0?void 0:o.toString())||"",rendererUnmasked:y?(c=p.getParameter(y.UNMASKED_RENDERER_WEBGL))===null||c===void 0?void 0:c.toString():"",shadingLanguageVersion:((d=p.getParameter(p.SHADING_LANGUAGE_VERSION))===null||d===void 0?void 0:d.toString())||""}}function UR(r){var e=r.cache,i=iE(e);if(!i)return tE;if(!aE(i))return eE;var s=i.getSupportedExtensions(),o=i.getContextAttributes(),c=[],d=[],g=[],p=[],y=[];if(o)for(var E=0,S=Object.keys(o);E<S.length;E++){var D=S[E];d.push("".concat(D,"=").concat(o[D]))}for(var B=a_(i),Y=0,J=B;Y<J.length;Y++){var K=J[Y],it=i[K];g.push("".concat(K,"=").concat(it).concat(IR.has(it)?"=".concat(i.getParameter(it)):""))}if(s)for(var st=0,rt=s;st<rt.length;st++){var _t=rt[st];if(!(_t===nE&&rE()||_t===xR&&kR())){var ct=i.getExtension(_t);if(!ct){c.push(_t);continue}for(var At=0,M=a_(ct);At<M.length;At++){var K=M[At],it=ct[K];p.push("".concat(K,"=").concat(it).concat(MR.has(it)?"=".concat(i.getParameter(it)):""))}}}for(var b=0,w=NR;b<w.length;b++)for(var N=w[b],O=0,L=OR;O<L.length;O++){var C=L[O],_e=PR(i,N,C);y.push("".concat(N,".").concat(C,"=").concat(_e.join(",")))}return p.sort(),g.sort(),{contextAttributes:d,parameters:g,shaderPrecisions:y,extensions:s,extensionParameters:p,unsupportedExtensions:c}}function iE(r){if(r.webgl)return r.webgl.context;var e=document.createElement("canvas"),i;e.addEventListener("webglCreateContextError",function(){return i=void 0});for(var s=0,o=["webgl","experimental-webgl"];s<o.length;s++){var c=o[s];try{i=e.getContext(c)}catch{}if(i)break}return r.webgl={context:i},i}function PR(r,e,i){var s=r.getShaderPrecisionFormat(r[e],r[i]);return s?[s.rangeMin,s.rangeMax,s.precision]:[]}function a_(r){var e=Object.keys(r.__proto__);return e.filter(zR)}function zR(r){return typeof r=="string"&&!r.match(/[^A-Z0-9_x]/)}function rE(){return J0()}function kR(){return vo()||Hn()}function aE(r){return typeof r.getParameter=="function"}function BR(){var r,e=gm()||Hn();return e?window.AudioContext&&(r=new AudioContext().baseLatency)!==null&&r!==void 0?r:-1:-2}function HR(){if(!window.Intl)return-1;var r=window.Intl.DateTimeFormat;if(!r)return-2;var e=r().resolvedOptions().locale;return!e&&e!==""?-3:e}var jR={fonts:ww,domBlockers:lR,fontPreferences:AR,audio:mw,screenFrame:Qw,canvas:Cw,osCpu:Pw,languages:zw,colorDepth:kw,deviceMemory:Bw,screenResolution:Hw,hardwareConcurrency:Xw,timezone:Kw,sessionStorage:Ww,localStorage:Jw,indexedDB:$w,openDatabase:tR,cpuClass:eR,platform:nR,plugins:Rw,touchSupport:Uw,vendor:iR,vendorFlavors:rR,cookiesEnabled:aR,colorGamut:fR,invertedColors:hR,forcedColors:dR,monochrome:gR,contrast:pR,reducedMotion:yR,reducedTransparency:vR,hdr:_R,math:ER,pdfViewerEnabled:bR,architecture:wR,applePay:RR,privateClickMeasurement:VR,audioBaseLatency:BR,dateTimeLocale:HR,webGlBasics:LR,webGlExtensions:UR};function qR(r){return aw(jR,r,[])}var GR="$ if upgrade to Pro: https://fpjs.dev/pro";function FR(r){var e=YR(r),i=QR(e);return{score:e,comment:GR.replace(/\$/g,"".concat(i))}}function YR(r){if(gm())return .4;if(Hn())return mm()&&!(Eo()&&_o())?.5:.3;var e="value"in r.platform?r.platform.value:"";return/^Win/.test(e)?.6:/^Mac/.test(e)?.5:.7}function QR(r){return Z0(.99+.01*r,1e-4)}function XR(r){for(var e="",i=0,s=Object.keys(r).sort();i<s.length;i++){var o=s[i],c=r[o],d="error"in c?"error":JSON.stringify(c.value);e+="".concat(e?"|":"").concat(o.replace(/([:|\\])/g,"\\$1"),":").concat(d)}return e}function sE(r){return JSON.stringify(r,function(e,i){return i instanceof Error?ew(i):i},2)}function lE(r){return tw(XR(r))}function KR(r){var e,i=FR(r);return{get visitorId(){return e===void 0&&(e=lE(this.components)),e},set visitorId(s){e=s},confidence:i,components:r,version:X0}}function ZR(r){return r===void 0&&(r=50),F2(r,r*2)}function WR(r,e){var i=Date.now();return{get:function(s){return ci(this,void 0,void 0,function(){var o,c,d;return fi(this,function(g){switch(g.label){case 0:return o=Date.now(),[4,r()];case 1:return c=g.sent(),d=KR(c),(e||s!=null&&s.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(d.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(o-i,`
visitorId: `).concat(d.visitorId,`
components: `).concat(sE(c),"\n```")),[2,d]}})})}}}function JR(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var r=new XMLHttpRequest;r.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(X0,"/npm-monitoring"),!0),r.send()}catch(e){console.error(e)}}function $R(r){var e;return r===void 0&&(r={}),ci(this,void 0,void 0,function(){var i,s,o;return fi(this,function(c){switch(c.label){case 0:return(!((e=r.monitoring)!==null&&e!==void 0)||e)&&JR(),i=r.delayFallback,s=r.debug,[4,ZR(i)];case 1:return c.sent(),o=qR({cache:{},debug:s}),[2,WR(o,s)]}})})}var tC={load:$R,hashComponents:lE,componentsToDebugString:sE};const eC=async()=>(await(await tC.load()).get()).visitorId,nC=async()=>(await(await fetch("https://api.ipify.org?format=json")).json()).ip,iC=()=>{var r;try{if(navigator.userAgentData){const e=(r=navigator.userAgentData.brands)==null?void 0:r.map(s=>`${s.brand}/${s.version}`).join(", "),i=navigator.userAgentData.platform||"Unknown Platform";if(e)return`${e} - ${i}`}return navigator.userAgent||"Unknown"}catch(e){return console.warn("Error detectando device info:",e),"Unknown"}},rC=async r=>{const i=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(s)).map(o=>o.toString(16).padStart(2,"0")).join("")},aC=()=>/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent),sC=()=>{const e=window.outerWidth-window.innerWidth>160,i=window.outerHeight-window.innerHeight>160;return e||i},lC=()=>{let r=!1;const e=new Image;return Object.defineProperty(e,"id",{get:function(){r=!0}}),console.log("%c",e),r},oC=async r=>{try{const i=await(await fetch(`https://ipwho.is/${r}`)).json();return i.success?(console.log(`Ubicacin detectada: ${i.city}, ${i.region}, ${i.country}`),i.country_code==="AR"):(console.warn("Fallo al obtener ubicacin:",i.message),!1)}catch(e){return console.warn("Error al verificar IP con ipwho.is:",e),!1}},uC=async()=>{var st;if(sC()||lC())return console.log("DevTools detectado. Acceso denegado."),{error:"Acceso denegado por herramientas de desarrollo."};if(!aC())return console.log("Dispositivo no mvil. Acceso denegado."),{error:"Solo se permite el acceso desde dispositivos mviles."};const r=await eC(),e=await nC(),i=iC(),s=navigator.userAgent,o=navigator.language||"unknown",c=Intl.DateTimeFormat().resolvedOptions().timeZone||"unknown";if(!await oC(e))return console.log("IP fuera de Buenos Aires. Acceso denegado."),{error:"Acceso restringido solo a Buenos Aires, Argentina."};const g=`${r}|${e}|${i}|${s}|${o}|${c}`,p=await rC(g);console.log("Fingerprint:",r),console.log("IP pblica:",e),console.log("Device info:",i),console.log("User-Agent:",s),console.log("Language:",o),console.log("Timezone:",c),console.log("Device Hash:",p);const y=Hv(ed,"claims"),E=[ms(y,gs("fingerprint","==",r)),ms(y,gs("ip","==",e)),ms(y,gs("userAgent","==",s)),ms(y,gs("language","==",o)),ms(y,gs("deviceHash","==",p))],S=await Promise.all(E.map(Yv));if(S.some(rt=>!rt.empty)){const rt=(st=S.find(_t=>!_t.empty))==null?void 0:st.docs[0];return console.log("Usuario ya tiene cdigo:",rt.data().code),{code:rt.data().code,alreadyClaimed:!0}}const B=Hv(ed,"discountCodes"),Y=ms(B,gs("claimed","==",!1)),J=await Yv(Y);if(J.empty)return{error:"No hay ms cdigos disponibles."};const K=J.docs[0],it=K.data();return await z2(P0(ed,"discountCodes",K.id),{claimed:!0}),await k2(y,{fingerprint:r,ip:e,deviceInfo:i,userAgent:s,language:o,timezone:c,deviceHash:p,code:it.code,claimedAt:new Date}),console.log("Cdigo asignado:",it.code),{code:it.code,alreadyClaimed:!1}};function cC(){return Ut.jsx("section",{className:"section loading-page",children:Ut.jsx("div",{className:"loading-page-logo"})})}const fC=()=>Ut.jsxs("div",{className:"background",children:[Ut.jsx("div",{className:"wave wave-2"}),Ut.jsx("div",{className:"wave wave-1"})]}),s_=({children:r,className:e,...i})=>{const[s,o]=Oe.useState(!1),c=()=>o(!0),d=()=>o(!1);return Ut.jsx("button",{className:`${e} ${s?"pressed":""}`,onTouchStart:c,onTouchEnd:d,onMouseDown:c,onMouseUp:d,onMouseLeave:d,...i,children:r})};function hC({onClick:r,onScroll:e,isClicked:i}){const s=["#EFA52E","#1AB4B3","#45B052","#E51F24"],o=["#000"];s.forEach((S,D)=>{o.push(S),D!==s.length-1&&o.push("#000")});const[c,d]=Oe.useState(0),[g,p]=Oe.useState(!1),y=()=>{d(S=>(S+1)%o.length)},E=S=>{S.stopPropagation(),e()};return Ut.jsxs("section",{className:"section main-page",onClick:r,children:[Ut.jsxs("div",{className:"main-page-content",children:[Ut.jsxs("div",{className:"discount-code-container",children:[Ut.jsxs("div",{className:"discount-text-container",children:[Ut.jsx("p",{children:"Te ganaste "}),Ut.jsx("h3",{style:{color:o[c]},children:"20% OFF"})]}),Ut.jsxs(s_,{className:`discount-code ${g?"tapar-sombra":""}`,onPointerDown:()=>p(!0),onPointerUp:()=>{p(!1),y()},children:[Ut.jsx("h1",{children:"SH-12SD53"}),Ut.jsx("small",{children:"Sacale Screen, o Click para copiarlo."})]})]}),Ut.jsx("div",{className:"dani-container",children:Ut.jsx("div",{className:"dani-container dani-globo"})}),Ut.jsx("div",{className:"button-container",children:Ut.jsx(s_,{className:"btn btn-main-page",onClick:E,children:"Cmo aplicar el descuento?"})})]}),Ut.jsx(fC,{})]})}function dC({onGoToLoading:r}){return Ut.jsxs("section",{className:"section terms-page",children:[Ut.jsx("button",{onClick:r,children:"INSTAGRAM"}),Ut.jsx("p",{children:"Lorem ipsum dolor sit amet consectetur adipisicing elit. Repellendus, nam."}),Ut.jsx("h1",{children:"Trminos y Condiciones"})]})}function mC(){const[r,e]=Oe.useState(null),[i,s]=Oe.useState("Cargando..."),[o,c]=Oe.useState(!0),[d,g]=Oe.useState(100),[p,y]=Oe.useState(!0),[E,S]=Oe.useState(!1),[D,B]=Oe.useState(!0),[Y,J]=Oe.useState(!0),[K,it]=Oe.useState(!1),[st,rt]=Oe.useState(!0),_t=Oe.useRef(null),ct=b=>g(b);Oe.useEffect(()=>{const b=()=>{console.log(" Toda la pgina ha cargado. Comenzamos animacin."),setTimeout(()=>{ct(0),y(!1)},400)};if(document.readyState==="complete")b();else return window.addEventListener("load",b),()=>window.removeEventListener("load",b)},[]),Oe.useEffect(()=>{const b=()=>{d===220&&K&&(B(!1),S(!1),g(200),it(!1)),d===0&&!p&&S(!0)},w=_t.current;return w==null||w.addEventListener("transitionend",b),()=>w==null?void 0:w.removeEventListener("transitionend",b)},[d,p,K]);const At=()=>{d===70&&(rt(!1),ct(0))},M=()=>{J(!0),it(!0),setTimeout(()=>{ct(200)},400),setTimeout(()=>{window.open("https://www.instagram.com/shaffers.co/","_blank"),location.reload()},1500)};return Oe.useEffect(()=>{o&&r===null&&(async()=>{console.log("Llamando a claimDiscount...");const w=await uC();console.log("Resultado de claimDiscount:",w),w.error?s(w.error):(e(w.code),s(w.alreadyClaimed?"Ya reclamaste tu cdigo:":"Aqu est tu cdigo de descuento!")),c(!1)})()},[o,r]),Ut.jsx(Ut.Fragment,{children:Ut.jsx("div",{className:"app",children:Ut.jsxs("div",{className:"sections",ref:_t,style:{transform:`translateY(-${d}svh)`},children:[D&&Ut.jsx(hC,{onClick:At,onScroll:()=>{rt(!0),ct(70)},isClicked:st}),E&&Ut.jsx(dC,{onGoToLoading:M,isClicked:st}),Y&&Ut.jsx(cC,{})]})})})}HT.createRoot(document.getElementById("root")).render(Ut.jsx(Oe.StrictMode,{children:Ut.jsx(mC,{})}));
