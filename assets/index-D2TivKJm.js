(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const h of o)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const h={};return o.integrity&&(h.integrity=o.integrity),o.referrerPolicy&&(h.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?h.credentials="include":o.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(o){if(o.ep)return;o.ep=!0;const h=i(o);fetch(o.href,h)}})();var vf={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function w0(){if(Zp)return Il;Zp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,o,h){var d=null;if(h!==void 0&&(d=""+h),o.key!==void 0&&(d=""+o.key),"key"in o){h={};for(var g in o)g!=="key"&&(h[g]=o[g])}else h=o;return o=h.ref,{$$typeof:s,type:a,key:d,ref:o!==void 0?o:null,props:h}}return Il.Fragment=e,Il.jsx=i,Il.jsxs=i,Il}var $p;function D0(){return $p||($p=1,vf.exports=w0()),vf.exports}var Nt=D0(),Ef={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function C0(){if(Jp)return Tt;Jp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.iterator;function z(D){return D===null||typeof D!="object"?null:(D=N&&D[N]||D["@@iterator"],typeof D=="function"?D:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,nt={};function Z(D,X,et){this.props=D,this.context=X,this.refs=nt,this.updater=et||G}Z.prototype.isReactComponent={},Z.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},Z.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function vt(){}vt.prototype=Z.prototype;function lt(D,X,et){this.props=D,this.context=X,this.refs=nt,this.updater=et||G}var ht=lt.prototype=new vt;ht.constructor=lt,$(ht,Z.prototype),ht.isPureReactComponent=!0;var Vt=Array.isArray,pt={H:null,A:null,T:null,S:null,V:null},wt=Object.prototype.hasOwnProperty;function O(D,X,et,J,ct,bt){return et=bt.ref,{$$typeof:s,type:D,key:X,ref:et!==void 0?et:null,props:bt}}function S(D,X){return O(D.type,X,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function V(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return X[et]})}var I=/\/+/g;function x(D,X){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):X.toString(36)}function w(){}function Oe(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(w,w):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function re(D,X,et,J,ct){var bt=typeof D;(bt==="undefined"||bt==="boolean")&&(D=null);var yt=!1;if(D===null)yt=!0;else switch(bt){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(D.$$typeof){case s:case e:yt=!0;break;case A:return yt=D._init,re(yt(D._payload),X,et,J,ct)}}if(yt)return ct=ct(D),yt=J===""?"."+x(D,0):J,Vt(ct)?(et="",yt!=null&&(et=yt.replace(I,"$&/")+"/"),re(ct,X,et,"",function(xn){return xn})):ct!=null&&(R(ct)&&(ct=S(ct,et+(ct.key==null||D&&D.key===ct.key?"":(""+ct.key).replace(I,"$&/")+"/")+yt)),X.push(ct)),1;yt=0;var Re=J===""?".":J+":";if(Vt(D))for(var Zt=0;Zt<D.length;Zt++)J=D[Zt],bt=Re+x(J,Zt),yt+=re(J,X,et,bt,ct);else if(Zt=z(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!(J=D.next()).done;)J=J.value,bt=Re+x(J,Zt++),yt+=re(J,X,et,bt,ct);else if(bt==="object"){if(typeof D.then=="function")return re(Oe(D),X,et,J,ct);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return yt}function H(D,X,et){if(D==null)return D;var J=[],ct=0;return re(D,J,"","",function(bt){return X.call(et,bt,ct++)}),J}function tt(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var ot=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Pt(){}return Tt.Children={map:H,forEach:function(D,X,et){H(D,function(){X.apply(this,arguments)},et)},count:function(D){var X=0;return H(D,function(){X++}),X},toArray:function(D){return H(D,function(X){return X})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Tt.Component=Z,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=lt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pt,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return pt.H.useMemoCache(D)}},Tt.cache=function(D){return function(){return D.apply(null,arguments)}},Tt.cloneElement=function(D,X,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var J=$({},D.props),ct=D.key,bt=void 0;if(X!=null)for(yt in X.ref!==void 0&&(bt=void 0),X.key!==void 0&&(ct=""+X.key),X)!wt.call(X,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&X.ref===void 0||(J[yt]=X[yt]);var yt=arguments.length-2;if(yt===1)J.children=et;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];J.children=Re}return O(D.type,ct,void 0,void 0,bt,J)},Tt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},Tt.createElement=function(D,X,et){var J,ct={},bt=null;if(X!=null)for(J in X.key!==void 0&&(bt=""+X.key),X)wt.call(X,J)&&J!=="key"&&J!=="__self"&&J!=="__source"&&(ct[J]=X[J]);var yt=arguments.length-2;if(yt===1)ct.children=et;else if(1<yt){for(var Re=Array(yt),Zt=0;Zt<yt;Zt++)Re[Zt]=arguments[Zt+2];ct.children=Re}if(D&&D.defaultProps)for(J in yt=D.defaultProps,yt)ct[J]===void 0&&(ct[J]=yt[J]);return O(D,bt,void 0,void 0,null,ct)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(D){return{$$typeof:g,render:D}},Tt.isValidElement=R,Tt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:tt}},Tt.memo=function(D,X){return{$$typeof:v,type:D,compare:X===void 0?null:X}},Tt.startTransition=function(D){var X=pt.T,et={};pt.T=et;try{var J=D(),ct=pt.S;ct!==null&&ct(et,J),typeof J=="object"&&J!==null&&typeof J.then=="function"&&J.then(Pt,ot)}catch(bt){ot(bt)}finally{pt.T=X}},Tt.unstable_useCacheRefresh=function(){return pt.H.useCacheRefresh()},Tt.use=function(D){return pt.H.use(D)},Tt.useActionState=function(D,X,et){return pt.H.useActionState(D,X,et)},Tt.useCallback=function(D,X){return pt.H.useCallback(D,X)},Tt.useContext=function(D){return pt.H.useContext(D)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(D,X){return pt.H.useDeferredValue(D,X)},Tt.useEffect=function(D,X,et){var J=pt.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return J.useEffect(D,X)},Tt.useId=function(){return pt.H.useId()},Tt.useImperativeHandle=function(D,X,et){return pt.H.useImperativeHandle(D,X,et)},Tt.useInsertionEffect=function(D,X){return pt.H.useInsertionEffect(D,X)},Tt.useLayoutEffect=function(D,X){return pt.H.useLayoutEffect(D,X)},Tt.useMemo=function(D,X){return pt.H.useMemo(D,X)},Tt.useOptimistic=function(D,X){return pt.H.useOptimistic(D,X)},Tt.useReducer=function(D,X,et){return pt.H.useReducer(D,X,et)},Tt.useRef=function(D){return pt.H.useRef(D)},Tt.useState=function(D){return pt.H.useState(D)},Tt.useSyncExternalStore=function(D,X,et){return pt.H.useSyncExternalStore(D,X,et)},Tt.useTransition=function(){return pt.H.useTransition()},Tt.version="19.1.0",Tt}var Wp;function rd(){return Wp||(Wp=1,Ef.exports=C0()),Ef.exports}var ee=rd(),Tf={exports:{}},Nl={},Af={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function V0(){return ty||(ty=1,function(s){function e(H,tt){var ot=H.length;H.push(tt);t:for(;0<ot;){var Pt=ot-1>>>1,D=H[Pt];if(0<o(D,tt))H[Pt]=tt,H[ot]=D,ot=Pt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],ot=H.pop();if(ot!==tt){H[0]=ot;t:for(var Pt=0,D=H.length,X=D>>>1;Pt<X;){var et=2*(Pt+1)-1,J=H[et],ct=et+1,bt=H[ct];if(0>o(J,ot))ct<D&&0>o(bt,J)?(H[Pt]=bt,H[ct]=ot,Pt=ct):(H[Pt]=J,H[et]=ot,Pt=et);else if(ct<D&&0>o(bt,ot))H[Pt]=bt,H[ct]=ot,Pt=ct;else break t}}return tt}function o(H,tt){var ot=H.sortIndex-tt.sortIndex;return ot!==0?ot:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var _=[],v=[],A=1,N=null,z=3,G=!1,$=!1,nt=!1,Z=!1,vt=typeof setTimeout=="function"?setTimeout:null,lt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Vt(H){for(var tt=i(v);tt!==null;){if(tt.callback===null)a(v);else if(tt.startTime<=H)a(v),tt.sortIndex=tt.expirationTime,e(_,tt);else break;tt=i(v)}}function pt(H){if(nt=!1,Vt(H),!$)if(i(_)!==null)$=!0,wt||(wt=!0,x());else{var tt=i(v);tt!==null&&re(pt,tt.startTime-H)}}var wt=!1,O=-1,S=5,R=-1;function V(){return Z?!0:!(s.unstable_now()-R<S)}function I(){if(Z=!1,wt){var H=s.unstable_now();R=H;var tt=!0;try{t:{$=!1,nt&&(nt=!1,lt(O),O=-1),G=!0;var ot=z;try{e:{for(Vt(H),N=i(_);N!==null&&!(N.expirationTime>H&&V());){var Pt=N.callback;if(typeof Pt=="function"){N.callback=null,z=N.priorityLevel;var D=Pt(N.expirationTime<=H);if(H=s.unstable_now(),typeof D=="function"){N.callback=D,Vt(H),tt=!0;break e}N===i(_)&&a(_),Vt(H)}else a(_);N=i(_)}if(N!==null)tt=!0;else{var X=i(v);X!==null&&re(pt,X.startTime-H),tt=!1}}break t}finally{N=null,z=ot,G=!1}tt=void 0}}finally{tt?x():wt=!1}}}var x;if(typeof ht=="function")x=function(){ht(I)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Oe=w.port2;w.port1.onmessage=I,x=function(){Oe.postMessage(null)}}else x=function(){vt(I,0)};function re(H,tt){O=vt(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return z},s.unstable_next=function(H){switch(z){case 1:case 2:case 3:var tt=3;break;default:tt=z}var ot=z;z=tt;try{return H()}finally{z=ot}},s.unstable_requestPaint=function(){Z=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ot=z;z=H;try{return tt()}finally{z=ot}},s.unstable_scheduleCallback=function(H,tt,ot){var Pt=s.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Pt+ot:Pt):ot=Pt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ot+D,H={id:A++,callback:tt,priorityLevel:H,startTime:ot,expirationTime:D,sortIndex:-1},ot>Pt?(H.sortIndex=ot,e(v,H),i(_)===null&&H===i(v)&&(nt?(lt(O),O=-1):nt=!0,re(pt,ot-Pt))):(H.sortIndex=D,e(_,H),$||G||($=!0,wt||(wt=!0,x()))),H},s.unstable_shouldYield=V,s.unstable_wrapCallback=function(H){var tt=z;return function(){var ot=z;z=tt;try{return H.apply(this,arguments)}finally{z=ot}}}}(Sf)),Sf}var ey;function I0(){return ey||(ey=1,Af.exports=V0()),Af.exports}var bf={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function N0(){if(ny)return je;ny=1;var s=rd();function e(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)v+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function h(_,v,A){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:N==null?null:""+N,children:_,containerInfo:v,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,je.createPortal=function(_,v){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(e(299));return h(_,v,null,A)},je.flushSync=function(_){var v=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=v,a.p=A,a.d.f()}},je.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,a.d.C(_,v))},je.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},je.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var A=v.as,N=g(A,v.crossOrigin),z=typeof v.integrity=="string"?v.integrity:void 0,G=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;A==="style"?a.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:N,integrity:z,fetchPriority:G}):A==="script"&&a.d.X(_,{crossOrigin:N,integrity:z,fetchPriority:G,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},je.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var A=g(v.as,v.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&a.d.M(_)},je.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var A=v.as,N=g(A,v.crossOrigin);a.d.L(_,A,{crossOrigin:N,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},je.preloadModule=function(_,v){if(typeof _=="string")if(v){var A=g(v.as,v.crossOrigin);a.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:A,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else a.d.m(_)},je.requestFormReset=function(_){a.d.r(_)},je.unstable_batchedUpdates=function(_,v){return _(v)},je.useFormState=function(_,v,A){return d.H.useFormState(_,v,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.1.0",je}var iy;function O0(){if(iy)return bf.exports;iy=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),bf.exports=N0(),bf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function M0(){if(ry)return Nl;ry=1;var s=I0(),e=rd(),i=O0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function _(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function v(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=v(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,N=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),vt=Symbol.for("react.provider"),lt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Vt=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=I&&t[I]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function Oe(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $:return"Fragment";case Z:return"Profiler";case nt:return"StrictMode";case pt:return"Suspense";case wt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ht:return(t.displayName||"Context")+".Provider";case lt:return(t._context.displayName||"Context")+".Consumer";case Vt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Oe(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Oe(t(n))}catch{}}return null}var re=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},Pt=[],D=-1;function X(t){return{current:t}}function et(t){0>D||(t.current=Pt[D],Pt[D]=null,D--)}function J(t,n){D++,Pt[D]=t.current,t.current=n}var ct=X(null),bt=X(null),yt=X(null),Re=X(null);function Zt(t,n){switch(J(yt,n),J(bt,t),J(ct,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?bp(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=bp(n),t=Rp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ct),J(ct,t)}function xn(){et(ct),et(bt),et(yt)}function Oi(t){t.memoizedState!==null&&J(Re,t);var n=ct.current,r=Rp(n,t.type);n!==r&&(J(bt,t),J(ct,r))}function ni(t){bt.current===t&&(et(ct),et(bt)),Re.current===t&&(et(Re),Rl._currentValue=ot)}var Tr=Object.prototype.hasOwnProperty,Ar=s.unstable_scheduleCallback,Sr=s.unstable_cancelCallback,As=s.unstable_shouldYield,Wl=s.unstable_requestPaint,mn=s.unstable_now,_c=s.unstable_getCurrentPriorityLevel,Ss=s.unstable_ImmediatePriority,ca=s.unstable_UserBlockingPriority,br=s.unstable_NormalPriority,vc=s.unstable_LowPriority,ha=s.unstable_IdlePriority,bs=s.log,to=s.unstable_setDisableYieldValue,ae=null,Ht=null;function nn(t){if(typeof bs=="function"&&to(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ae,t)}catch{}}var ke=Math.clz32?Math.clz32:Rr,eo=Math.log,Ec=Math.LN2;function Rr(t){return t>>>=0,t===0?32:31-(eo(t)/Ec|0)|0}var wr=256,Dr=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function fa(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(y&=E,y!==0?c=Dn(y):r||(r=E&~t,r!==0&&(c=Dn(r))))):(E=l&~f,E!==0?c=Dn(E):y!==0?c=Dn(y):r||(r=l&~t,r!==0&&(c=Dn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Cr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(){var t=wr;return wr<<=1,(wr&4194048)===0&&(wr=256),t}function Ds(){var t=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),t}function ii(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ri(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cs(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,P=t.hiddenUpdates;for(r=y&~r;0<r;){var j=31-ke(r),F=1<<j;E[j]=0,b[j]=-1;var B=P[j];if(B!==null)for(P[j]=null,j=0;j<B.length;j++){var q=B[j];q!==null&&(q.lane&=-536870913)}r&=~F}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Vs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Mi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function da(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:Gp(t.type))}function no(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Wt=Math.random().toString(36).slice(2),_e="__reactFiber$"+Wt,fe="__reactProps$"+Wt,gn="__reactContainer$"+Wt,Is="__reactEvents$"+Wt,Tc="__reactListeners$"+Wt,Ui="__reactHandles$"+Wt,io="__reactResources$"+Wt,Vr="__reactMarker$"+Wt;function Li(t){delete t[_e],delete t[fe],delete t[Is],delete t[Tc],delete t[Ui]}function ai(t){var n=t[_e];if(n)return n;for(var r=t.parentNode;r;){if(n=r[gn]||r[_e]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Vp(t);t!==null;){if(r=t[_e])return r;t=Vp(t)}return n}t=r,r=t.parentNode}return null}function Ln(t){if(t=t[_e]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function zn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ye(t){var n=t[io];return n||(n=t[io]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[Vr]=!0}var Ns=new Set,ma={};function Cn(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(ma[t]=n,t=0;t<n.length;t++)Ns.add(n[t])}var ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ao={},Ir={};function so(t){return Tr.call(Ir,t)?!0:Tr.call(ao,t)?!1:ro.test(t)?Ir[t]=!0:(ao[t]=!0,!1)}function zi(t,n,r){if(so(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Me(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Nr,lo;function li(t){if(Nr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Nr=n&&n[1]||"",lo=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nr+t+lo}var ga=!1;function pa(t,n){if(!t||ga)return"";ga=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var B=q}Reflect.construct(t,[],F)}else{try{F.call()}catch(q){B=q}t.call(F.prototype)}}else{try{throw Error()}catch(q){B=q}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&B&&typeof q.stack=="string")return[q.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),P=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<P.length&&!P[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===P.length)for(l=b.length-1,c=P.length-1;1<=l&&0<=c&&b[l]!==P[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==P[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==P[c]){var j=`
`+b[l].replace(" at new "," at ");return t.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",t.displayName)),j}while(1<=l&&0<=c);break}}}finally{ga=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?li(r):""}function Os(t){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return pa(t.type,!1);case 11:return pa(t.type.render,!1);case 1:return pa(t.type,!0);case 31:return li("Activity");default:return""}}function ya(t){try{var n="";do n+=Os(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ke(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ac(t){var n=Ms(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function _a(t){t._valueTracker||(t._valueTracker=Ac(t))}function xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Or(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Sc=/[\n"\\]/g;function de(t){return t.replace(Sc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ke(n)):t.value!==""+Ke(n)&&(t.value=""+Ke(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Pi(t,y,Ke(n)):r!=null?Pi(t,y,Ke(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ke(E):t.removeAttribute("name")}function Mr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ke(r):"",n=n!=null?""+Ke(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Pi(t,n,r){n==="number"&&Or(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function oi(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ke(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ke(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ke(r):""}function xr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(re(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ke(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Ur=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oo(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Ur.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Us(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&oo(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&oo(t,f,n[f])}function Ls(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function va(t){return Rc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ui=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function zs(t){var n=Ln(t);if(n&&(t=n.stateNode)){var r=t[fe]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[fe]||null;if(!c)throw Error(a(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&xs(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&oi(t,!!r.multiple,n,!1)}}}var Bn=!1;function uo(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(ci!==null||hi!==null)&&(iu(),ci&&(n=ci,t=hi,hi=ci=null,zs(n),t)))for(n=0;n<t.length;n++)zs(t[n])}}function Lr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[fe]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Vn)try{var zr={};Object.defineProperty(zr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",zr,zr),window.removeEventListener("test",zr,zr)}catch{_n=!1}var qn=null,Bi=null,fi=null;function Ps(){if(fi)return fi;var t,n=Bi,r=n.length,l,c="value"in qn?qn.value:qn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return fi=c.slice(t,1<l?1-l:void 0)}function kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Hn(){return!0}function Bs(){return!1}function we(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hn:Bs,this.isPropagationStopped=Bs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Hn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Hn)},persist:function(){},isPersistent:Hn}),n}var qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ea=we(qt),Pr=A({},qt,{view:0,detail:0}),co=we(Pr),Ta,Aa,jn,Br=A({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==jn&&(jn&&t.type==="mousemove"?(Ta=t.screenX-jn.screenX,Aa=t.screenY-jn.screenY):Aa=Ta=0,jn=t),Ta)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),vn=we(Br),ho=A({},Br,{dataTransfer:0}),wc=we(ho),qr=A({},Pr,{relatedTarget:0}),Sa=we(qr),qs=A({},qt,{animationName:0,elapsedTime:0,pseudoElement:0}),ba=we(qs),fo=A({},qt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ra=we(fo),Dc=A({},qt,{data:0}),ks=we(Dc),kr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},go={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hs(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=go[t])?!!n[t]:!1}function Hr(){return Hs}var po=A({},Pr,{key:function(t){if(t.key){var n=kr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mo[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(t){return t.type==="keypress"?kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wa=we(po),yo=A({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),js=we(yo),di=A({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),_o=we(di),vo=A({},qt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Eo=we(vo),To=A({},Br,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=we(To),Xe=A({},qt,{newState:0,oldState:0}),Ao=we(Xe),So=[9,13,27,32],Gn=Vn&&"CompositionEvent"in window,u=null;Vn&&"documentMode"in document&&(u=document.documentMode);var m=Vn&&"TextEvent"in window&&!u,p=Vn&&(!Gn||u&&8<u&&11>=u),T=" ",U=!1;function k(t,n){switch(t){case"keyup":return So.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ot=!1;function ve(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function Mt(t,n){if(Ot)return t==="compositionend"||!Gn&&k(t,n)?(t=Ps(),fi=Bi=qn=null,Ot=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function mi(t,n,r,l){ci?hi?hi.push(l):hi=[l]:ci=l,n=uu(n,"onChange"),0<n.length&&(r=new Ea("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var xe=null,Qn=null;function Gs(t){vp(t,0)}function bo(t){var n=zn(t);if(xs(n))return t}function qd(t,n){if(t==="change")return n}var kd=!1;if(Vn){var Cc;if(Vn){var Vc="oninput"in document;if(!Vc){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),Vc=typeof Hd.oninput=="function"}Cc=Vc}else Cc=!1;kd=Cc&&(!document.documentMode||9<document.documentMode)}function jd(){xe&&(xe.detachEvent("onpropertychange",Gd),Qn=xe=null)}function Gd(t){if(t.propertyName==="value"&&bo(Qn)){var n=[];mi(n,Qn,t,yn(t)),uo(Gs,n)}}function nE(t,n,r){t==="focusin"?(jd(),xe=n,Qn=r,xe.attachEvent("onpropertychange",Gd)):t==="focusout"&&jd()}function iE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bo(Qn)}function rE(t,n){if(t==="click")return bo(n)}function aE(t,n){if(t==="input"||t==="change")return bo(n)}function sE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:sE;function Qs(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Tr.call(n,c)||!an(t[c],n[c]))return!1}return!0}function Qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Fd(t,n){var r=Qd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Qd(r)}}function Yd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Yd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Kd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Or(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Or(t.document)}return n}function Ic(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var lE=Vn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Nc=null,Fs=null,Oc=!1;function Xd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Oc||Ca==null||Ca!==Or(l)||(l=Ca,"selectionStart"in l&&Ic(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Fs&&Qs(Fs,l)||(Fs=l,l=uu(Nc,"onSelect"),0<l.length&&(n=new Ea("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Ca)))}function jr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Va={animationend:jr("Animation","AnimationEnd"),animationiteration:jr("Animation","AnimationIteration"),animationstart:jr("Animation","AnimationStart"),transitionrun:jr("Transition","TransitionRun"),transitionstart:jr("Transition","TransitionStart"),transitioncancel:jr("Transition","TransitionCancel"),transitionend:jr("Transition","TransitionEnd")},Mc={},Zd={};Vn&&(Zd=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Gr(t){if(Mc[t])return Mc[t];if(!Va[t])return t;var n=Va[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Zd)return Mc[t]=n[r];return t}var $d=Gr("animationend"),Jd=Gr("animationiteration"),Wd=Gr("animationstart"),oE=Gr("transitionrun"),uE=Gr("transitionstart"),cE=Gr("transitioncancel"),tm=Gr("transitionend"),em=new Map,xc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xc.push("scrollEnd");function In(t,n){em.set(t,n),Cn(n,[t])}var nm=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=nm.get(t);return r!==void 0?r:(n={value:t,source:n,stack:ya(n)},nm.set(t,n),n)}return{value:t,source:n,stack:ya(n)}}var Tn=[],Ia=0,Uc=0;function Ro(){for(var t=Ia,n=Uc=Ia=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&im(r,c,f)}}function wo(t,n,r,l){Tn[Ia++]=t,Tn[Ia++]=n,Tn[Ia++]=r,Tn[Ia++]=l,Uc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lc(t,n,r,l){return wo(t,n,r,l),Do(t)}function Na(t,n){return wo(t,null,null,n),Do(t)}function im(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function Do(t){if(50<yl)throw yl=0,Hh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Oa={};function hE(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new hE(t,n,r,l)}function zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function rm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Co(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")zc(t)&&(y=1);else if(typeof t=="string")y=d0(t,r,ct.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=sn(31,r,n,c),t.elementType=R,t.lanes=f,t;case $:return Qr(r.children,c,f,n);case nt:y=8,c|=24;break;case Z:return t=sn(12,r,n,c|2),t.elementType=Z,t.lanes=f,t;case pt:return t=sn(13,r,n,c),t.elementType=pt,t.lanes=f,t;case wt:return t=sn(19,r,n,c),t.elementType=wt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case vt:case ht:y=10;break t;case lt:y=9;break t;case Vt:y=11;break t;case O:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Qr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function Pc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function Bc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Ma=[],xa=0,Vo=null,Io=0,An=[],Sn=0,Fr=null,pi=1,yi="";function Yr(t,n){Ma[xa++]=Io,Ma[xa++]=Vo,Vo=t,Io=n}function am(t,n,r){An[Sn++]=pi,An[Sn++]=yi,An[Sn++]=Fr,Fr=t;var l=pi;t=yi;var c=32-ke(l)-1;l&=~(1<<c),r+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-ke(n)+c|r<<c|l,yi=f+t}else pi=1<<f|r<<c|l,yi=t}function qc(t){t.return!==null&&(Yr(t,1),am(t,1,0))}function kc(t){for(;t===Vo;)Vo=Ma[--xa],Ma[xa]=null,Io=Ma[--xa],Ma[xa]=null;for(;t===Fr;)Fr=An[--Sn],An[Sn]=null,yi=An[--Sn],An[Sn]=null,pi=An[--Sn],An[Sn]=null}var Ze=null,se=null,Bt=!1,Kr=null,Fn=!1,Hc=Error(a(519));function Xr(t){var n=Error(a(418,""));throw Xs(En(n,t)),Hc}function sm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[_e]=t,n[fe]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<vl.length;r++)Ct(vl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Mr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_a(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),xr(n,l.value,l.defaultValue,l.children),_a(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||Sp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=cu),n=!0):n=!1,n||Xr(t)}function lm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ze=Ze.return}}function Ys(t){if(t!==Ze)return!1;if(!Bt)return lm(t),Bt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||af(t.type,t.memoizedProps)),r=!r),r&&se&&Xr(t),lm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){se=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,er(t.type)?(t=uf,uf=null,se=t):se=n):se=Ze?On(t.stateNode.nextSibling):null;return!0}function Ks(){se=Ze=null,Bt=!1}function om(){var t=Kr;return t!==null&&(We===null?We=t:We.push.apply(We,t),Kr=null),t}function Xs(t){Kr===null?Kr=[t]:Kr.push(t)}var jc=X(null),Zr=null,_i=null;function qi(t,n,r){J(jc,n._currentValue),n._currentValue=r}function vi(t){t._currentValue=jc.current,et(jc)}function Gc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function Qc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),Gc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),Gc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Zs(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===Re.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&Qc(n,t,r,l),n.flags|=262144}function No(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $r(t){Zr=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function He(t){return um(Zr,t)}function Oo(t,n){return Zr===null&&$r(t),um(t,n)}function um(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},_i===null){if(t===null)throw Error(a(308));_i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _i=_i.next=n;return r}var fE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},dE=s.unstable_scheduleCallback,mE=s.unstable_NormalPriority,Te={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Fc(){return{controller:new fE,data:new Map,refCount:0}}function $s(t){t.refCount--,t.refCount===0&&dE(mE,function(){t.controller.abort()})}var Js=null,Yc=0,Ua=0,La=null;function gE(t,n){if(Js===null){var r=Js=[];Yc=0,Ua=Xh(),La={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Yc++,n.then(cm,cm),n}function cm(){if(--Yc===0&&Js!==null){La!==null&&(La.status="fulfilled");var t=Js;Js=null,Ua=0,La=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function pE(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var hm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&gE(t,n),hm!==null&&hm(t,n)};var Jr=X(null);function Kc(){var t=Jr.current;return t!==null?t:$t.pooledCache}function Mo(t,n){n===null?J(Jr,Jr.current):J(Jr,n.pool)}function fm(){var t=Kc();return t===null?null:{parent:Te._currentValue,pool:t}}var Ws=Error(a(460)),dm=Error(a(474)),xo=Error(a(542)),Xc={then:function(){}};function mm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Uo(){}function gm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(Uo,Uo),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ym(t),t;default:if(typeof n.status=="string")n.then(Uo,Uo);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,ym(t),t}throw tl=n,Ws}}var tl=null;function pm(){if(tl===null)throw Error(a(459));var t=tl;return tl=null,t}function ym(t){if(t===Ws||t===xo)throw Error(a(483))}var ki=!1;function Zc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $c(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function ji(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=Do(t),im(t,null,r),n}return wo(t,l,n,r),Do(t)}function el(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}function Jc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Wc=!1;function nl(){if(Wc){var t=La;if(t!==null)throw t}}function il(t,n,r,l){Wc=!1;var c=t.updateQueue;ki=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,P=b.next;b.next=null,y===null?f=P:y.next=P,y=b;var j=t.alternate;j!==null&&(j=j.updateQueue,E=j.lastBaseUpdate,E!==y&&(E===null?j.firstBaseUpdate=P:E.next=P,j.lastBaseUpdate=b))}if(f!==null){var F=c.baseState;y=0,j=P=b=null,E=f;do{var B=E.lane&-536870913,q=B!==E.lane;if(q?(xt&B)===B:(l&B)===B){B!==0&&B===Ua&&(Wc=!0),j!==null&&(j=j.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var mt=t,ft=E;B=n;var Kt=r;switch(ft.tag){case 1:if(mt=ft.payload,typeof mt=="function"){F=mt.call(Kt,F,B);break t}F=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ft.payload,B=typeof mt=="function"?mt.call(Kt,F,B):mt,B==null)break t;F=A({},F,B);break t;case 2:ki=!0}}B=E.callback,B!==null&&(t.flags|=64,q&&(t.flags|=8192),q=c.callbacks,q===null?c.callbacks=[B]:q.push(B))}else q={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},j===null?(P=j=q,b=F):j=j.next=q,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);j===null&&(b=F),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=j,f===null&&(c.shared.lanes=0),$i|=y,t.lanes=y,t.memoizedState=F}}function _m(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function vm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)_m(r[t],n)}var za=X(null),Lo=X(0);function Em(t,n){t=wi,J(Lo,t),J(za,n),wi=t|n.baseLanes}function th(){J(Lo,wi),J(za,za.current)}function eh(){wi=Lo.current,et(za),et(Lo)}var Gi=0,At=null,Ft=null,me=null,zo=!1,Pa=!1,Wr=!1,Po=0,rl=0,Ba=null,yE=0;function ue(){throw Error(a(321))}function nh(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function ih(t,n,r,l,c,f){return Gi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?ig:rg,Wr=!1,f=r(l,c),Wr=!1,Pa&&(f=Am(n,r,l,c)),Tm(t),f}function Tm(t){H.H=Go;var n=Ft!==null&&Ft.next!==null;if(Gi=0,me=Ft=At=null,zo=!1,rl=0,Ba=null,n)throw Error(a(300));t===null||Ce||(t=t.dependencies,t!==null&&No(t)&&(Ce=!0))}function Am(t,n,r,l){At=t;var c=0;do{if(Pa&&(Ba=null),rl=0,Pa=!1,25<=c)throw Error(a(301));if(c+=1,me=Ft=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=bE,f=n(r,l)}while(Pa);return f}function _E(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Ft!==null?Ft.memoizedState:null)!==t&&(At.flags|=1024),n}function rh(){var t=Po!==0;return Po=0,t}function ah(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function sh(t){if(zo){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zo=!1}Gi=0,me=Ft=At=null,Pa=!1,rl=Po=0,Ba=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?At.memoizedState=me=t:me=me.next=t,me}function ge(){if(Ft===null){var t=At.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var n=me===null?At.memoizedState:me.next;if(n!==null)me=n,Ft=t;else{if(t===null)throw At.alternate===null?Error(a(467)):Error(a(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},me===null?At.memoizedState=me=t:me=me.next=t}return me}function lh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var n=rl;return rl+=1,Ba===null&&(Ba=[]),t=gm(Ba,t,n),n=At,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?ig:rg),t}function Bo(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===ht)return He(t)}throw Error(a(438,String(t)))}function oh(t){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=At.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=lh(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=V;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function qo(t){var n=ge();return uh(n,Ft,t)}function uh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,P=n,j=!1;do{var F=P.lane&-536870913;if(F!==P.lane?(xt&F)===F:(Gi&F)===F){var B=P.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),F===Ua&&(j=!0);else if((Gi&B)===B){P=P.next,B===Ua&&(j=!0);continue}else F={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=F,y=f):b=b.next=F,At.lanes|=B,$i|=B;F=P.action,Wr&&r(f,F),f=P.hasEagerState?P.eagerState:r(f,F)}else B={lane:F,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,At.lanes|=F,$i|=F;P=P.next}while(P!==null&&P!==n);if(b===null?y=f:b.next=E,!an(f,t.memoizedState)&&(Ce=!0,j&&(r=La,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ch(t){var n=ge(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Sm(t,n,r){var l=At,c=ge(),f=Bt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!an((Ft||c).memoizedState,r);y&&(c.memoizedState=r,Ce=!0),c=c.queue;var E=wm.bind(null,l,c,t);if(sl(2048,8,E,[t]),c.getSnapshot!==n||y||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,qa(9,ko(),Rm.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(Gi&124)!==0||bm(l,n,r)}return r}function bm(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=lh(),At.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Rm(t,n,r,l){n.value=r,n.getSnapshot=l,Dm(n)&&Cm(t)}function wm(t,n,r){return r(function(){Dm(n)&&Cm(t)})}function Dm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function Cm(t){var n=Na(t,2);n!==null&&hn(n,t,2)}function hh(t){var n=$e();if(typeof t=="function"){var r=t;if(t=r(),Wr){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Vm(t,n,r,l){return t.baseState=r,uh(t,Ft,typeof l=="function"?l:Ei)}function vE(t,n,r,l,c){if(jo(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Im(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Im(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Nm(t,n,E)}catch(P){fh(t,n,P)}finally{H.T=f}}else try{f=r(c,l),Nm(t,n,f)}catch(P){fh(t,n,P)}}function Nm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Om(t,n,l)},function(l){return fh(t,n,l)}):Om(t,n,r)}function Om(t,n,r){n.status="fulfilled",n.value=r,Mm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,Im(t,r)))}function fh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Mm(n),n=n.next;while(n!==l)}t.action=null}function Mm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function xm(t,n){return n}function Um(t,n){if(Bt){var r=$t.formState;if(r!==null){t:{var l=At;if(Bt){if(se){e:{for(var c=se,f=Fn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){se=On(c.nextSibling),l=c.data==="F!";break t}}Xr(l)}l=!1}l&&(n=r[0])}}return r=$e(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xm,lastRenderedState:n},r.queue=l,r=tg.bind(null,At,l),l.dispatch=r,l=hh(!1),f=yh.bind(null,At,!1,l.queue),l=$e(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=vE.bind(null,At,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Lm(t){var n=ge();return zm(n,Ft,t)}function zm(t,n,r){if(n=uh(t,n,xm)[0],t=qo(Ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=al(n)}catch(y){throw y===Ws?xo:y}else l=n;n=ge();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(At.flags|=2048,qa(9,ko(),EE.bind(null,c,r),null)),[l,f,t]}function EE(t,n){t.action=n}function Pm(t){var n=ge(),r=Ft;if(r!==null)return zm(n,r,t);ge(),n=n.memoizedState,r=ge();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=At.updateQueue,n===null&&(n=lh(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function ko(){return{destroy:void 0,resource:void 0}}function Bm(){return ge().memoizedState}function Ho(t,n,r,l){var c=$e();l=l===void 0?null:l,At.flags|=t,c.memoizedState=qa(1|n,ko(),r,l)}function sl(t,n,r,l){var c=ge();l=l===void 0?null:l;var f=c.memoizedState.inst;Ft!==null&&l!==null&&nh(l,Ft.memoizedState.deps)?c.memoizedState=qa(n,f,r,l):(At.flags|=t,c.memoizedState=qa(1|n,f,r,l))}function qm(t,n){Ho(8390656,8,t,n)}function km(t,n){sl(2048,8,t,n)}function Hm(t,n){return sl(4,2,t,n)}function jm(t,n){return sl(4,4,t,n)}function Gm(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Qm(t,n,r){r=r!=null?r.concat([t]):null,sl(4,4,Gm.bind(null,n,t),r)}function dh(){}function Fm(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&nh(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Ym(t,n){var r=ge();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&nh(n,l[1]))return l[0];if(l=t(),Wr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function mh(t,n,r){return r===void 0||(Gi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Zg(),At.lanes|=t,$i|=t,r)}function Km(t,n,r,l){return an(r,n)?r:za.current!==null?(t=mh(t,r,l),an(t,n)||(Ce=!0),t):(Gi&42)===0?(Ce=!0,t.memoizedState=r):(t=Zg(),At.lanes|=t,$i|=t,n)}function Xm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,yh(t,!1,n,r);try{var b=c(),P=H.S;if(P!==null&&P(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var j=pE(b,l);ll(t,n,j,cn(t))}else ll(t,n,l,cn(t))}catch(F){ll(t,n,{then:function(){},status:"rejected",reason:F},cn())}finally{tt.p=f,H.T=y}}function TE(){}function gh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Zm(t).queue;Xm(t,c,n,ot,r===null?TE:function(){return $m(t),r(l)})}function Zm(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:ot},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function $m(t){var n=Zm(t).next.queue;ll(t,n,{},cn())}function ph(){return He(Rl)}function Jm(){return ge().memoizedState}function Wm(){return ge().memoizedState}function AE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=Hi(r);var l=ji(n,t,r);l!==null&&(hn(l,n,r),el(l,n,r)),n={cache:Fc()},t.payload=n;return}n=n.return}}function SE(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},jo(t)?eg(n,r):(r=Lc(t,n,r,l),r!==null&&(hn(r,t,l),ng(r,n,l)))}function tg(t,n,r){var l=cn();ll(t,n,r,l)}function ll(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(jo(t))eg(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return wo(t,n,c,0),$t===null&&Ro(),!1}catch{}finally{}if(r=Lc(t,n,c,l),r!==null)return hn(r,t,l),ng(r,n,l),!0}return!1}function yh(t,n,r,l){if(l={lane:2,revertLane:Xh(),action:l,hasEagerState:!1,eagerState:null,next:null},jo(t)){if(n)throw Error(a(479))}else n=Lc(t,r,l,2),n!==null&&hn(n,t,2)}function jo(t){var n=t.alternate;return t===At||n!==null&&n===At}function eg(t,n){Pa=zo=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function ng(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}var Go={readContext:He,use:Bo,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},ig={readContext:He,use:Bo,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:He,useEffect:qm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,Ho(4194308,4,Gm.bind(null,n,t),r)},useLayoutEffect:function(t,n){return Ho(4194308,4,t,n)},useInsertionEffect:function(t,n){Ho(4,2,t,n)},useMemo:function(t,n){var r=$e();n=n===void 0?null:n;var l=t();if(Wr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=$e();if(r!==void 0){var c=r(n);if(Wr){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=SE.bind(null,At,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=hh(t);var n=t.queue,r=tg.bind(null,At,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:dh,useDeferredValue:function(t,n){var r=$e();return mh(r,t,n)},useTransition:function(){var t=hh(!1);return t=Xm.bind(null,At,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=At,c=$e();if(Bt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(xt&124)!==0||bm(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,qm(wm.bind(null,l,f,t),[t]),l.flags|=2048,qa(9,ko(),Rm.bind(null,l,f,r,n),null),r},useId:function(){var t=$e(),n=$t.identifierPrefix;if(Bt){var r=yi,l=pi;r=(l&~(1<<32-ke(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=Po++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=yE++,n="«"+n+"r"+r.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:ph,useFormState:Um,useActionState:Um,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=yh.bind(null,At,!0,r),r.dispatch=n,[t,n]},useMemoCache:oh,useCacheRefresh:function(){return $e().memoizedState=AE.bind(null,At)}},rg={readContext:He,use:Bo,useCallback:Fm,useContext:He,useEffect:km,useImperativeHandle:Qm,useInsertionEffect:Hm,useLayoutEffect:jm,useMemo:Ym,useReducer:qo,useRef:Bm,useState:function(){return qo(Ei)},useDebugValue:dh,useDeferredValue:function(t,n){var r=ge();return Km(r,Ft.memoizedState,t,n)},useTransition:function(){var t=qo(Ei)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:Sm,useId:Jm,useHostTransitionStatus:ph,useFormState:Lm,useActionState:Lm,useOptimistic:function(t,n){var r=ge();return Vm(r,Ft,t,n)},useMemoCache:oh,useCacheRefresh:Wm},bE={readContext:He,use:Bo,useCallback:Fm,useContext:He,useEffect:km,useImperativeHandle:Qm,useInsertionEffect:Hm,useLayoutEffect:jm,useMemo:Ym,useReducer:ch,useRef:Bm,useState:function(){return ch(Ei)},useDebugValue:dh,useDeferredValue:function(t,n){var r=ge();return Ft===null?mh(r,t,n):Km(r,Ft.memoizedState,t,n)},useTransition:function(){var t=ch(Ei)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:Sm,useId:Jm,useHostTransitionStatus:ph,useFormState:Pm,useActionState:Pm,useOptimistic:function(t,n){var r=ge();return Ft!==null?Vm(r,Ft,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:oh,useCacheRefresh:Wm},ka=null,ol=0;function Qo(t){var n=ol;return ol+=1,ka===null&&(ka=[]),gm(ka,t,n)}function ul(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Fo(t,n){throw n.$$typeof===N?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function ag(t){var n=t._init;return n(t._payload)}function sg(t){function n(M,C){if(t){var L=M.deletions;L===null?(M.deletions=[C],M.flags|=16):L.push(C)}}function r(M,C){if(!t)return null;for(;C!==null;)n(M,C),C=C.sibling;return null}function l(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function c(M,C){return M=gi(M,C),M.index=0,M.sibling=null,M}function f(M,C,L){return M.index=L,t?(L=M.alternate,L!==null?(L=L.index,L<C?(M.flags|=67108866,C):L):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,L,Q){return C===null||C.tag!==6?(C=Pc(L,M.mode,Q),C.return=M,C):(C=c(C,L),C.return=M,C)}function b(M,C,L,Q){var rt=L.type;return rt===$?j(M,C,L.props.children,Q,L.key):C!==null&&(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&ag(rt)===C.type)?(C=c(C,L.props),ul(C,L),C.return=M,C):(C=Co(L.type,L.key,L.props,null,M.mode,Q),ul(C,L),C.return=M,C)}function P(M,C,L,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==L.containerInfo||C.stateNode.implementation!==L.implementation?(C=Bc(L,M.mode,Q),C.return=M,C):(C=c(C,L.children||[]),C.return=M,C)}function j(M,C,L,Q,rt){return C===null||C.tag!==7?(C=Qr(L,M.mode,Q,rt),C.return=M,C):(C=c(C,L),C.return=M,C)}function F(M,C,L){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Pc(""+C,M.mode,L),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case z:return L=Co(C.type,C.key,C.props,null,M.mode,L),ul(L,C),L.return=M,L;case G:return C=Bc(C,M.mode,L),C.return=M,C;case S:var Q=C._init;return C=Q(C._payload),F(M,C,L)}if(re(C)||x(C))return C=Qr(C,M.mode,L,null),C.return=M,C;if(typeof C.then=="function")return F(M,Qo(C),L);if(C.$$typeof===ht)return F(M,Oo(M,C),L);Fo(M,C)}return null}function B(M,C,L,Q){var rt=C!==null?C.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return rt!==null?null:E(M,C,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case z:return L.key===rt?b(M,C,L,Q):null;case G:return L.key===rt?P(M,C,L,Q):null;case S:return rt=L._init,L=rt(L._payload),B(M,C,L,Q)}if(re(L)||x(L))return rt!==null?null:j(M,C,L,Q,null);if(typeof L.then=="function")return B(M,C,Qo(L),Q);if(L.$$typeof===ht)return B(M,C,Oo(M,L),Q);Fo(M,L)}return null}function q(M,C,L,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(L)||null,E(C,M,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case z:return M=M.get(Q.key===null?L:Q.key)||null,b(C,M,Q,rt);case G:return M=M.get(Q.key===null?L:Q.key)||null,P(C,M,Q,rt);case S:var Rt=Q._init;return Q=Rt(Q._payload),q(M,C,L,Q,rt)}if(re(Q)||x(Q))return M=M.get(L)||null,j(C,M,Q,rt,null);if(typeof Q.then=="function")return q(M,C,L,Qo(Q),rt);if(Q.$$typeof===ht)return q(M,C,L,Oo(C,Q),rt);Fo(C,Q)}return null}function mt(M,C,L,Q){for(var rt=null,Rt=null,st=C,dt=C=0,Ie=null;st!==null&&dt<L.length;dt++){st.index>dt?(Ie=st,st=null):Ie=st.sibling;var zt=B(M,st,L[dt],Q);if(zt===null){st===null&&(st=Ie);break}t&&st&&zt.alternate===null&&n(M,st),C=f(zt,C,dt),Rt===null?rt=zt:Rt.sibling=zt,Rt=zt,st=Ie}if(dt===L.length)return r(M,st),Bt&&Yr(M,dt),rt;if(st===null){for(;dt<L.length;dt++)st=F(M,L[dt],Q),st!==null&&(C=f(st,C,dt),Rt===null?rt=st:Rt.sibling=st,Rt=st);return Bt&&Yr(M,dt),rt}for(st=l(st);dt<L.length;dt++)Ie=q(st,M,dt,L[dt],Q),Ie!==null&&(t&&Ie.alternate!==null&&st.delete(Ie.key===null?dt:Ie.key),C=f(Ie,C,dt),Rt===null?rt=Ie:Rt.sibling=Ie,Rt=Ie);return t&&st.forEach(function(sr){return n(M,sr)}),Bt&&Yr(M,dt),rt}function ft(M,C,L,Q){if(L==null)throw Error(a(151));for(var rt=null,Rt=null,st=C,dt=C=0,Ie=null,zt=L.next();st!==null&&!zt.done;dt++,zt=L.next()){st.index>dt?(Ie=st,st=null):Ie=st.sibling;var sr=B(M,st,zt.value,Q);if(sr===null){st===null&&(st=Ie);break}t&&st&&sr.alternate===null&&n(M,st),C=f(sr,C,dt),Rt===null?rt=sr:Rt.sibling=sr,Rt=sr,st=Ie}if(zt.done)return r(M,st),Bt&&Yr(M,dt),rt;if(st===null){for(;!zt.done;dt++,zt=L.next())zt=F(M,zt.value,Q),zt!==null&&(C=f(zt,C,dt),Rt===null?rt=zt:Rt.sibling=zt,Rt=zt);return Bt&&Yr(M,dt),rt}for(st=l(st);!zt.done;dt++,zt=L.next())zt=q(st,M,dt,zt.value,Q),zt!==null&&(t&&zt.alternate!==null&&st.delete(zt.key===null?dt:zt.key),C=f(zt,C,dt),Rt===null?rt=zt:Rt.sibling=zt,Rt=zt);return t&&st.forEach(function(R0){return n(M,R0)}),Bt&&Yr(M,dt),rt}function Kt(M,C,L,Q){if(typeof L=="object"&&L!==null&&L.type===$&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case z:t:{for(var rt=L.key;C!==null;){if(C.key===rt){if(rt=L.type,rt===$){if(C.tag===7){r(M,C.sibling),Q=c(C,L.props.children),Q.return=M,M=Q;break t}}else if(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&ag(rt)===C.type){r(M,C.sibling),Q=c(C,L.props),ul(Q,L),Q.return=M,M=Q;break t}r(M,C);break}else n(M,C);C=C.sibling}L.type===$?(Q=Qr(L.props.children,M.mode,Q,L.key),Q.return=M,M=Q):(Q=Co(L.type,L.key,L.props,null,M.mode,Q),ul(Q,L),Q.return=M,M=Q)}return y(M);case G:t:{for(rt=L.key;C!==null;){if(C.key===rt)if(C.tag===4&&C.stateNode.containerInfo===L.containerInfo&&C.stateNode.implementation===L.implementation){r(M,C.sibling),Q=c(C,L.children||[]),Q.return=M,M=Q;break t}else{r(M,C);break}else n(M,C);C=C.sibling}Q=Bc(L,M.mode,Q),Q.return=M,M=Q}return y(M);case S:return rt=L._init,L=rt(L._payload),Kt(M,C,L,Q)}if(re(L))return mt(M,C,L,Q);if(x(L)){if(rt=x(L),typeof rt!="function")throw Error(a(150));return L=rt.call(L),ft(M,C,L,Q)}if(typeof L.then=="function")return Kt(M,C,Qo(L),Q);if(L.$$typeof===ht)return Kt(M,C,Oo(M,L),Q);Fo(M,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,C!==null&&C.tag===6?(r(M,C.sibling),Q=c(C,L),Q.return=M,M=Q):(r(M,C),Q=Pc(L,M.mode,Q),Q.return=M,M=Q),y(M)):r(M,C)}return function(M,C,L,Q){try{ol=0;var rt=Kt(M,C,L,Q);return ka=null,rt}catch(st){if(st===Ws||st===xo)throw st;var Rt=sn(29,st,null,M.mode);return Rt.lanes=Q,Rt.return=M,Rt}finally{}}}var Ha=sg(!0),lg=sg(!1),bn=X(null),Yn=null;function Qi(t){var n=t.alternate;J(Ae,Ae.current&1),J(bn,t),Yn===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(Yn=t)}function og(t){if(t.tag===22){if(J(Ae,Ae.current),J(bn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Fi()}function Fi(){J(Ae,Ae.current),J(bn,bn.current)}function Ti(t){et(bn),Yn===t&&(Yn=null),et(Ae)}var Ae=X(0);function Yo(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||of(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function _h(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var vh={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Hi(l);c.payload=n,r!=null&&(c.callback=r),n=ji(t,c,l),n!==null&&(hn(n,t,l),el(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=Hi(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=ji(t,c,l),n!==null&&(hn(n,t,l),el(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=Hi(r);l.tag=2,n!=null&&(l.callback=n),n=ji(t,l,r),n!==null&&(hn(n,t,r),el(n,t,r))}};function ug(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Qs(r,l)||!Qs(c,f):!0}function cg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&vh.enqueueReplaceState(n,n.state,null)}function ta(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Ko=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function hg(t){Ko(t)}function fg(t){console.error(t)}function dg(t){Ko(t)}function Xo(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function mg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Eh(t,n,r){return r=Hi(r),r.tag=3,r.payload={element:null},r.callback=function(){Xo(t,n)},r}function gg(t){return t=Hi(t),t.tag=3,t}function pg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){mg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){mg(n,r,l),typeof c!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function RE(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Zs(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Yn===null?Gh():r.alternate===null&&le===0&&(le=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Xc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Fh(t,l,c)),!1;case 22:return r.flags|=65536,l===Xc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Fh(t,l,c)),!1}throw Error(a(435,r.tag))}return Fh(t,l,c),Gh(),!1}if(Bt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Hc&&(t=Error(a(422),{cause:l}),Xs(En(t,r)))):(l!==Hc&&(n=Error(a(423),{cause:l}),Xs(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=Eh(t.stateNode,l,c),Jc(t,c),le!==4&&(le=2)),!1;var f=Error(a(520),{cause:l});if(f=En(f,r),pl===null?pl=[f]:pl.push(f),le!==4&&(le=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=Eh(r.stateNode,l,t),Jc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ji===null||!Ji.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=gg(c),pg(c,t,r,l),Jc(r,c),!1}r=r.return}while(r!==null);return!1}var yg=Error(a(461)),Ce=!1;function Ue(t,n,r,l){n.child=t===null?lg(n,null,r,l):Ha(n,t.child,r,l)}function _g(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return $r(n),l=ih(t,n,r,y,f,c),E=rh(),t!==null&&!Ce?(ah(t,n,c),Ai(t,n,c)):(Bt&&E&&qc(n),n.flags|=1,Ue(t,n,l,c),n.child)}function vg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!zc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Eg(t,n,f,l,c)):(t=Co(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Ch(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Qs,r(y,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=gi(f,l),t.ref=n.ref,t.return=n,n.child=t}function Eg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Qs(f,l)&&t.ref===n.ref)if(Ce=!1,n.pendingProps=l=f,Ch(t,c))(t.flags&131072)!==0&&(Ce=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return Th(t,n,r,l,c)}function Tg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return Ag(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Mo(n,f!==null?f.cachePool:null),f!==null?Em(n,f):th(),og(n);else return n.lanes=n.childLanes=536870912,Ag(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Mo(n,f.cachePool),Em(n,f),Fi(),n.memoizedState=null):(t!==null&&Mo(n,null),th(),Fi());return Ue(t,n,c,r),n.child}function Ag(t,n,r,l){var c=Kc();return c=c===null?null:{parent:Te._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Mo(n,null),th(),og(n),t!==null&&Zs(t,n,l,!0),null}function Zo(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function Th(t,n,r,l,c){return $r(n),r=ih(t,n,r,l,void 0,c),l=rh(),t!==null&&!Ce?(ah(t,n,c),Ai(t,n,c)):(Bt&&l&&qc(n),n.flags|=1,Ue(t,n,r,c),n.child)}function Sg(t,n,r,l,c,f){return $r(n),n.updateQueue=null,r=Am(n,l,r,c),Tm(t),l=rh(),t!==null&&!Ce?(ah(t,n,f),Ai(t,n,f)):(Bt&&l&&qc(n),n.flags|=1,Ue(t,n,r,f),n.child)}function bg(t,n,r,l,c){if($r(n),n.stateNode===null){var f=Oa,y=r.contextType;typeof y=="object"&&y!==null&&(f=He(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=vh,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Zc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?He(y):Oa,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(_h(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&vh.enqueueReplaceState(f,f.state,null),il(n,l,f,c),nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ta(r,E);f.props=b;var P=f.context,j=r.contextType;y=Oa,typeof j=="object"&&j!==null&&(y=He(j));var F=r.getDerivedStateFromProps;j=typeof F=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,j||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==y)&&cg(n,f,l,y),ki=!1;var B=n.memoizedState;f.state=B,il(n,l,f,c),nl(),P=n.memoizedState,E||B!==P||ki?(typeof F=="function"&&(_h(n,r,F,l),P=n.memoizedState),(b=ki||ug(n,r,b,l,B,P,y))?(j||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,$c(t,n),y=n.memoizedProps,j=ta(r,y),f.props=j,F=n.pendingProps,B=f.context,P=r.contextType,b=Oa,typeof P=="object"&&P!==null&&(b=He(P)),E=r.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==F||B!==b)&&cg(n,f,l,b),ki=!1,B=n.memoizedState,f.state=B,il(n,l,f,c),nl();var q=n.memoizedState;y!==F||B!==q||ki||t!==null&&t.dependencies!==null&&No(t.dependencies)?(typeof E=="function"&&(_h(n,r,E,l),q=n.memoizedState),(j=ki||ug(n,r,j,l,B,q,b)||t!==null&&t.dependencies!==null&&No(t.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),f.props=l,f.state=q,f.context=b,l=j):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Zo(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ha(n,t.child,null,c),n.child=Ha(n,null,r,c)):Ue(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function Rg(t,n,r,l){return Ks(),n.flags|=256,Ue(t,n,r,l),n.child}var Ah={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sh(t){return{baseLanes:t,cachePool:fm()}}function bh(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Rn),t}function wg(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ae.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Bt){if(c?Qi(n):Fi(),Bt){var E=se,b;if(b=E){t:{for(b=E,E=Fn;b.nodeType!==8;){if(!E){E=null;break t}if(b=On(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Fr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Ze=n,se=null,b=!0):b=!1}b||Xr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return of(E)?n.lanes=32:n.lanes=536870912,null;Ti(n)}return E=l.children,l=l.fallback,c?(Fi(),c=n.mode,E=$o({mode:"hidden",children:E},c),l=Qr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Sh(r),c.childLanes=bh(t,y,r),n.memoizedState=Ah,l):(Qi(n),Rh(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Qi(n),n.flags&=-257,n=wh(t,n,r)):n.memoizedState!==null?(Fi(),n.child=t.child,n.flags|=128,n=null):(Fi(),c=l.fallback,E=n.mode,l=$o({mode:"visible",children:l.children},E),c=Qr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ha(n,t.child,null,r),l=n.child,l.memoizedState=Sh(r),l.childLanes=bh(t,y,r),n.memoizedState=Ah,n=c);else if(Qi(n),of(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(a(419)),l.stack="",l.digest=y,Xs({value:l,source:null,stack:null}),n=wh(t,n,r)}else if(Ce||Zs(t,n,r,!1),y=(r&t.childLanes)!==0,Ce||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Mi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Na(t,l),hn(y,t,l),yg;E.data==="$?"||Gh(),n=wh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,se=On(E.nextSibling),Ze=n,Bt=!0,Kr=null,Fn=!1,t!==null&&(An[Sn++]=pi,An[Sn++]=yi,An[Sn++]=Fr,pi=t.id,yi=t.overflow,Fr=n),n=Rh(n,l.children),n.flags|=4096);return n}return c?(Fi(),c=l.fallback,E=n.mode,b=t.child,P=b.sibling,l=gi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,P!==null?c=gi(P,c):(c=Qr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Sh(r):(b=E.cachePool,b!==null?(P=Te._currentValue,b=b.parent!==P?{parent:P,pool:P}:b):b=fm(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=bh(t,y,r),n.memoizedState=Ah,l):(Qi(n),r=t.child,t=r.sibling,r=gi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Rh(t,n){return n=$o({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function $o(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function wh(t,n,r){return Ha(n,t.child,null,r),t=Rh(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Dg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),Gc(t.return,n,r)}function Dh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function Cg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(Ue(t,n,l.children,r),l=Ae.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Dg(t,r,n);else if(t.tag===19)Dg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(J(Ae,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Yo(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),Dh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Yo(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}Dh(n,!0,r,null,f);break;case"together":Dh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),$i|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Zs(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=gi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=gi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Ch(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&No(t)))}function wE(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),qi(n,Te,t.memoizedState.cache),Ks();break;case 27:case 5:Oi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:qi(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Qi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?wg(t,n,r):(Qi(n),t=Ai(t,n,r),t!==null?t.sibling:null);Qi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Zs(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return Cg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),J(Ae,Ae.current),l)break;return null;case 22:case 23:return n.lanes=0,Tg(t,n,r);case 24:qi(n,Te,t.memoizedState.cache)}return Ai(t,n,r)}function Vg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Ch(t,r)&&(n.flags&128)===0)return Ce=!1,wE(t,n,r);Ce=(t.flags&131072)!==0}else Ce=!1,Bt&&(n.flags&1048576)!==0&&am(n,Io,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")zc(l)?(t=ta(l,t),n.tag=1,n=bg(null,n,l,t,r)):(n.tag=0,n=Th(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Vt){n.tag=11,n=_g(null,n,l,t,r);break t}else if(c===O){n.tag=14,n=vg(null,n,l,t,r);break t}}throw n=Oe(l)||l,Error(a(306,n,""))}}return n;case 0:return Th(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ta(l,n.pendingProps),bg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,$c(t,n),il(n,l,null,r);var y=n.memoizedState;if(l=y.cache,qi(n,Te,l),l!==f.cache&&Qc(n,[Te],r,!0),nl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Rg(t,n,l,r);break t}else if(l!==c){c=En(Error(a(424)),n),Xs(c),n=Rg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=On(t.firstChild),Ze=n,Bt=!0,Kr=null,Fn=!0,r=lg(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Ks(),l===c){n=Ai(t,n,r);break t}Ue(t,n,l,r)}n=n.child}return n;case 26:return Zo(t,n),t===null?(r=Mp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Bt||(r=n.type,t=n.pendingProps,l=hu(yt.current).createElement(r),l[_e]=n,l[fe]=t,ze(l,r,t),oe(l),n.stateNode=l):n.memoizedState=Mp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Oi(n),t===null&&Bt&&(l=n.stateNode=Ip(n.type,n.pendingProps,yt.current),Ze=n,Fn=!0,c=se,er(n.type)?(uf=c,se=On(l.firstChild)):se=c),Ue(t,n,n.pendingProps.children,r),Zo(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Bt&&((c=l=se)&&(l=t0(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Ze=n,se=On(l.firstChild),Fn=!1,c=!0):c=!1),c||Xr(n)),Oi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,af(c,f)?l=null:y!==null&&af(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=ih(t,n,_E,null,null,r),Rl._currentValue=c),Zo(t,n),Ue(t,n,l,r),n.child;case 6:return t===null&&Bt&&((t=r=se)&&(r=e0(r,n.pendingProps,Fn),r!==null?(n.stateNode=r,Ze=n,se=null,t=!0):t=!1),t||Xr(n)),null;case 13:return wg(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ha(n,null,l,r):Ue(t,n,l,r),n.child;case 11:return _g(t,n,n.type,n.pendingProps,r);case 7:return Ue(t,n,n.pendingProps,r),n.child;case 8:return Ue(t,n,n.pendingProps.children,r),n.child;case 12:return Ue(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,qi(n,n.type,l.value),Ue(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,$r(n),c=He(c),l=l(c),n.flags|=1,Ue(t,n,l,r),n.child;case 14:return vg(t,n,n.type,n.pendingProps,r);case 15:return Eg(t,n,n.type,n.pendingProps,r);case 19:return Cg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=$o(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=gi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return Tg(t,n,r);case 24:return $r(n),l=He(Te),t===null?(c=Kc(),c===null&&(c=$t,f=Fc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Zc(n),qi(n,Te,c)):((t.lanes&r)!==0&&($c(t,n),il(n,null,null,r),nl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),qi(n,Te,l)):(l=f.cache,qi(n,Te,l),l!==c.cache&&Qc(n,[Te],r,!0))),Ue(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Si(t){t.flags|=4}function Ig(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Pp(n)){if(n=bn.current,n!==null&&((xt&4194048)===xt?Yn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==Yn))throw tl=Xc,dm;t.flags|=8192}}function Jo(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ds():536870912,t.lanes|=n,Fa|=n)}function cl(t,n){if(!Bt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function DE(t,n,r){var l=n.pendingProps;switch(kc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vi(Te),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ys(n)?Si(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,om())),ne(n),null;case 26:return r=n.memoizedState,t===null?(Si(n),r!==null?(ne(n),Ig(n,r)):(ne(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Si(n),ne(n),Ig(n,r)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Si(n),ne(n),n.flags&=-16777217),null;case 27:ni(n),r=yt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}t=ct.current,Ys(n)?sm(n):(t=Ip(c,l,r),n.stateNode=t,Si(n))}return ne(n),null;case 5:if(ni(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ne(n),null}if(t=ct.current,Ys(n))sm(n);else{switch(c=hu(yt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[_e]=n,t[fe]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=yt.current,Ys(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Ze,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[_e]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||Sp(t.nodeValue,r)),t||Xr(n)}else t=hu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ys(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[_e]=n}else Ks(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),c=!1}else c=om(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ti(n),n):(Ti(n),null)}if(Ti(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),Jo(n,n.updateQueue),ne(n),null;case 4:return xn(),t===null&&Wh(n.stateNode.containerInfo),ne(n),null;case 10:return vi(n.type),ne(n),null;case 19:if(et(Ae),c=n.memoizedState,c===null)return ne(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)cl(c,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Yo(t),f!==null){for(n.flags|=128,cl(c,!1),t=f.updateQueue,n.updateQueue=t,Jo(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)rm(r,t),r=r.sibling;return J(Ae,Ae.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>eu&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Yo(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,Jo(n,t),cl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Bt)return ne(n),null}else 2*mn()-c.renderingStartTime>eu&&r!==536870912&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=Ae.current,J(Ae,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Ti(n),eh(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),r=n.updateQueue,r!==null&&Jo(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(Jr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),vi(Te),ne(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function CE(t,n){switch(kc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vi(Te),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ni(n),null;case 13:if(Ti(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Ks()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ae),null;case 4:return xn(),null;case 10:return vi(n.type),null;case 22:case 23:return Ti(n),eh(),t!==null&&et(Jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vi(Te),null;case 25:return null;default:return null}}function Ng(t,n){switch(kc(n),n.tag){case 3:vi(Te),xn();break;case 26:case 27:case 5:ni(n);break;case 4:xn();break;case 13:Ti(n);break;case 19:et(Ae);break;case 10:vi(n.type);break;case 22:case 23:Ti(n),eh(),t!==null&&et(Jr);break;case 24:vi(Te)}}function hl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Yi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,P=E;try{P()}catch(j){Xt(c,b,j)}}}l=l.next}while(l!==f)}}catch(j){Xt(n,n.return,j)}}function Og(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{vm(n,r)}catch(l){Xt(t,t.return,l)}}}function Mg(t,n,r){r.props=ta(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function fl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Kn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function xg(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function Vh(t,n,r){try{var l=t.stateNode;XE(l,t.type,r,n),l[fe]=n}catch(c){Xt(t,t.return,c)}}function Ug(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function Ih(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ug(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Nh(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=cu));else if(l!==4&&(l===27&&er(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Nh(t,n,r),t=t.sibling;t!==null;)Nh(t,n,r),t=t.sibling}function Wo(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&er(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Wo(t,n,r),t=t.sibling;t!==null;)Wo(t,n,r),t=t.sibling}function Lg(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[_e]=t,n[fe]=r}catch(f){Xt(t,t.return,f)}}var bi=!1,ce=!1,Oh=!1,zg=typeof WeakSet=="function"?WeakSet:Set,Ve=null;function VE(t,n){if(t=t.containerInfo,nf=yu,t=Kd(t),Ic(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,P=0,j=0,F=t,B=null;e:for(;;){for(var q;F!==r||c!==0&&F.nodeType!==3||(E=y+c),F!==f||l!==0&&F.nodeType!==3||(b=y+l),F.nodeType===3&&(y+=F.nodeValue.length),(q=F.firstChild)!==null;)B=F,F=q;for(;;){if(F===t)break e;if(B===r&&++P===c&&(E=y),B===f&&++j===l&&(b=y),(q=F.nextSibling)!==null)break;F=B,B=F.parentNode}F=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(rf={focusedElem:t,selectionRange:r},yu=!1,Ve=n;Ve!==null;)if(n=Ve,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ve=t;else for(;Ve!==null;){switch(n=Ve,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var mt=ta(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(mt,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ft){Xt(r,r.return,ft)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)lf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ve=t;break}Ve=n.return}}function Pg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Ki(t,r),l&4&&hl(5,r);break;case 1:if(Ki(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=ta(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&Og(r),l&512&&fl(r,r.return);break;case 3:if(Ki(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{vm(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&Lg(r);case 26:case 5:Ki(t,r),n===null&&l&4&&xg(r),l&512&&fl(r,r.return);break;case 12:Ki(t,r);break;case 13:Ki(t,r),l&4&&kg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=PE.bind(null,r),n0(t,r))));break;case 22:if(l=r.memoizedState!==null||bi,!l){n=n!==null&&n.memoizedState!==null||ce,c=bi;var f=ce;bi=l,(ce=n)&&!f?Xi(t,r,(r.subtreeFlags&8772)!==0):Ki(t,r),bi=c,ce=f}break;case 30:break;default:Ki(t,r)}}function Bg(t){var n=t.alternate;n!==null&&(t.alternate=null,Bg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Li(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,Je=!1;function Ri(t,n,r){for(r=r.child;r!==null;)qg(t,n,r),r=r.sibling}function qg(t,n,r){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ae,r)}catch{}switch(r.tag){case 26:ce||Kn(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ce||Kn(r,n);var l=te,c=Je;er(r.type)&&(te=r.stateNode,Je=!1),Ri(t,n,r),Tl(r.stateNode),te=l,Je=c;break;case 5:ce||Kn(r,n);case 6:if(l=te,c=Je,te=null,Ri(t,n,r),te=l,Je=c,te!==null)if(Je)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{te.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:te!==null&&(Je?(t=te,Cp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Vl(t)):Cp(te,r.stateNode));break;case 4:l=te,c=Je,te=r.stateNode.containerInfo,Je=!0,Ri(t,n,r),te=l,Je=c;break;case 0:case 11:case 14:case 15:ce||Yi(2,r,n),ce||Yi(4,r,n),Ri(t,n,r);break;case 1:ce||(Kn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Mg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:ce=(l=ce)||r.memoizedState!==null,Ri(t,n,r),ce=l;break;default:Ri(t,n,r)}}function kg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(r){Xt(n,n.return,r)}}function IE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new zg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new zg),n;default:throw Error(a(435,t.tag))}}function Mh(t,n){var r=IE(t);n.forEach(function(l){var c=BE.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(er(E.type)){te=E.stateNode,Je=!1;break t}break;case 5:te=E.stateNode,Je=!1;break t;case 3:case 4:te=E.stateNode.containerInfo,Je=!0;break t}E=E.return}if(te===null)throw Error(a(160));qg(f,y,c),te=null,Je=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Hg(n,t),n=n.sibling}var Nn=null;function Hg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),on(t),l&4&&(Yi(3,t,t.return),hl(3,t),Yi(5,t,t.return));break;case 1:ln(n,t),on(t),l&512&&(ce||r===null||Kn(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Nn;if(ln(n,t),on(t),l&512&&(ce||r===null||Kn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Vr]||f[_e]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[_e]=t,oe(f),l=f;break t;case"link":var y=Lp("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Lp("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[_e]=t,oe(f),l=f}t.stateNode=l}else zp(c,t.type,t.stateNode);else t.stateNode=Up(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?zp(c,t.type,t.stateNode):Up(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),on(t),l&512&&(ce||r===null||Kn(r,r.return)),r!==null&&l&4&&Vh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),on(t),l&512&&(ce||r===null||Kn(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(q){Xt(t,t.return,q)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,Vh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Oh=!0);break;case 6:if(ln(n,t),on(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(q){Xt(t,t.return,q)}}break;case 3:if(mu=null,c=Nn,Nn=fu(n.containerInfo),ln(n,t),Nn=c,on(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Vl(n.containerInfo)}catch(q){Xt(t,t.return,q)}Oh&&(Oh=!1,jg(t));break;case 4:l=Nn,Nn=fu(t.stateNode.containerInfo),ln(n,t),on(t),Nn=l;break;case 12:ln(n,t),on(t);break;case 13:ln(n,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Bh=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mh(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,P=bi,j=ce;if(bi=P||c,ce=j||b,ln(n,t),ce=j,bi=P,on(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||bi||ce||ea(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var F=b.memoizedProps.style,B=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(q){Xt(b,b.return,q)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(q){Xt(b,b.return,q)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Mh(t,r))));break;case 19:ln(n,t),on(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Mh(t,l)));break;case 30:break;case 21:break;default:ln(n,t),on(t)}}function on(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ug(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Ih(t);Wo(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(pn(y,""),r.flags&=-33);var E=Ih(t);Wo(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,P=Ih(t);Nh(t,P,b);break;default:throw Error(a(161))}}catch(j){Xt(t,t.return,j)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function jg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;jg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Ki(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Pg(t,n.alternate,n),n=n.sibling}function ea(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Yi(4,n,n.return),ea(n);break;case 1:Kn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Mg(n,n.return,r),ea(n);break;case 27:Tl(n.stateNode);case 26:case 5:Kn(n,n.return),ea(n);break;case 22:n.memoizedState===null&&ea(n);break;case 30:ea(n);break;default:ea(n)}t=t.sibling}}function Xi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(c,f,r),hl(4,f);break;case 1:if(Xi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(P){Xt(l,l.return,P)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)_m(b[c],E)}catch(P){Xt(l,l.return,P)}}r&&y&64&&Og(f),fl(f,f.return);break;case 27:Lg(f);case 26:case 5:Xi(c,f,r),r&&l===null&&y&4&&xg(f),fl(f,f.return);break;case 12:Xi(c,f,r);break;case 13:Xi(c,f,r),r&&y&4&&kg(c,f);break;case 22:f.memoizedState===null&&Xi(c,f,r),fl(f,f.return);break;case 30:break;default:Xi(c,f,r)}n=n.sibling}}function xh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&$s(r))}function Uh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gg(t,n,r,l),n=n.sibling}function Gg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&hl(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):dl(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,ja(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&xh(y,n);break;case 24:Xn(t,n,r,l),c&2048&&Uh(n.alternate,n);break;default:Xn(t,n,r,l)}}function ja(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:ja(f,y,E,b,c),hl(8,y);break;case 23:break;case 22:var j=y.stateNode;y.memoizedState!==null?j._visibility&2?ja(f,y,E,b,c):dl(f,y):(j._visibility|=2,ja(f,y,E,b,c)),c&&P&2048&&xh(y.alternate,y);break;case 24:ja(f,y,E,b,c),c&&P&2048&&Uh(y.alternate,y);break;default:ja(f,y,E,b,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&xh(l.alternate,l);break;case 24:dl(r,l),c&2048&&Uh(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function Ga(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)Qg(t),t=t.sibling}function Qg(t){switch(t.tag){case 26:Ga(t),t.flags&ml&&t.memoizedState!==null&&g0(Nn,t.memoizedState,t.memoizedProps);break;case 5:Ga(t);break;case 3:case 4:var n=Nn;Nn=fu(t.stateNode.containerInfo),Ga(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,Ga(t),ml=n):Ga(t));break;default:Ga(t)}}function Fg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Kg(l,t)}Fg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Yg(t),t=t.sibling}function Yg(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,tu(t)):gl(t);break;default:gl(t)}}function tu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ve=l,Kg(l,t)}Fg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Yi(8,n,n.return),tu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,tu(n));break;default:tu(n)}t=t.sibling}}function Kg(t,n){for(;Ve!==null;){var r=Ve;switch(r.tag){case 0:case 11:case 15:Yi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$s(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ve=l;else t:for(r=t;Ve!==null;){l=Ve;var c=l.sibling,f=l.return;if(Bg(l),l===r){Ve=null;break t}if(c!==null){c.return=f,Ve=c;break t}Ve=f}}}var NE={getCacheForType:function(t){var n=He(Te),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},OE=typeof WeakMap=="function"?WeakMap:Map,jt=0,$t=null,Dt=null,xt=0,Gt=0,un=null,Zi=!1,Qa=!1,Lh=!1,wi=0,le=0,$i=0,na=0,zh=0,Rn=0,Fa=0,pl=null,We=null,Ph=!1,Bh=0,eu=1/0,nu=null,Ji=null,Le=0,Wi=null,Ya=null,Ka=0,qh=0,kh=null,Xg=null,yl=0,Hh=null;function cn(){if((jt&2)!==0&&xt!==0)return xt&-xt;if(H.T!==null){var t=Ua;return t!==0?t:Xh()}return xi()}function Zg(){Rn===0&&(Rn=(xt&536870912)===0||Bt?ws():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function hn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Xa(t,0),tr(t,xt,Rn,!1)),ri(t,r),((jt&2)===0||t!==$t)&&(t===$t&&((jt&2)===0&&(na|=r),le===4&&tr(t,xt,Rn,!1)),Zn(t))}function $g(t,n,r){if((jt&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Cr(t,n),c=l?UE(t,n):Qh(t,n,!0),f=l;do{if(c===0){Qa&&!l&&tr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!ME(r)){c=Qh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var b=E.current.memoizedState.isDehydrated;if(b&&(Xa(E,y).flags|=256),y=Qh(E,y,!1),y!==2){if(Lh&&!b){E.errorRecoveryDisabledLanes|=f,na|=f,c=4;break t}f=We,We=c,f!==null&&(We===null?We=f:We.push.apply(We,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Xa(t,0),tr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:tr(l,n,Rn,!Zi);break t;case 2:We=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=Bh+300-mn(),10<c)){if(tr(l,n,Rn,!Zi),fa(l,0,!0)!==0)break t;l.timeoutHandle=wp(Jg.bind(null,l,r,We,nu,Ph,n,Rn,na,Fa,Zi,f,2,-0,0),c);break t}Jg(l,r,We,nu,Ph,n,Rn,na,Fa,Zi,f,0,-0,0)}}break}while(!0);Zn(t)}function Jg(t,n,r,l,c,f,y,E,b,P,j,F,B,q){if(t.timeoutHandle=-1,F=n.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:m0},Qg(n),F=p0(),F!==null)){t.cancelPendingCommit=F(ap.bind(null,t,n,f,r,l,c,y,E,b,j,1,B,q)),tr(t,f,y,!P);return}ap(t,n,f,r,l,c,y,E,b)}function ME(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tr(t,n,r,l){n&=~zh,n&=~na,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Un(t,r,n)}function iu(){return(jt&6)===0?(_l(0),!1):!0}function jh(){if(Dt!==null){if(Gt===0)var t=Dt.return;else t=Dt,_i=Zr=null,sh(t),ka=null,ol=0,t=Dt;for(;t!==null;)Ng(t.alternate,t),t=t.return;Dt=null}}function Xa(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,$E(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),jh(),$t=t,Dt=r=gi(t.current,null),xt=n,Gt=0,un=null,Zi=!1,Qa=Cr(t,n),Lh=!1,Fa=Rn=zh=na=$i=le=0,We=pl=null,Ph=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return wi=n,Ro(),r}function Wg(t,n){At=null,H.H=Go,n===Ws||n===xo?(n=pm(),Gt=3):n===dm?(n=pm(),Gt=4):Gt=n===yg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,un=n,Dt===null&&(le=1,Xo(t,En(n,t.current)))}function tp(){var t=H.H;return H.H=Go,t===null?Go:t}function ep(){var t=H.A;return H.A=NE,t}function Gh(){le=4,Zi||(xt&4194048)!==xt&&bn.current!==null||(Qa=!0),($i&134217727)===0&&(na&134217727)===0||$t===null||tr($t,xt,Rn,!1)}function Qh(t,n,r){var l=jt;jt|=2;var c=tp(),f=ep();($t!==t||xt!==n)&&(nu=null,Xa(t,n)),n=!1;var y=le;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,b=un;switch(Gt){case 8:jh(),y=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var P=Gt;if(Gt=0,un=null,Za(t,E,b,P),r&&Qa){y=0;break t}break;default:P=Gt,Gt=0,un=null,Za(t,E,b,P)}}xE(),y=le;break}catch(j){Wg(t,j)}while(!0);return n&&t.shellSuspendCounter++,_i=Zr=null,jt=l,H.H=c,H.A=f,Dt===null&&($t=null,xt=0,Ro()),y}function xE(){for(;Dt!==null;)np(Dt)}function UE(t,n){var r=jt;jt|=2;var l=tp(),c=ep();$t!==t||xt!==n?(nu=null,eu=mn()+500,Xa(t,n)):Qa=Cr(t,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=un;e:switch(Gt){case 1:Gt=0,un=null,Za(t,n,f,1);break;case 2:case 9:if(mm(f)){Gt=0,un=null,ip(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Zn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:mm(f)?(Gt=0,un=null,ip(n)):(Gt=0,un=null,Za(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||Pp(y)){Gt=0,un=null;var b=E.sibling;if(b!==null)Dt=b;else{var P=E.return;P!==null?(Dt=P,ru(P)):Dt=null}break e}}Gt=0,un=null,Za(t,n,f,5);break;case 6:Gt=0,un=null,Za(t,n,f,6);break;case 8:jh(),le=6;break t;default:throw Error(a(462))}}LE();break}catch(j){Wg(t,j)}while(!0);return _i=Zr=null,H.H=l,H.A=c,jt=r,Dt!==null?0:($t=null,xt=0,Ro(),le)}function LE(){for(;Dt!==null&&!As();)np(Dt)}function np(t){var n=Vg(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?ru(t):Dt=n}function ip(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=Sg(r,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Sg(r,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:sh(n);default:Ng(r,n),n=Dt=rm(n,wi),n=Vg(r,n,wi)}t.memoizedProps=t.pendingProps,n===null?ru(t):Dt=n}function Za(t,n,r,l){_i=Zr=null,sh(n),ka=null,ol=0;var c=n.return;try{if(RE(t,c,n,r,xt)){le=1,Xo(t,En(r,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;le=1,Xo(t,En(r,t.current)),Dt=null;return}n.flags&32768?(Bt||l===1?t=!0:Qa||(xt&536870912)!==0?t=!1:(Zi=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),rp(n,t)):ru(n)}function ru(t){var n=t;do{if((n.flags&32768)!==0){rp(n,Zi);return}t=n.return;var r=DE(n.alternate,n,wi);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);le===0&&(le=5)}function rp(t,n){do{var r=CE(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);le=6,Dt=null}function ap(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do au();while(Le!==0);if((jt&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Uc,Cs(t,r,f,y,E,b),t===$t&&(Dt=$t=null,xt=0),Ya=n,Wi=t,Ka=r,qh=f,kh=c,Xg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,qE(br,function(){return cp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,y=jt,jt|=4;try{VE(t,n,r)}finally{jt=y,tt.p=c,H.T=l}}Le=1,sp(),lp(),op()}}function sp(){if(Le===1){Le=0;var t=Wi,n=Ya,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=jt;jt|=4;try{Hg(n,t);var f=rf,y=Kd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Yd(E.ownerDocument.documentElement,E)){if(b!==null&&Ic(E)){var P=b.start,j=b.end;if(j===void 0&&(j=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(j,E.value.length);else{var F=E.ownerDocument||document,B=F&&F.defaultView||window;if(B.getSelection){var q=B.getSelection(),mt=E.textContent.length,ft=Math.min(b.start,mt),Kt=b.end===void 0?ft:Math.min(b.end,mt);!q.extend&&ft>Kt&&(y=Kt,Kt=ft,ft=y);var M=Fd(E,ft),C=Fd(E,Kt);if(M&&C&&(q.rangeCount!==1||q.anchorNode!==M.node||q.anchorOffset!==M.offset||q.focusNode!==C.node||q.focusOffset!==C.offset)){var L=F.createRange();L.setStart(M.node,M.offset),q.removeAllRanges(),ft>Kt?(q.addRange(L),q.extend(C.node,C.offset)):(L.setEnd(C.node,C.offset),q.addRange(L))}}}}for(F=[],q=E;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var Q=F[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yu=!!nf,rf=nf=null}finally{jt=c,tt.p=l,H.T=r}}t.current=n,Le=2}}function lp(){if(Le===2){Le=0;var t=Wi,n=Ya,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=jt;jt|=4;try{Pg(t,n.alternate,n)}finally{jt=c,tt.p=l,H.T=r}}Le=3}}function op(){if(Le===4||Le===3){Le=0,Wl();var t=Wi,n=Ya,r=Ka,l=Xg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Ya=Wi=null,up(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ji=null),da(r),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(Ka&3)!==0&&au(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Hh?yl++:(yl=0,Hh=t):yl=0,_l(0)}}function up(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$s(n)))}function au(t){return sp(),lp(),op(),cp()}function cp(){if(Le!==5)return!1;var t=Wi,n=qh;qh=0;var r=da(Ka),l=H.T,c=tt.p;try{tt.p=32>r?32:r,H.T=null,r=kh,kh=null;var f=Wi,y=Ka;if(Le=0,Ya=Wi=null,Ka=0,(jt&6)!==0)throw Error(a(331));var E=jt;if(jt|=4,Yg(f.current),Gg(f,f.current,y,r),jt=E,_l(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{tt.p=c,H.T=l,up(t,n)}}function hp(t,n,r){n=En(r,n),n=Eh(t.stateNode,n,2),t=ji(t,n,2),t!==null&&(ri(t,2),Zn(t))}function Xt(t,n,r){if(t.tag===3)hp(t,t,r);else for(;n!==null;){if(n.tag===3){hp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ji===null||!Ji.has(l))){t=En(r,t),r=gg(2),l=ji(n,r,2),l!==null&&(pg(r,l,n,t),ri(l,2),Zn(l));break}}n=n.return}}function Fh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new OE;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Lh=!0,c.add(r),t=zE.bind(null,t,n,r),n.then(t,t))}function zE(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(xt&r)===r&&(le===4||le===3&&(xt&62914560)===xt&&300>mn()-Bh?(jt&2)===0&&Xa(t,0):zh|=r,Fa===xt&&(Fa=0)),Zn(t)}function fp(t,n){n===0&&(n=Ds()),t=Na(t,n),t!==null&&(ri(t,n),Zn(t))}function PE(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),fp(t,r)}function BE(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),fp(t,r)}function qE(t,n){return Ar(t,n)}var su=null,$a=null,Yh=!1,lu=!1,Kh=!1,ia=0;function Zn(t){t!==$a&&t.next===null&&($a===null?su=$a=t:$a=$a.next=t),lu=!0,Yh||(Yh=!0,HE())}function _l(t,n){if(!Kh&&lu){Kh=!0;do for(var r=!1,l=su;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,pp(l,f))}else f=xt,f=fa(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Cr(l,f)||(r=!0,pp(l,f));l=l.next}while(r);Kh=!1}}function kE(){dp()}function dp(){lu=Yh=!1;var t=0;ia!==0&&(ZE()&&(t=ia),ia=0);for(var n=mn(),r=null,l=su;l!==null;){var c=l.next,f=mp(l,n);f===0?(l.next=null,r===null?su=c:r.next=c,c===null&&($a=r)):(r=l,(t!==0||(f&3)!==0)&&(lu=!0)),l=c}_l(t)}function mp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Rs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=xt,r=fa(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Cr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Sr(l),da(r)){case 2:case 8:r=ca;break;case 32:r=br;break;case 268435456:r=ha;break;default:r=br}return l=gp.bind(null,t),r=Ar(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Sr(l),t.callbackPriority=2,t.callbackNode=null,2}function gp(t,n){if(Le!==0&&Le!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(au()&&t.callbackNode!==r)return null;var l=xt;return l=fa(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:($g(t,l,n),mp(t,mn()),t.callbackNode!=null&&t.callbackNode===r?gp.bind(null,t):null)}function pp(t,n){if(au())return null;$g(t,n,!0)}function HE(){JE(function(){(jt&6)!==0?Ar(Ss,kE):dp()})}function Xh(){return ia===0&&(ia=ws()),ia}function yp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:va(""+t)}function _p(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function jE(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=yp((c[fe]||null).action),y=l.submitter;y&&(n=(n=y[fe]||null)?yp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ea("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ia!==0){var b=y?_p(c,y):new FormData(c);gh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?_p(c,y):new FormData(c),gh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Zh=0;Zh<xc.length;Zh++){var $h=xc[Zh],GE=$h.toLowerCase(),QE=$h[0].toUpperCase()+$h.slice(1);In(GE,"on"+QE)}In($d,"onAnimationEnd"),In(Jd,"onAnimationIteration"),In(Wd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(oE,"onTransitionRun"),In(uE,"onTransitionStart"),In(cE,"onTransitionCancel"),In(tm,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function vp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,P=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(j){Ko(j)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,P=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=P;try{f(c)}catch(j){Ko(j)}c.currentTarget=null,f=b}}}}function Ct(t,n){var r=n[Is];r===void 0&&(r=n[Is]=new Set);var l=t+"__bubble";r.has(l)||(Ep(n,t,2,!1),r.add(l))}function Jh(t,n,r){var l=0;n&&(l|=4),Ep(r,t,l,n)}var ou="_reactListening"+Math.random().toString(36).slice(2);function Wh(t){if(!t[ou]){t[ou]=!0,Ns.forEach(function(r){r!=="selectionchange"&&(FE.has(r)||Jh(r,!1,t),Jh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[ou]||(n[ou]=!0,Jh("selectionchange",!1,n))}}function Ep(t,n,r,l){switch(Gp(n)){case 2:var c=v0;break;case 8:c=E0;break;default:c=mf}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function tf(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ai(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}uo(function(){var P=f,j=yn(r),F=[];t:{var B=em.get(t);if(B!==void 0){var q=Ea,mt=t;switch(t){case"keypress":if(kn(r)===0)break t;case"keydown":case"keyup":q=wa;break;case"focusin":mt="focus",q=Sa;break;case"focusout":mt="blur",q=Sa;break;case"beforeblur":case"afterblur":q=Sa;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=wc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=_o;break;case $d:case Jd:case Wd:q=ba;break;case tm:q=Eo;break;case"scroll":case"scrollend":q=co;break;case"wheel":q=Da;break;case"copy":case"cut":case"paste":q=Ra;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=js;break;case"toggle":case"beforetoggle":q=Ao}var ft=(n&4)!==0,Kt=!ft&&(t==="scroll"||t==="scrollend"),M=ft?B!==null?B+"Capture":null:B;ft=[];for(var C=P,L;C!==null;){var Q=C;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||M===null||(Q=Lr(C,M),Q!=null&&ft.push(El(C,Q,L))),Kt)break;C=C.return}0<ft.length&&(B=new q(B,mt,null,r,j),F.push({event:B,listeners:ft}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",q=t==="mouseout"||t==="pointerout",B&&r!==ui&&(mt=r.relatedTarget||r.fromElement)&&(ai(mt)||mt[gn]))break t;if((q||B)&&(B=j.window===j?j:(B=j.ownerDocument)?B.defaultView||B.parentWindow:window,q?(mt=r.relatedTarget||r.toElement,q=P,mt=mt?ai(mt):null,mt!==null&&(Kt=h(mt),ft=mt.tag,mt!==Kt||ft!==5&&ft!==27&&ft!==6)&&(mt=null)):(q=null,mt=P),q!==mt)){if(ft=vn,Q="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ft=js,Q="onPointerLeave",M="onPointerEnter",C="pointer"),Kt=q==null?B:zn(q),L=mt==null?B:zn(mt),B=new ft(Q,C+"leave",q,r,j),B.target=Kt,B.relatedTarget=L,Q=null,ai(j)===P&&(ft=new ft(M,C+"enter",mt,r,j),ft.target=L,ft.relatedTarget=Kt,Q=ft),Kt=Q,q&&mt)e:{for(ft=q,M=mt,C=0,L=ft;L;L=Ja(L))C++;for(L=0,Q=M;Q;Q=Ja(Q))L++;for(;0<C-L;)ft=Ja(ft),C--;for(;0<L-C;)M=Ja(M),L--;for(;C--;){if(ft===M||M!==null&&ft===M.alternate)break e;ft=Ja(ft),M=Ja(M)}ft=null}else ft=null;q!==null&&Tp(F,B,q,ft,!1),mt!==null&&Kt!==null&&Tp(F,Kt,mt,ft,!0)}}t:{if(B=P?zn(P):window,q=B.nodeName&&B.nodeName.toLowerCase(),q==="select"||q==="input"&&B.type==="file")var rt=qd;else if(Ee(B))if(kd)rt=aE;else{rt=iE;var Rt=nE}else q=B.nodeName,!q||q.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&Ls(P.elementType)&&(rt=qd):rt=rE;if(rt&&(rt=rt(t,P))){mi(F,rt,r,j);break t}Rt&&Rt(t,B,P),t==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Pi(B,"number",B.value)}switch(Rt=P?zn(P):window,t){case"focusin":(Ee(Rt)||Rt.contentEditable==="true")&&(Ca=Rt,Nc=P,Fs=null);break;case"focusout":Fs=Nc=Ca=null;break;case"mousedown":Oc=!0;break;case"contextmenu":case"mouseup":case"dragend":Oc=!1,Xd(F,r,j);break;case"selectionchange":if(lE)break;case"keydown":case"keyup":Xd(F,r,j)}var st;if(Gn)t:{switch(t){case"compositionstart":var dt="onCompositionStart";break t;case"compositionend":dt="onCompositionEnd";break t;case"compositionupdate":dt="onCompositionUpdate";break t}dt=void 0}else Ot?k(t,r)&&(dt="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(dt="onCompositionStart");dt&&(p&&r.locale!=="ko"&&(Ot||dt!=="onCompositionStart"?dt==="onCompositionEnd"&&Ot&&(st=Ps()):(qn=j,Bi="value"in qn?qn.value:qn.textContent,Ot=!0)),Rt=uu(P,dt),0<Rt.length&&(dt=new ks(dt,t,null,r,j),F.push({event:dt,listeners:Rt}),st?dt.data=st:(st=W(r),st!==null&&(dt.data=st)))),(st=m?ve(t,r):Mt(t,r))&&(dt=uu(P,"onBeforeInput"),0<dt.length&&(Rt=new ks("onBeforeInput","beforeinput",null,r,j),F.push({event:Rt,listeners:dt}),Rt.data=st)),jE(F,t,P,r,j)}vp(F,n)})}function El(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uu(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Lr(t,r),c!=null&&l.unshift(El(t,c,f)),c=Lr(t,n),c!=null&&l.push(El(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Tp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,P=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||P===null||(b=P,c?(P=Lr(r,f),P!=null&&y.unshift(El(r,P,b))):c||(P=Lr(r,f),P!=null&&y.push(El(r,P,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var YE=/\r\n?/g,KE=/\u0000|\uFFFD/g;function Ap(t){return(typeof t=="string"?t:""+t).replace(YE,`
`).replace(KE,"")}function Sp(t,n){return n=Ap(n),Ap(t)===n}function cu(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,r,l);break;case"style":Us(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=va(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=cu);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),zi(t,"popover",l);break;case"xlinkActuate":Me(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":zi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=bc.get(r)||r,zi(t,r,l))}}function ef(t,n,r,l,c,f){switch(r){case"style":Us(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=cu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[fe]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):zi(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,b=null,P=null;for(l in r)if(r.hasOwnProperty(l)){var j=r[l];if(j!=null)switch(l){case"name":c=j;break;case"type":y=j;break;case"checked":b=j;break;case"defaultChecked":P=j;break;case"value":f=j;break;case"defaultValue":E=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(a(137,n));break;default:Yt(t,n,l,j,r,null)}}Mr(t,f,E,b,P,y,c,!1),_a(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?oi(t,!!l,n,!1):r!=null&&oi(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(t,n,y,E,r,null)}xr(t,l,c,f),_a(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Ct(vl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in r)if(r.hasOwnProperty(P)&&(l=r[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,P,l,r,null)}return;default:if(Ls(n)){for(j in r)r.hasOwnProperty(j)&&(l=r[j],l!==void 0&&ef(t,n,j,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function XE(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,P=null,j=null;for(q in r){var F=r[q];if(r.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=F;default:l.hasOwnProperty(q)||Yt(t,n,q,null,l,F)}}for(var B in l){var q=l[B];if(F=r[B],l.hasOwnProperty(B)&&(q!=null||F!=null))switch(B){case"type":f=q;break;case"name":c=q;break;case"checked":P=q;break;case"defaultChecked":j=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==F&&Yt(t,n,B,q,l,F)}}rn(t,y,E,b,P,j,f,c);return;case"select":q=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=y,l=q,B!=null?oi(t,!!r,B,!1):!!l!=!!r&&(n!=null?oi(t,!!r,n,!0):oi(t,!!r,r?[]:"",!1));return;case"textarea":q=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Qt(t,B,q);return;case"option":for(var mt in r)if(B=r[mt],r.hasOwnProperty(mt)&&B!=null&&!l.hasOwnProperty(mt))switch(mt){case"selected":t.selected=!1;break;default:Yt(t,n,mt,null,l,B)}for(b in l)if(B=l[b],q=r[b],l.hasOwnProperty(b)&&B!==q&&(B!=null||q!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in r)B=r[ft],r.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft)&&Yt(t,n,ft,null,l,B);for(P in l)if(B=l[P],q=r[P],l.hasOwnProperty(P)&&B!==q&&(B!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Yt(t,n,P,B,l,q)}return;default:if(Ls(n)){for(var Kt in r)B=r[Kt],r.hasOwnProperty(Kt)&&B!==void 0&&!l.hasOwnProperty(Kt)&&ef(t,n,Kt,void 0,l,B);for(j in l)B=l[j],q=r[j],!l.hasOwnProperty(j)||B===q||B===void 0&&q===void 0||ef(t,n,j,B,l,q);return}}for(var M in r)B=r[M],r.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,B);for(F in l)B=l[F],q=r[F],!l.hasOwnProperty(F)||B===q||B==null&&q==null||Yt(t,n,F,B,l,q)}var nf=null,rf=null;function hu(t){return t.nodeType===9?t:t.ownerDocument}function bp(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Rp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function af(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var sf=null;function ZE(){var t=window.event;return t&&t.type==="popstate"?t===sf?!1:(sf=t,!0):(sf=null,!1)}var wp=typeof setTimeout=="function"?setTimeout:void 0,$E=typeof clearTimeout=="function"?clearTimeout:void 0,Dp=typeof Promise=="function"?Promise:void 0,JE=typeof queueMicrotask=="function"?queueMicrotask:typeof Dp<"u"?function(t){return Dp.resolve(null).then(t).catch(WE)}:wp;function WE(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function Cp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Tl(y.documentElement),r&2&&Tl(y.body),r&4)for(r=y.head,Tl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Vr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Vl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Vl(n)}function lf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":lf(r),Li(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function t0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function e0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function of(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function n0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var uf=null;function Vp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function Ip(t,n,r){switch(n=hu(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Tl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Li(t)}var wn=new Map,Np=new Set;function fu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=tt.d;tt.d={f:i0,r:r0,D:a0,C:s0,L:l0,m:o0,X:c0,S:u0,M:h0};function i0(){var t=Di.f(),n=iu();return t||n}function r0(t){var n=Ln(t);n!==null&&n.tag===5&&n.type==="form"?$m(n):Di.r(t)}var Wa=typeof document>"u"?null:document;function Op(t,n,r){var l=Wa;if(l&&typeof n=="string"&&n){var c=de(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Np.has(c)||(Np.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),oe(n),l.head.appendChild(n)))}}function a0(t){Di.D(t),Op("dns-prefetch",t,null)}function s0(t,n){Di.C(t,n),Op("preconnect",t,n)}function l0(t,n,r){Di.L(t,n,r);var l=Wa;if(l&&t&&n){var c='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+de(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+de(r.imageSizes)+'"]')):c+='[href="'+de(t)+'"]';var f=c;switch(n){case"style":f=ts(t);break;case"script":f=es(t)}wn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Sl(f))||(n=l.createElement("link"),ze(n,"link",t),oe(n),l.head.appendChild(n)))}}function o0(t,n){Di.m(t,n);var r=Wa;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=es(t)}if(!wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),wn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sl(f)))return}l=r.createElement("link"),ze(l,"link",t),oe(l),r.head.appendChild(l)}}}function u0(t,n,r){Di.S(t,n,r);var l=Wa;if(l&&t){var c=Ye(l).hoistableStyles,f=ts(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(f))&&cf(t,r);var b=y=l.createElement("link");oe(b),ze(b,"link",t),b._p=new Promise(function(P,j){b.onload=P,b.onerror=j}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,du(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function c0(t,n){Di.X(t,n);var r=Wa;if(r&&t){var l=Ye(r).hoistableScripts,c=es(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0},n),(n=wn.get(c))&&hf(t,n),f=r.createElement("script"),oe(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function h0(t,n){Di.M(t,n);var r=Wa;if(r&&t){var l=Ye(r).hoistableScripts,c=es(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&hf(t,n),f=r.createElement("script"),oe(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Mp(t,n,r,l){var c=(c=yt.current)?fu(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=ts(r.href),r=Ye(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=ts(r.href);var f=Ye(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),f||f0(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=es(r),r=Ye(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function ts(t){return'href="'+de(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function xp(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function f0(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),oe(n),t.head.appendChild(n))}function es(t){return'[src="'+de(t)+'"]'}function Sl(t){return"script[async]"+t}function Up(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(r.href)+'"]');if(l)return n.instance=l,oe(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),ze(l,"style",c),du(l,r.precedence,t),n.instance=l;case"stylesheet":c=ts(r.href);var f=t.querySelector(Al(c));if(f)return n.state.loading|=4,n.instance=f,oe(f),f;l=xp(r),(c=wn.get(c))&&cf(l,c),f=(t.ownerDocument||t).createElement("link"),oe(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",l),n.state.loading|=4,du(f,r.precedence,t),n.instance=f;case"script":return f=es(r.src),(c=t.querySelector(Sl(f)))?(n.instance=c,oe(c),c):(l=r,(c=wn.get(f))&&(l=A({},r),hf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),oe(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,du(l,r.precedence,t));return n.instance}function du(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function cf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function hf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mu=null;function Lp(t,n,r){if(mu===null){var l=new Map,c=mu=new Map;c.set(r,l)}else c=mu,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Vr]||f[_e]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function zp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function d0(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Pp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function m0(){}function g0(t,n,r){if(bl===null)throw Error(a(475));var l=bl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=ts(r.href),f=t.querySelector(Al(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=gu.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,oe(f);return}f=t.ownerDocument||t,r=xp(r),(c=wn.get(c))&&cf(r,c),f=f.createElement("link"),oe(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=gu.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function p0(){if(bl===null)throw Error(a(475));var t=bl;return t.stylesheets&&t.count===0&&ff(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&ff(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function gu(){if(this.count--,this.count===0){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var pu=null;function ff(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,pu=new Map,n.forEach(y0,t),pu=null,gu.call(t))}function y0(t,n){if(!(n.state.loading&4)){var r=pu.get(t);if(r)var l=r.get(null);else{r=new Map,pu.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=gu.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function _0(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Bp(t,n,r,l,c,f,y,E,b,P,j,F){return t=new _0(t,n,r,y,E,b,P,F),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=Fc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Zc(f),t}function qp(t){return t?(t=Oa,t):Oa}function kp(t,n,r,l,c,f){c=qp(c),l.context===null?l.context=c:l.pendingContext=c,l=Hi(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=ji(t,l,n),r!==null&&(hn(r,t,n),el(r,t,n))}function Hp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function df(t,n){Hp(t,n),(t=t.alternate)&&Hp(t,n)}function jp(t){if(t.tag===13){var n=Na(t,67108864);n!==null&&hn(n,t,67108864),df(t,67108864)}}var yu=!0;function v0(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,mf(t,n,r,l)}finally{tt.p=f,H.T=c}}function E0(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,mf(t,n,r,l)}finally{tt.p=f,H.T=c}}function mf(t,n,r,l){if(yu){var c=gf(l);if(c===null)tf(t,n,l,_u,r),Qp(t,l);else if(A0(c,t,n,r,l))l.stopPropagation();else if(Qp(t,l),n&4&&-1<T0.indexOf(t)){for(;c!==null;){var f=Ln(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Dn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-ke(y);E.entanglements[1]|=b,y&=~b}Zn(f),(jt&6)===0&&(eu=mn()+500,_l(0))}}break;case 13:E=Na(f,2),E!==null&&hn(E,f,2),iu(),df(f,2)}if(f=gf(l),f===null&&tf(t,n,l,_u,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else tf(t,n,l,null,r)}}function gf(t){return t=yn(t),pf(t)}var _u=null;function pf(t){if(_u=null,t=ai(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _u=t,null}function Gp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_c()){case Ss:return 2;case ca:return 8;case br:case vc:return 32;case ha:return 268435456;default:return 32}default:return 32}}var yf=!1,nr=null,ir=null,rr=null,wl=new Map,Dl=new Map,ar=[],T0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qp(t,n){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function Cl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=Ln(n),n!==null&&jp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function A0(t,n,r,l,c){switch(n){case"focusin":return nr=Cl(nr,t,n,r,l,c),!0;case"dragenter":return ir=Cl(ir,t,n,r,l,c),!0;case"mouseover":return rr=Cl(rr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return wl.set(f,Cl(wl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Dl.set(f,Cl(Dl.get(f)||null,t,n,r,l,c)),!0}return!1}function Fp(t){var n=ai(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,no(t.priority,function(){if(r.tag===13){var l=cn();l=Mi(l);var c=Na(r,l);c!==null&&hn(c,r,l),df(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=gf(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);ui=l,r.target.dispatchEvent(l),ui=null}else return n=Ln(r),n!==null&&jp(n),t.blockedOn=r,!1;n.shift()}return!0}function Yp(t,n,r){vu(t)&&r.delete(n)}function S0(){yf=!1,nr!==null&&vu(nr)&&(nr=null),ir!==null&&vu(ir)&&(ir=null),rr!==null&&vu(rr)&&(rr=null),wl.forEach(Yp),Dl.forEach(Yp)}function Eu(t,n){t.blockedOn===n&&(t.blockedOn=null,yf||(yf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,S0)))}var Tu=null;function Kp(t){Tu!==t&&(Tu=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Tu===t&&(Tu=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(pf(l||r)===null)continue;break}var f=Ln(r);f!==null&&(t.splice(n,3),n-=3,gh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Vl(t){function n(b){return Eu(b,t)}nr!==null&&Eu(nr,t),ir!==null&&Eu(ir,t),rr!==null&&Eu(rr,t),wl.forEach(n),Dl.forEach(n);for(var r=0;r<ar.length;r++){var l=ar[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)Fp(r),r.blockedOn===null&&ar.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[fe]||null;if(typeof f=="function")y||Kp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[fe]||null)E=y.formAction;else if(pf(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Kp(r)}}}function _f(t){this._internalRoot=t}Au.prototype.render=_f.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();kp(r,l,t,n,null,null)},Au.prototype.unmount=_f.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;kp(t.current,2,null,t,null,null),iu(),n[gn]=null}};function Au(t){this._internalRoot=t}Au.prototype.unstable_scheduleHydration=function(t){if(t){var n=xi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ar.length&&n!==0&&n<ar[r].priority;r++);ar.splice(r,0,t),r===0&&Fp(t)}};var Xp=e.version;if(Xp!=="19.1.0")throw Error(a(527,Xp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=_(n),t=t!==null?v(t):null,t=t===null?null:t.stateNode,t};var b0={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Su.isDisabled&&Su.supportsFiber)try{ae=Su.inject(b0),Ht=Su}catch{}}return Nl.createRoot=function(t,n){if(!o(t))throw Error(a(299));var r=!1,l="",c=hg,f=fg,y=dg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Bp(t,1,!1,null,null,r,l,c,f,y,E,null),t[gn]=n.current,Wh(t),new _f(n)},Nl.hydrateRoot=function(t,n,r){if(!o(t))throw Error(a(299));var l=!1,c="",f=hg,y=fg,E=dg,b=null,P=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(P=r.formState)),n=Bp(t,1,!0,n,r??null,l,c,f,y,E,b,P),n.context=qp(null),r=n.current,l=cn(),l=Mi(l),c=Hi(l),c.callback=null,ji(r,c,l),r=l,n.current.lanes=r,ri(n,r),Zn(n),t[gn]=n.current,Wh(t),new Au(n)},Nl.version="19.1.0",Nl}var ay;function x0(){if(ay)return Tf.exports;ay=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Tf.exports=M0(),Tf.exports}var U0=x0();const L0=()=>{};var sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},z0=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)e[a++]=String.fromCharCode(o);else if(o>191&&o<224){const h=s[i++];e[a++]=String.fromCharCode((o&31)<<6|h&63)}else if(o>239&&o<365){const h=s[i++],d=s[i++],g=s[i++],_=((o&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(_>>10)),e[a++]=String.fromCharCode(56320+(_&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((o&15)<<12|(h&63)<<6|d&63)}}return e.join("")},y_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const h=s[o],d=o+1<s.length,g=d?s[o+1]:0,_=o+2<s.length,v=_?s[o+2]:0,A=h>>2,N=(h&3)<<4|g>>4;let z=(g&15)<<2|v>>6,G=v&63;_||(G=64,d||(z=64)),a.push(i[A],i[N],i[z],i[G])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(p_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):z0(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const h=i[s.charAt(o++)],g=o<s.length?i[s.charAt(o)]:0;++o;const v=o<s.length?i[s.charAt(o)]:64;++o;const N=o<s.length?i[s.charAt(o)]:64;if(++o,h==null||g==null||v==null||N==null)throw new P0;const z=h<<2|g>>4;if(a.push(z),v!==64){const G=g<<4&240|v>>2;if(a.push(G),N!==64){const $=v<<6&192|N;a.push($)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class P0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const B0=function(s){const e=p_(s);return y_.encodeByteArray(e,!0)},Bu=function(s){return B0(s).replace(/\./g,"")},q0=function(s){try{return y_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=()=>k0().__FIREBASE_DEFAULTS__,j0=()=>{if(typeof process>"u"||typeof sy>"u")return;const s=sy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},G0=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&q0(s[1]);return e&&JSON.parse(e)},ad=()=>{try{return L0()||H0()||j0()||G0()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Q0=s=>{var e,i;return(i=(e=ad())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},F0=s=>{const e=Q0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},__=()=>{var s;return(s=ad())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",o=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[Bu(JSON.stringify(i)),Bu(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Z0(){var s;const e=(s=ad())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $0(){return!Z0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function J0(){try{return typeof indexedDB=="object"}catch{return!1}}function W0(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var h;e(((h=o.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="FirebaseError";class ps extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=tT,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,v_.prototype.create)}}class v_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},o=`${this.service}/${e}`,h=this.errors[e],d=h?eT(h,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new ps(o,g,a)}}function eT(s,e){return s.replace(nT,(i,a)=>{const o=e[a];return o!=null?String(o):`<${a}?>`})}const nT=/\{\$([^}]+)}/g;function qu(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const o of i){if(!a.includes(o))return!1;const h=s[o],d=e[o];if(ly(h)&&ly(d)){if(!qu(h,d))return!1}else if(h!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function ly(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(s){return s&&s._delegate?s._delegate:s}class Bl{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Y0;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(o)return null;throw h}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aT(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:o});a.resolve(h)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(o)}return o}onInit(e,i){var a;const o=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(o,h);const d=this.instances.get(o);return d&&e(d,o),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:rT(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rT(s){return s===ra?void 0:s}function aT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new iT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Lt||(Lt={}));const lT={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},oT=Lt.INFO,uT={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},cT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),o=uT[e];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class E_{constructor(e){this.name=e,this._logLevel=oT,this._logHandler=cT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const hT=(s,e)=>e.some(i=>s instanceof i);let oy,uy;function fT(){return oy||(oy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dT(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T_=new WeakMap,Uf=new WeakMap,A_=new WeakMap,Rf=new WeakMap,sd=new WeakMap;function mT(s){const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(or(s.result)),o()},d=()=>{a(s.error),o()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&T_.set(i,s)}).catch(()=>{}),sd.set(e,s),e}function gT(s){if(Uf.has(s))return;const e=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),o()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});Uf.set(s,e)}let Lf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Uf.get(s);if(e==="objectStoreNames")return s.objectStoreNames||A_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function pT(s){Lf=s(Lf)}function yT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(wf(this),e,...i);return A_.set(a,e.sort?e.sort():[e]),or(a)}:dT().includes(s)?function(...e){return s.apply(wf(this),e),or(T_.get(this))}:function(...e){return or(s.apply(wf(this),e))}}function _T(s){return typeof s=="function"?yT(s):(s instanceof IDBTransaction&&gT(s),hT(s,fT())?new Proxy(s,Lf):s)}function or(s){if(s instanceof IDBRequest)return mT(s);if(Rf.has(s))return Rf.get(s);const e=_T(s);return e!==s&&(Rf.set(s,e),sd.set(e,s)),e}const wf=s=>sd.get(s);function vT(s,e,{blocked:i,upgrade:a,blocking:o,terminated:h}={}){const d=indexedDB.open(s,e),g=or(d);return a&&d.addEventListener("upgradeneeded",_=>{a(or(d.result),_.oldVersion,_.newVersion,or(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),o&&_.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const ET=["get","getKey","getAll","getAllKeys","count"],TT=["put","add","delete","clear"],Df=new Map;function cy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(Df.get(e))return Df.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,o=TT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||ET.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,o?"readwrite":"readonly");let v=_.store;return a&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),o&&_.done]))[0]};return Df.set(e,h),h}pT(s=>({...s,get:(e,i,a)=>cy(e,i)||s.get(e,i,a),has:(e,i)=>!!cy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(ST(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function ST(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const zf="@firebase/app",hy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new E_("@firebase/app"),bT="@firebase/app-compat",RT="@firebase/analytics-compat",wT="@firebase/analytics",DT="@firebase/app-check-compat",CT="@firebase/app-check",VT="@firebase/auth",IT="@firebase/auth-compat",NT="@firebase/database",OT="@firebase/data-connect",MT="@firebase/database-compat",xT="@firebase/functions",UT="@firebase/functions-compat",LT="@firebase/installations",zT="@firebase/installations-compat",PT="@firebase/messaging",BT="@firebase/messaging-compat",qT="@firebase/performance",kT="@firebase/performance-compat",HT="@firebase/remote-config",jT="@firebase/remote-config-compat",GT="@firebase/storage",QT="@firebase/storage-compat",FT="@firebase/firestore",YT="@firebase/vertexai",KT="@firebase/firestore-compat",XT="firebase",ZT="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",$T={[zf]:"fire-core",[bT]:"fire-core-compat",[wT]:"fire-analytics",[RT]:"fire-analytics-compat",[CT]:"fire-app-check",[DT]:"fire-app-check-compat",[VT]:"fire-auth",[IT]:"fire-auth-compat",[NT]:"fire-rtdb",[OT]:"fire-data-connect",[MT]:"fire-rtdb-compat",[xT]:"fire-fn",[UT]:"fire-fn-compat",[LT]:"fire-iid",[zT]:"fire-iid-compat",[PT]:"fire-fcm",[BT]:"fire-fcm-compat",[qT]:"fire-perf",[kT]:"fire-perf-compat",[HT]:"fire-rc",[jT]:"fire-rc-compat",[GT]:"fire-gcs",[QT]:"fire-gcs-compat",[FT]:"fire-fst",[KT]:"fire-fst-compat",[YT]:"fire-vertex","fire-js":"fire-js",[XT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku=new Map,JT=new Map,Bf=new Map;function fy(s,e){try{s.container.addComponent(e)}catch(i){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Hu(s){const e=s.name;if(Bf.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;Bf.set(e,s);for(const i of ku.values())fy(i,s);for(const i of JT.values())fy(i,s);return!0}function WT(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function tA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ur=new v_("app","Firebase",eA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nA{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Bl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ur.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA=ZT;function S_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Pf,automaticDataCollectionEnabled:!1},e),o=a.name;if(typeof o!="string"||!o)throw ur.create("bad-app-name",{appName:String(o)});if(i||(i=__()),!i)throw ur.create("no-options");const h=ku.get(o);if(h){if(qu(i,h.options)&&qu(a,h.config))return h;throw ur.create("duplicate-app",{appName:o})}const d=new sT(o);for(const _ of Bf.values())d.addComponent(_);const g=new nA(i,a,d);return ku.set(o,g),g}function rA(s=Pf){const e=ku.get(s);if(!e&&s===Pf&&__())return S_();if(!e)throw ur.create("no-app",{appName:s});return e}function ss(s,e,i){var a;let o=(a=$T[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const h=o.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${o}" with version "${e}":`];h&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(g.join(" "));return}Hu(new Bl(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA="firebase-heartbeat-database",sA=1,ql="firebase-heartbeat-store";let Cf=null;function b_(){return Cf||(Cf=vT(aA,sA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(ql)}catch(i){console.warn(i)}}}}).catch(s=>{throw ur.create("idb-open",{originalErrorMessage:s.message})})),Cf}async function lA(s){try{const i=(await b_()).transaction(ql),a=await i.objectStore(ql).get(R_(s));return await i.done,a}catch(e){if(e instanceof ps)Vi.warn(e.message);else{const i=ur.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(i.message)}}}async function dy(s,e){try{const a=(await b_()).transaction(ql,"readwrite");await a.objectStore(ql).put(e,R_(s)),await a.done}catch(i){if(i instanceof ps)Vi.warn(i.message);else{const a=ur.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Vi.warn(a.message)}}}function R_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=1024,uA=30;class cA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=my();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:o}),this._heartbeatsCache.heartbeats.length>uA){const d=dA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Vi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=my(),{heartbeatsToSend:a,unsentEntries:o}=hA(this._heartbeatsCache.heartbeats),h=Bu(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Vi.warn(i),""}}}function my(){return new Date().toISOString().substring(0,10)}function hA(s,e=oA){const i=[];let a=s.slice();for(const o of s){const h=i.find(d=>d.agent===o.agent);if(h){if(h.dates.push(o.date),gy(i)>e){h.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),gy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J0()?W0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await lA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return dy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return dy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function gy(s){return Bu(JSON.stringify({version:2,heartbeats:s})).length}function dA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mA(s){Hu(new Bl("platform-logger",e=>new AT(e),"PRIVATE")),Hu(new Bl("heartbeat",e=>new cA(e),"PRIVATE")),ss(zf,hy,s),ss(zf,hy,"esm2017"),ss("fire-js","")}mA("");var py=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,w_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,S){function R(){}R.prototype=S.prototype,O.D=S.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(V,I,x){for(var w=Array(arguments.length-2),Oe=2;Oe<arguments.length;Oe++)w[Oe-2]=arguments[Oe];return S.prototype[I].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,S,R){R||(R=0);var V=Array(16);if(typeof S=="string")for(var I=0;16>I;++I)V[I]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(I=0;16>I;++I)V[I]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=O.g[0],R=O.g[1],I=O.g[2];var x=O.g[3],w=S+(x^R&(I^x))+V[0]+3614090360&4294967295;S=R+(w<<7&4294967295|w>>>25),w=x+(I^S&(R^I))+V[1]+3905402710&4294967295,x=S+(w<<12&4294967295|w>>>20),w=I+(R^x&(S^R))+V[2]+606105819&4294967295,I=x+(w<<17&4294967295|w>>>15),w=R+(S^I&(x^S))+V[3]+3250441966&4294967295,R=I+(w<<22&4294967295|w>>>10),w=S+(x^R&(I^x))+V[4]+4118548399&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(I^S&(R^I))+V[5]+1200080426&4294967295,x=S+(w<<12&4294967295|w>>>20),w=I+(R^x&(S^R))+V[6]+2821735955&4294967295,I=x+(w<<17&4294967295|w>>>15),w=R+(S^I&(x^S))+V[7]+4249261313&4294967295,R=I+(w<<22&4294967295|w>>>10),w=S+(x^R&(I^x))+V[8]+1770035416&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(I^S&(R^I))+V[9]+2336552879&4294967295,x=S+(w<<12&4294967295|w>>>20),w=I+(R^x&(S^R))+V[10]+4294925233&4294967295,I=x+(w<<17&4294967295|w>>>15),w=R+(S^I&(x^S))+V[11]+2304563134&4294967295,R=I+(w<<22&4294967295|w>>>10),w=S+(x^R&(I^x))+V[12]+1804603682&4294967295,S=R+(w<<7&4294967295|w>>>25),w=x+(I^S&(R^I))+V[13]+4254626195&4294967295,x=S+(w<<12&4294967295|w>>>20),w=I+(R^x&(S^R))+V[14]+2792965006&4294967295,I=x+(w<<17&4294967295|w>>>15),w=R+(S^I&(x^S))+V[15]+1236535329&4294967295,R=I+(w<<22&4294967295|w>>>10),w=S+(I^x&(R^I))+V[1]+4129170786&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^I&(S^R))+V[6]+3225465664&4294967295,x=S+(w<<9&4294967295|w>>>23),w=I+(S^R&(x^S))+V[11]+643717713&4294967295,I=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(I^x))+V[0]+3921069994&4294967295,R=I+(w<<20&4294967295|w>>>12),w=S+(I^x&(R^I))+V[5]+3593408605&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^I&(S^R))+V[10]+38016083&4294967295,x=S+(w<<9&4294967295|w>>>23),w=I+(S^R&(x^S))+V[15]+3634488961&4294967295,I=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(I^x))+V[4]+3889429448&4294967295,R=I+(w<<20&4294967295|w>>>12),w=S+(I^x&(R^I))+V[9]+568446438&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^I&(S^R))+V[14]+3275163606&4294967295,x=S+(w<<9&4294967295|w>>>23),w=I+(S^R&(x^S))+V[3]+4107603335&4294967295,I=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(I^x))+V[8]+1163531501&4294967295,R=I+(w<<20&4294967295|w>>>12),w=S+(I^x&(R^I))+V[13]+2850285829&4294967295,S=R+(w<<5&4294967295|w>>>27),w=x+(R^I&(S^R))+V[2]+4243563512&4294967295,x=S+(w<<9&4294967295|w>>>23),w=I+(S^R&(x^S))+V[7]+1735328473&4294967295,I=x+(w<<14&4294967295|w>>>18),w=R+(x^S&(I^x))+V[12]+2368359562&4294967295,R=I+(w<<20&4294967295|w>>>12),w=S+(R^I^x)+V[5]+4294588738&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^I)+V[8]+2272392833&4294967295,x=S+(w<<11&4294967295|w>>>21),w=I+(x^S^R)+V[11]+1839030562&4294967295,I=x+(w<<16&4294967295|w>>>16),w=R+(I^x^S)+V[14]+4259657740&4294967295,R=I+(w<<23&4294967295|w>>>9),w=S+(R^I^x)+V[1]+2763975236&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^I)+V[4]+1272893353&4294967295,x=S+(w<<11&4294967295|w>>>21),w=I+(x^S^R)+V[7]+4139469664&4294967295,I=x+(w<<16&4294967295|w>>>16),w=R+(I^x^S)+V[10]+3200236656&4294967295,R=I+(w<<23&4294967295|w>>>9),w=S+(R^I^x)+V[13]+681279174&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^I)+V[0]+3936430074&4294967295,x=S+(w<<11&4294967295|w>>>21),w=I+(x^S^R)+V[3]+3572445317&4294967295,I=x+(w<<16&4294967295|w>>>16),w=R+(I^x^S)+V[6]+76029189&4294967295,R=I+(w<<23&4294967295|w>>>9),w=S+(R^I^x)+V[9]+3654602809&4294967295,S=R+(w<<4&4294967295|w>>>28),w=x+(S^R^I)+V[12]+3873151461&4294967295,x=S+(w<<11&4294967295|w>>>21),w=I+(x^S^R)+V[15]+530742520&4294967295,I=x+(w<<16&4294967295|w>>>16),w=R+(I^x^S)+V[2]+3299628645&4294967295,R=I+(w<<23&4294967295|w>>>9),w=S+(I^(R|~x))+V[0]+4096336452&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~I))+V[7]+1126891415&4294967295,x=S+(w<<10&4294967295|w>>>22),w=I+(S^(x|~R))+V[14]+2878612391&4294967295,I=x+(w<<15&4294967295|w>>>17),w=R+(x^(I|~S))+V[5]+4237533241&4294967295,R=I+(w<<21&4294967295|w>>>11),w=S+(I^(R|~x))+V[12]+1700485571&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~I))+V[3]+2399980690&4294967295,x=S+(w<<10&4294967295|w>>>22),w=I+(S^(x|~R))+V[10]+4293915773&4294967295,I=x+(w<<15&4294967295|w>>>17),w=R+(x^(I|~S))+V[1]+2240044497&4294967295,R=I+(w<<21&4294967295|w>>>11),w=S+(I^(R|~x))+V[8]+1873313359&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~I))+V[15]+4264355552&4294967295,x=S+(w<<10&4294967295|w>>>22),w=I+(S^(x|~R))+V[6]+2734768916&4294967295,I=x+(w<<15&4294967295|w>>>17),w=R+(x^(I|~S))+V[13]+1309151649&4294967295,R=I+(w<<21&4294967295|w>>>11),w=S+(I^(R|~x))+V[4]+4149444226&4294967295,S=R+(w<<6&4294967295|w>>>26),w=x+(R^(S|~I))+V[11]+3174756917&4294967295,x=S+(w<<10&4294967295|w>>>22),w=I+(S^(x|~R))+V[2]+718787259&4294967295,I=x+(w<<15&4294967295|w>>>17),w=R+(x^(I|~S))+V[9]+3951481745&4294967295,O.g[0]=O.g[0]+S&4294967295,O.g[1]=O.g[1]+(I+(w<<21&4294967295|w>>>11))&4294967295,O.g[2]=O.g[2]+I&4294967295,O.g[3]=O.g[3]+x&4294967295}a.prototype.u=function(O,S){S===void 0&&(S=O.length);for(var R=S-this.blockSize,V=this.B,I=this.h,x=0;x<S;){if(I==0)for(;x<=R;)o(this,O,x),x+=this.blockSize;if(typeof O=="string"){for(;x<S;)if(V[I++]=O.charCodeAt(x++),I==this.blockSize){o(this,V),I=0;break}}else for(;x<S;)if(V[I++]=O[x++],I==this.blockSize){o(this,V),I=0;break}}this.h=I,this.o+=S},a.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var S=1;S<O.length-8;++S)O[S]=0;var R=8*this.o;for(S=O.length-8;S<O.length;++S)O[S]=R&255,R/=256;for(this.u(O),O=Array(16),S=R=0;4>S;++S)for(var V=0;32>V;V+=8)O[R++]=this.g[S]>>>V&255;return O};function h(O,S){var R=g;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=S(O)}function d(O,S){this.h=S;for(var R=[],V=!0,I=O.length-1;0<=I;I--){var x=O[I]|0;V&&x==S||(R[I]=x,V=!1)}this.g=R}var g={};function _(O){return-128<=O&&128>O?h(O,function(S){return new d([S|0],0>S?-1:0)}):new d([O|0],0>O?-1:0)}function v(O){if(isNaN(O)||!isFinite(O))return N;if(0>O)return Z(v(-O));for(var S=[],R=1,V=0;O>=R;V++)S[V]=O/R|0,R*=4294967296;return new d(S,0)}function A(O,S){if(O.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(O.charAt(0)=="-")return Z(A(O.substring(1),S));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=v(Math.pow(S,8)),V=N,I=0;I<O.length;I+=8){var x=Math.min(8,O.length-I),w=parseInt(O.substring(I,I+x),S);8>x?(x=v(Math.pow(S,x)),V=V.j(x).add(v(w))):(V=V.j(R),V=V.add(v(w)))}return V}var N=_(0),z=_(1),G=_(16777216);s=d.prototype,s.m=function(){if(nt(this))return-Z(this).m();for(var O=0,S=1,R=0;R<this.g.length;R++){var V=this.i(R);O+=(0<=V?V:4294967296+V)*S,S*=4294967296}return O},s.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if($(this))return"0";if(nt(this))return"-"+Z(this).toString(O);for(var S=v(Math.pow(O,6)),R=this,V="";;){var I=Vt(R,S).g;R=vt(R,I.j(S));var x=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=I,$(R))return x+V;for(;6>x.length;)x="0"+x;V=x+V}},s.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function $(O){if(O.h!=0)return!1;for(var S=0;S<O.g.length;S++)if(O.g[S]!=0)return!1;return!0}function nt(O){return O.h==-1}s.l=function(O){return O=vt(this,O),nt(O)?-1:$(O)?0:1};function Z(O){for(var S=O.g.length,R=[],V=0;V<S;V++)R[V]=~O.g[V];return new d(R,~O.h).add(z)}s.abs=function(){return nt(this)?Z(this):this},s.add=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],V=0,I=0;I<=S;I++){var x=V+(this.i(I)&65535)+(O.i(I)&65535),w=(x>>>16)+(this.i(I)>>>16)+(O.i(I)>>>16);V=w>>>16,x&=65535,w&=65535,R[I]=w<<16|x}return new d(R,R[R.length-1]&-2147483648?-1:0)};function vt(O,S){return O.add(Z(S))}s.j=function(O){if($(this)||$(O))return N;if(nt(this))return nt(O)?Z(this).j(Z(O)):Z(Z(this).j(O));if(nt(O))return Z(this.j(Z(O)));if(0>this.l(G)&&0>O.l(G))return v(this.m()*O.m());for(var S=this.g.length+O.g.length,R=[],V=0;V<2*S;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(var I=0;I<O.g.length;I++){var x=this.i(V)>>>16,w=this.i(V)&65535,Oe=O.i(I)>>>16,re=O.i(I)&65535;R[2*V+2*I]+=w*re,lt(R,2*V+2*I),R[2*V+2*I+1]+=x*re,lt(R,2*V+2*I+1),R[2*V+2*I+1]+=w*Oe,lt(R,2*V+2*I+1),R[2*V+2*I+2]+=x*Oe,lt(R,2*V+2*I+2)}for(V=0;V<S;V++)R[V]=R[2*V+1]<<16|R[2*V];for(V=S;V<2*S;V++)R[V]=0;return new d(R,0)};function lt(O,S){for(;(O[S]&65535)!=O[S];)O[S+1]+=O[S]>>>16,O[S]&=65535,S++}function ht(O,S){this.g=O,this.h=S}function Vt(O,S){if($(S))throw Error("division by zero");if($(O))return new ht(N,N);if(nt(O))return S=Vt(Z(O),S),new ht(Z(S.g),Z(S.h));if(nt(S))return S=Vt(O,Z(S)),new ht(Z(S.g),S.h);if(30<O.g.length){if(nt(O)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var R=z,V=S;0>=V.l(O);)R=pt(R),V=pt(V);var I=wt(R,1),x=wt(V,1);for(V=wt(V,2),R=wt(R,2);!$(V);){var w=x.add(V);0>=w.l(O)&&(I=I.add(R),x=w),V=wt(V,1),R=wt(R,1)}return S=vt(O,I.j(S)),new ht(I,S)}for(I=N;0<=O.l(S);){for(R=Math.max(1,Math.floor(O.m()/S.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),x=v(R),w=x.j(S);nt(w)||0<w.l(O);)R-=V,x=v(R),w=x.j(S);$(x)&&(x=z),I=I.add(x),O=vt(O,w)}return new ht(I,O)}s.A=function(O){return Vt(this,O).h},s.and=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)&O.i(V);return new d(R,this.h&O.h)},s.or=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)|O.i(V);return new d(R,this.h|O.h)},s.xor=function(O){for(var S=Math.max(this.g.length,O.g.length),R=[],V=0;V<S;V++)R[V]=this.i(V)^O.i(V);return new d(R,this.h^O.h)};function pt(O){for(var S=O.g.length+1,R=[],V=0;V<S;V++)R[V]=O.i(V)<<1|O.i(V-1)>>>31;return new d(R,O.h)}function wt(O,S){var R=S>>5;S%=32;for(var V=O.g.length-R,I=[],x=0;x<V;x++)I[x]=0<S?O.i(x+R)>>>S|O.i(x+R+1)<<32-S:O.i(x+R);return new d(I,O.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,w_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=A,cr=d}).apply(typeof py<"u"?py:typeof self<"u"?self:typeof window<"u"?window:{});var bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var D_,Ol,C_,Mu,qf,V_,I_,N_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bu=="object"&&bu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var p=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in p))break t;p=p[U]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&e(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,U={next:function(){if(!T&&p<u.length){var k=p++;return{value:m(k,u[k]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function A(u,m,p){return u.call.apply(u.bind,arguments)}function N(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function z(u,m,p){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:N,z.apply(null,arguments)}function G(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,U,k){for(var W=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)W[Ot-2]=arguments[Ot];return m.prototype[U].apply(T,W)}}function nt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function Z(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const U=u.length||0,k=T.length||0;u.length=U+k;for(let W=0;W<k;W++)u[U+W]=T[W]}else u.push(T)}}class vt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function lt(u){return/^[\s\xa0]*$/.test(u)}function ht(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Vt(u){return Vt[" "](u),u}Vt[" "]=function(){};var pt=ht().indexOf("Gecko")!=-1&&!(ht().toLowerCase().indexOf("webkit")!=-1&&ht().indexOf("Edge")==-1)&&!(ht().indexOf("Trident")!=-1||ht().indexOf("MSIE")!=-1)&&ht().indexOf("Edge")==-1;function wt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function O(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function S(u){const m={};for(const p in u)m[p]=u[p];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(u,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)u[p]=T[p];for(let k=0;k<R.length;k++)p=R[k],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function I(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function x(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Pt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Oe{constructor(){this.h=this.g=null}add(m,p){const T=re.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var re=new vt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,ot=!1,Pt=new Oe,D=()=>{const u=g.Promise.resolve(void 0);tt=()=>{u.then(X)}};var X=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){x(p)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function J(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}J.prototype.h=function(){this.defaultPrevented=!0};var ct=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function bt(u,m){if(J.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(pt){t:{try{Vt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:yt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&bt.aa.h.call(this)}}$(bt,J);var yt={2:"touch",3:"pen",4:"mouse"};bt.prototype.h=function(){bt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Re="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(u,m,p,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Oi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ni(u){this.src=u,this.g={},this.h=0}ni.prototype.add=function(u,m,p,T,U){var k=u.toString();u=this.g[k],u||(u=this.g[k]=[],this.h++);var W=Ar(u,m,T,U);return-1<W?(m=u[W],p||(m.fa=!1)):(m=new xn(m,this.src,k,!!T,U),m.fa=p,u.push(m)),m};function Tr(u,m){var p=m.type;if(p in u.g){var T=u.g[p],U=Array.prototype.indexOf.call(T,m,void 0),k;(k=0<=U)&&Array.prototype.splice.call(T,U,1),k&&(Oi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Ar(u,m,p,T){for(var U=0;U<u.length;++U){var k=u[U];if(!k.da&&k.listener==m&&k.capture==!!p&&k.ha==T)return U}return-1}var Sr="closure_lm_"+(1e6*Math.random()|0),As={};function Wl(u,m,p,T,U){if(Array.isArray(m)){for(var k=0;k<m.length;k++)Wl(u,m[k],p,T,U);return null}return p=to(p),u&&u[Re]?u.K(m,p,v(T)?!!T.capture:!1,U):mn(u,m,p,!1,T,U)}function mn(u,m,p,T,U,k){if(!m)throw Error("Invalid event type");var W=v(U)?!!U.capture:!!U,Ot=ha(u);if(Ot||(u[Sr]=Ot=new ni(u)),p=Ot.add(m,p,T,W,k),p.proxy)return p;if(T=_c(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)ct||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(br(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function _c(){function u(p){return m.call(u.src,u.listener,p)}const m=vc;return u}function Ss(u,m,p,T,U){if(Array.isArray(m))for(var k=0;k<m.length;k++)Ss(u,m[k],p,T,U);else T=v(T)?!!T.capture:!!T,p=to(p),u&&u[Re]?(u=u.i,m=String(m).toString(),m in u.g&&(k=u.g[m],p=Ar(k,p,T,U),-1<p&&(Oi(k[p]),Array.prototype.splice.call(k,p,1),k.length==0&&(delete u.g[m],u.h--)))):u&&(u=ha(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ar(m,p,T,U)),(p=-1<u?m[u]:null)&&ca(p))}function ca(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Re])Tr(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(br(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=ha(m))?(Tr(p,u),p.h==0&&(p.src=null,m[Sr]=null)):Oi(u)}}}function br(u){return u in As?As[u]:As[u]="on"+u}function vc(u,m){if(u.da)u=!0;else{m=new bt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&ca(u),u=p.call(T,m)}return u}function ha(u){return u=u[Sr],u instanceof ni?u:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function to(u){return typeof u=="function"?u:(u[bs]||(u[bs]=function(m){return u.handleEvent(m)}),u[bs])}function ae(){et.call(this),this.i=new ni(this),this.M=this,this.F=null}$(ae,et),ae.prototype[Re]=!0,ae.prototype.removeEventListener=function(u,m,p,T){Ss(this,u,m,p,T)};function Ht(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new J(m,u);else if(m instanceof J)m.target=m.target||u;else{var U=m;m=new J(T,u),V(m,U)}if(U=!0,p)for(var k=p.length-1;0<=k;k--){var W=m.g=p[k];U=nn(W,T,!0,m)&&U}if(W=m.g=u,U=nn(W,T,!0,m)&&U,U=nn(W,T,!1,m)&&U,p)for(k=0;k<p.length;k++)W=m.g=p[k],U=nn(W,T,!1,m)&&U}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Oi(p[T]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ae.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function nn(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,k=0;k<m.length;++k){var W=m[k];if(W&&!W.da&&W.capture==p){var Ot=W.listener,ve=W.ha||W.src;W.fa&&Tr(u.i,W),U=Ot.call(ve,T)!==!1&&U}}return U&&!T.defaultPrevented}function ke(u,m,p){if(typeof u=="function")p&&(u=z(u,p));else if(u&&typeof u.handleEvent=="function")u=z(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function eo(u){u.g=ke(()=>{u.g=null,u.i&&(u.i=!1,eo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ec extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(u){et.call(this),this.h=u,this.g={}}$(Rr,et);var wr=[];function Dr(u){wt(u.g,function(m,p){this.g.hasOwnProperty(p)&&ca(m)},u),u.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),Dr(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,fa=g.JSON.parse,Cr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Rs(){}Rs.prototype.h=null;function ws(u){return u.h||(u.h=u.i())}function Ds(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){J.call(this,"d")}$(ri,J);function Cs(){J.call(this,"c")}$(Cs,J);var Un={},Vs=null;function Mi(){return Vs=Vs||new ae}Un.La="serverreachability";function da(u){J.call(this,Un.La,u)}$(da,J);function xi(u){const m=Mi();Ht(m,new da(m))}Un.STAT_EVENT="statevent";function no(u,m){J.call(this,Un.STAT_EVENT,u),this.stat=m}$(no,J);function Wt(u){const m=Mi();Ht(m,new no(m,u))}Un.Ma="timingevent";function _e(u,m){J.call(this,Un.Ma,u),this.size=m}$(_e,J);function fe(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function Is(u,m,p,T,U,k){u.info(function(){if(u.g)if(k)for(var W="",Ot=k.split("&"),ve=0;ve<Ot.length;ve++){var Mt=Ot[ve].split("=");if(1<Mt.length){var De=Mt[0];Mt=Mt[1];var Ee=De.split("_");W=2<=Ee.length&&Ee[1]=="type"?W+(De+"="+Mt+"&"):W+(De+"=redacted&")}}else W=null;else W=k;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+W})}function Tc(u,m,p,T,U,k,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+k+" "+W})}function Ui(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vr(u,p)+(T?" "+T:"")})}function io(u,m){u.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Vr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var k=U[0];if(k!="noop"&&k!="stop"&&k!="close")for(var W=1;W<U.length;W++)U[W]=""}}}}return Dn(p)}catch{return m}}var Li={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ln;function zn(){}$(zn,Rs),zn.prototype.g=function(){return new XMLHttpRequest},zn.prototype.i=function(){return{}},Ln=new zn;function Ye(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var Ns={},ma={};function Cn(u,m,p){u.L=1,u.v=xr(rn(m)),u.m=p,u.P=!0,si(u,null)}function si(u,m){u.F=Date.now(),Ir(u),u.A=rn(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),zs(p.i,"t",T),u.C=0,p=u.j.J,u.h=new oe,u.g=Eo(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Ec(z(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(wr[0]=U.toString()),U=wr);for(var k=0;k<U.length;k++){var W=Wl(p,U[k],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.H?S(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),xi(),Is(u.i,u.u,u.A,u.l,u.R,u.m)}Ye.prototype.ca=function(u){u=u.target;const m=this.M;m&&vn(u)==3?m.j():this.Y(u)},Ye.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=vn(this.g);var m=this.g.Ba();const mi=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||ho(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=mi?xi(3):xi(2)),zi(this);var p=this.g.Z();this.X=p;e:if(ro(this)){var T=ho(this.g);u="";var U=T.length,k=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Me(this),Pn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(k&&m==U-1)});T.length=0,this.h.g+=u,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,Tc(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Ot,ve=this.g;if((Ot=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lt(Ot)){var Mt=Ot;break e}}Mt=null}if(p=Mt)Ui(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nr(this,p);else{this.o=!1,this.s=3,Wt(12),Me(this),Pn(this);break t}}if(this.P){p=!0;let xe;for(;!this.J&&this.C<W.length;)if(xe=ao(this,W),xe==ma){Ee==4&&(this.s=4,Wt(14),p=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Ns){this.s=4,Wt(15),Ui(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Ui(this.i,this.l,xe,null),Nr(this,xe);if(ro(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||W.length!=0||this.h.h||(this.s=1,Wt(16),p=!1),this.o=this.o&&p,!p)Ui(this.i,this.l,W,"[Invalid Chunked Response]"),Me(this),Pn(this);else if(0<W.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Hr(De),De.M=!0,Wt(11))}}else Ui(this.i,this.l,W,null),Nr(this,W);Ee==4&&Me(this),this.o&&!this.J&&(Ee==4?yo(this.j,this):(this.o=!1,Ir(this)))}else wc(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Wt(12)):(this.s=0,Wt(13)),Me(this),Pn(this)}}}catch{}finally{}};function ro(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ao(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?ma:(p=Number(m.substring(p,T)),isNaN(p)?Ns:(T+=1,T+p>m.length?ma:(m=m.slice(T,T+p),u.C=T+p,m)))}Ye.prototype.cancel=function(){this.J=!0,Me(this)};function Ir(u){u.S=Date.now()+u.I,so(u,u.I)}function so(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fe(z(u.ba,u),m)}function zi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ye.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(io(this.i,this.A),this.L!=2&&(xi(),Wt(17)),Me(this),this.s=2,Pn(this)):so(this,this.S-u)};function Pn(u){u.j.G==0||u.J||yo(u.j,u)}function Me(u){zi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Dr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Nr(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||Os(p.h,u))){if(!u.K&&Os(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)wa(p),ba(p);else break t;Hs(p),Wt(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=fe(z(p.Za,p),6e3));if(1>=pa(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else di(p,11)}else if((u.K||p.g==u)&&wa(p),!lt(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let Mt=U[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const De=Mt[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const Ee=Mt[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const mi=Mt[5];mi!=null&&typeof mi=="number"&&0<mi&&(T=1.5*mi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const xe=u.g;if(xe){const Qn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var k=T.h;k.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(ya(k,k.h),k.h=null))}if(T.D){const Gs=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(T.ya=Gs,Qt(T.I,T.D,Gs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=u;if(T.qa=vo(T,T.J?T.ia:null,T.W),W.K){Ke(T.h,W);var Ot=W,ve=T.L;ve&&(Ot.I=ve),Ot.B&&(zi(Ot),Ir(Ot)),T.g=W}else go(T);0<p.i.length&&Ra(p)}else Mt[0]!="stop"&&Mt[0]!="close"||di(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?di(p,7):qs(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}xi(4)}catch{}}var lo=class{constructor(u,m){this.g=u,this.map=m}};function li(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ga(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function pa(u){return u.h?1:u.g?u.g.size:0}function Os(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function ya(u,m){u.g?u.g.add(m):u.h=m}function Ke(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}li.prototype.cancel=function(){if(this.i=Ms(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ms(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return nt(u.i)}function Ac(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function _a(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function xs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=_a(u),T=Ac(u),U=T.length,k=0;k<U;k++)m.call(void 0,T[k],p&&p[k],u)}var Or=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Sc(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),U=null;if(0<=T){var k=u[p].substring(0,T);U=u[p].substring(T+1)}else k=u[p];m(k,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,Mr(this,u.j),this.o=u.o,this.g=u.g,Pi(this,u.s),this.l=u.l;var m=u.i,p=new ui;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),oi(this,p),this.m=u.m}else u&&(m=String(u).match(Or))?(this.h=!1,Mr(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),Pi(this,m[4]),this.l=pn(m[5]||"",!0),oi(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new ui(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Ur(m,Us,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ur(m,Us,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(Ur(p,p.charAt(0)=="/"?bc:Ls,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",Ur(p,va)),u.join("")};function rn(u){return new de(u)}function Mr(u,m,p){u.j=p?pn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Pi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function oi(u,m,p){m instanceof ui?(u.i=m,uo(u.i,u.h)):(p||(m=Ur(m,Rc)),u.i=new ui(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function xr(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function pn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,oo),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function oo(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Us=/[#\/\?@]/g,Ls=/[#\?:]/g,bc=/[#\?]/g,Rc=/[#\?@]/g,va=/#/g;function ui(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function yn(u){u.g||(u.g=new Map,u.h=0,u.i&&Sc(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=ui.prototype,s.add=function(u,m){yn(this),this.i=null,u=Bn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function ci(u,m){yn(u),m=Bn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function hi(u,m){return yn(u),m=Bn(u,m),u.g.has(m)}s.forEach=function(u,m){yn(this),this.g.forEach(function(p,T){p.forEach(function(U){u.call(m,U,T,this)},this)},this)},s.na=function(){yn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=u[T];for(let k=0;k<U.length;k++)p.push(m[T])}return p},s.V=function(u){yn(this);let m=[];if(typeof u=="string")hi(this,u)&&(m=m.concat(this.g.get(Bn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},s.set=function(u,m){return yn(this),this.i=null,u=Bn(this,u),hi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},s.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function zs(u,m,p){ci(u,m),0<p.length&&(u.i=null,u.g.set(Bn(u,m),nt(p)),u.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const k=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var U=k;W[T]!==""&&(U+="="+encodeURIComponent(String(W[T]))),u.push(U)}}return this.i=u.join("&")};function Bn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function uo(u,m){m&&!u.j&&(yn(u),u.i=null,u.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(ci(this,T),zs(this,U,p))},u)),u.j=m}function Lr(u,m){const p=new gn;if(g.Image){const T=new Image;T.onload=G(_n,p,"TestLoadImage: loaded",!0,m,T),T.onerror=G(_n,p,"TestLoadImage: error",!1,m,T),T.onabort=G(_n,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(_n,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vn(u,m){const p=new gn,T=new AbortController,U=setTimeout(()=>{T.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(k=>{clearTimeout(U),k.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),_n(p,"TestPingServer: error",!1,m)})}function _n(u,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function zr(){this.g=new Cr}function qn(u,m,p){const T=p||"";try{xs(u,function(U,k){let W=U;v(U)&&(W=Dn(U)),m.push(T+k+"="+encodeURIComponent(W))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Bi(u){this.l=u.Ub||null,this.j=u.eb||!1}$(Bi,Rs),Bi.prototype.g=function(){return new fi(this.l,this.j)},Bi.prototype.i=function(u){return function(){return u}}({});function fi(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(fi,ae),s=fi.prototype,s.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Hn(this)},s.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},s.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Hn(this)),this.g&&(this.readyState=3,Hn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}s.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?kn(this):Hn(this),this.readyState==3&&Ps(this)}},s.Ra=function(u){this.g&&(this.response=this.responseText=u,kn(this))},s.Qa=function(u){this.g&&(this.response=u,kn(this))},s.ga=function(){this.g&&kn(this)};function kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Hn(u)}s.setRequestHeader=function(u,m){this.u.append(u,m)},s.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Hn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Bs(u){let m="";return wt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function we(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Bs(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function qt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(qt,ae);var Ea=/^https?$/i,Pr=["POST","PUT"];s=qt.prototype,s.Ha=function(u){this.J=u},s.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ln.g(),this.v=this.o?ws(this.o):ws(Ln),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(k){co(this,k);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const k of T.keys())p.set(k,T.get(k));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(k=>k.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Pr,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[k,W]of p)this.g.setRequestHeader(k,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Br(this),this.u=!0,this.g.send(u),this.u=!1}catch(k){co(this,k)}};function co(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ta(u),jn(u)}function Ta(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}s.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),jn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),jn(this,!0)),qt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},s.bb=function(){Aa(this)};function Aa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||vn(u)!=4||u.Z()!=2)){if(u.u&&vn(u)==4)ke(u.Ea,0,u);else if(Ht(u,"readystatechange"),vn(u)==4){u.h=!1;try{const W=u.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var U=String(u.D).match(Or)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Ea.test(U?U.toLowerCase():"")}p=T}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var k=2<vn(u)?u.g.statusText:""}catch{k=""}u.l=k+" ["+u.Z()+"]",Ta(u)}}finally{jn(u)}}}}function jn(u,m){if(u.g){Br(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=T}catch{}}}function Br(u){u.I&&(g.clearTimeout(u.I),u.I=null)}s.isActive=function(){return!!this.g};function vn(u){return u.g?u.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),fa(m)}};function ho(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function wc(u){const m={};u=(u.g&&2<=vn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(lt(u[T]))continue;var p=I(u[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const k=m[U]||[];m[U]=k,k.push(p)}O(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function qr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function Sa(u){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=qr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=qr("baseRetryDelayMs",5e3,u),this.cb=qr("retryDelaySeedMs",1e4,u),this.Wa=qr("forwardChannelMaxRetries",2,u),this.wa=qr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new li(u&&u.concurrentRequestLimit),this.Da=new zr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=Sa.prototype,s.la=8,s.G=1,s.connect=function(u,m,p,T){Wt(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=vo(this,null,this.W),Ra(this)};function qs(u){if(fo(u),u.G==3){var m=u.U++,p=rn(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),kr(u,p),m=new Ye(u,u.j,m),m.L=2,m.v=xr(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=Eo(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ir(m)}_o(u)}function ba(u){u.g&&(Hr(u),u.g.cancel(),u.g=null)}function fo(u){ba(u),u.u&&(g.clearTimeout(u.u),u.u=null),wa(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Ra(u){if(!ga(u.h)&&!u.s){u.s=!0;var m=u.Ga;tt||D(),ot||(tt(),ot=!0),Pt.add(m,u),u.B=0}}function Dc(u,m){return pa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fe(z(u.Ga,u,m),js(u,u.B)),u.B++,!0)}s.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ye(this,this.j,u);let k=this.o;if(this.S&&(k?(k=S(k),V(k,this.S)):k=this.S),this.m!==null||this.O||(U.H=k,k=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=mo(this,U,m),p=rn(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),kr(this,p),k&&(this.O?m="headers="+encodeURIComponent(String(Bs(k)))+"&"+m:this.m&&we(p,this.m,k)),ya(this.h,U),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),U.T=!0,Cn(U,p,null)):Cn(U,p,m),this.G=2}}else this.G==3&&(u?ks(this,u):this.i.length==0||ga(this.h)||ks(this))};function ks(u,m){var p;m?p=m.l:p=u.U++;const T=rn(u.I);Qt(T,"SID",u.K),Qt(T,"RID",p),Qt(T,"AID",u.T),kr(u,T),u.m&&u.o&&we(T,u.m,u.o),p=new Ye(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=mo(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),ya(u.h,p),Cn(p,T,m)}function kr(u,m){u.H&&wt(u.H,function(p,T){Qt(m,T,p)}),u.l&&xs({},function(p,T){Qt(m,T,p)})}function mo(u,m,p){p=Math.min(u.i.length,p);var T=u.l?z(u.l.Na,u.l,u):null;t:{var U=u.i;let k=-1;for(;;){const W=["count="+p];k==-1?0<p?(k=U[0].g,W.push("ofs="+k)):k=0:W.push("ofs="+k);let Ot=!0;for(let ve=0;ve<p;ve++){let Mt=U[ve].g;const De=U[ve].map;if(Mt-=k,0>Mt)k=Math.max(0,U[ve].g-100),Ot=!1;else try{qn(De,W,"req"+Mt+"_")}catch{T&&T(De)}}if(Ot){T=W.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function go(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;tt||D(),ot||(tt(),ot=!0),Pt.add(m,u),u.v=0}}function Hs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fe(z(u.Fa,u),js(u,u.v)),u.v++,!0)}s.Fa=function(){if(this.u=null,po(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fe(z(this.ab,this),u)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Wt(10),ba(this),po(this))};function Hr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function po(u){u.g=new Ye(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=rn(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),kr(u,m),u.m&&u.o&&we(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=xr(rn(m)),p.m=null,p.P=!0,si(p,u)}s.Za=function(){this.C!=null&&(this.C=null,ba(this),Hs(this),Wt(19))};function wa(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function yo(u,m){var p=null;if(u.g==m){wa(u),Hr(u),u.g=null;var T=2}else if(Os(u.h,m))p=m.D,Ke(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;T=Mi(),Ht(T,new _e(T,p)),Ra(u)}else go(u);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&Dc(u,m)||T==2&&Hs(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),U){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function js(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function di(u,m){if(u.j.info("Error code "+m),m==2){var p=z(u.fb,u),T=u.Xa;const U=!T;T=new de(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Mr(T,"https"),xr(T),U?Lr(T.toString(),p):Vn(T.toString(),p)}else Wt(2);u.G=0,u.l&&u.l.sa(m),_o(u),fo(u)}s.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Wt(2)):(this.j.info("Failed to ping google.com"),Wt(1))};function _o(u){if(u.G=0,u.ka=[],u.l){const m=Ms(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ka,m),Z(u.ka,u.i),u.h.i.length=0,nt(u.i),u.i.length=0),u.l.ra()}}function vo(u,m,p){var T=p instanceof de?rn(p):new de(p);if(T.g!="")m&&(T.g=m+"."+T.g),Pi(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var k=new de(null);T&&Mr(k,T),m&&(k.g=m),U&&Pi(k,U),p&&(k.l=p),T=k}return p=u.D,m=u.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",u.la),kr(u,T),T}function Eo(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new qt(new Bi({eb:p})):new qt(u.pa),m.Ha(u.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function To(){}s=To.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Da(){}Da.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){ae.call(this),this.g=new Sa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!lt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!lt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gn(this)}$(Xe,ae),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){qs(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Dn(u),u=p);m.i.push(new lo(m.Ya++,u)),m.G==3&&Ra(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,qs(this.g),delete this.g,Xe.aa.N.call(this)};function Ao(u){ri.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(Ao,ri);function So(){Cs.call(this),this.status=1}$(So,Cs);function Gn(u){this.g=u}$(Gn,To),Gn.prototype.ua=function(){Ht(this.g,"a")},Gn.prototype.ta=function(u){Ht(this.g,new Ao(u))},Gn.prototype.sa=function(u){Ht(this.g,new So)},Gn.prototype.ra=function(){Ht(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,N_=function(){return new Da},I_=function(){return Mi()},V_=Un,qf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Li.NO_ERROR=0,Li.TIMEOUT=8,Li.HTTP_ERROR=6,Mu=Li,ai.COMPLETE="complete",C_=ai,Ds.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Ol=Ds,qt.prototype.listenOnce=qt.prototype.L,qt.prototype.getLastError=qt.prototype.Ka,qt.prototype.getLastErrorCode=qt.prototype.Ba,qt.prototype.getStatus=qt.prototype.Z,qt.prototype.getResponseJson=qt.prototype.Oa,qt.prototype.getResponseText=qt.prototype.oa,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Ha,D_=qt}).apply(typeof bu<"u"?bu:typeof self<"u"?self:typeof window<"u"?window:{});const yy="@firebase/firestore",_y="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ys="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new E_("@firebase/firestore");function ns(){return sa.logLevel}function it(s,...e){if(sa.logLevel<=Lt.DEBUG){const i=e.map(ld);sa.debug(`Firestore (${ys}): ${s}`,...i)}}function Ii(s,...e){if(sa.logLevel<=Lt.ERROR){const i=e.map(ld);sa.error(`Firestore (${ys}): ${s}`,...i)}}function os(s,...e){if(sa.logLevel<=Lt.WARN){const i=e.map(ld);sa.warn(`Firestore (${ys}): ${s}`,...i)}}function ld(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(s="Unexpected state"){const e=`FIRESTORE (${ys}) INTERNAL ASSERTION FAILED: `+s;throw Ii(e),new Error(e)}function kt(s,e){s||gt()}function Et(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends ps{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class gA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class pA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class yA{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){kt(this.o===void 0);let a=this.i;const o=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let h=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new hr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const _=h;e.enqueueRetryable(async()=>{await _.promise,await o(this.currentUser)})},g=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new hr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(kt(typeof a.accessToken=="string"),new O_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return kt(e===null||typeof e=="string"),new Qe(e)}}class _A{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class vA{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new _A(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class vy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,tA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){kt(this.o===void 0);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const o=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>o(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?o(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new vy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(kt(typeof i.token=="string"),this.R=i.token,new vy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=TA(40);for(let h=0;h<o.length;++h)a.length<20&&o[h]<i&&(a+=e.charAt(o[h]%62))}return a}}function St(s,e){return s<e?-1:s>e?1:0}function kf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),o=e.codePointAt(i);if(a!==o){if(a<128&&o<128)return St(a,o);{const h=M_(),d=AA(h.encode(Ey(s,i)),h.encode(Ey(e,i)));return d!==0?d:St(a,o)}}i+=a>65535?2:1}return St(s.length,e.length)}function Ey(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function AA(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return St(s[i],e[i]);return St(s.length,e.length)}function us(s,e,i){return s.length===e.length&&s.every((a,o)=>i(a,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=-62135596800,Ay=1e6;class Se{static now(){return Se.fromMillis(Date.now())}static fromDate(e){return Se.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*Ay);return new Se(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Ty)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new at(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ay}_compareTo(e){return this.seconds===e.seconds?St(this.nanoseconds,e.nanoseconds):St(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Ty;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Se(0,0))}static max(){return new _t(new Se(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="__name__";class $n{constructor(e,i,a){i===void 0?i=0:i>e.length&&gt(),a===void 0?a=e.length-i:a>e.length-i&&gt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let o=0;o<a;o++){const h=$n.compareSegments(e.get(o),i.get(o));if(h!==0)return h}return St(e.length,i.length)}static compareSegments(e,i){const a=$n.isNumericId(e),o=$n.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?$n.extractNumericId(e).compare($n.extractNumericId(i)):kf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class Jt extends $n{construct(e,i,a){return new Jt(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new at(K.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(o=>o.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const SA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends $n{construct(e,i,a){return new Be(e,i,a)}static isValidIdentifier(e){return SA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Sy}static keyField(){return new Be([Sy])}static fromServerFormat(e){const i=[];let a="",o=0;const h=()=>{if(a.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new at(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[o+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new at(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=_,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(h(),o++)}if(h(),d)throw new at(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e){this.path=e}static fromPath(e){return new ut(Jt.fromString(e))}static fromName(e){return new ut(Jt.fromString(e).popFirst(5))}static empty(){return new ut(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ut(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=-1;function bA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(a===1e9?new Se(i+1,0):new Se(i,a));return new dr(o,ut.empty(),e)}function RA(s){return new dr(s.readTime,s.key,kl)}class dr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new dr(_t.min(),ut.empty(),kl)}static max(){return new dr(_t.max(),ut.empty(),kl)}}function wA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ut.comparator(s.documentKey,e.documentKey),i!==0?i:St(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _s(s){if(s.code!==K.FAILED_PRECONDITION||s.message!==DA)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((a,o)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,o)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,a)=>{i(e)})}static reject(e){return new Y((i,a)=>{a(e)})}static waitFor(e){return new Y((i,a)=>{let o=0,h=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++h,d&&h===o&&i()},_=>a(_))}),d=!0,h===o&&i()})}static or(e){let i=Y.resolve(!1);for(const a of e)i=i.next(o=>o?Y.resolve(o):a());return i}static forEach(e,i){const a=[];return e.forEach((o,h)=>{a.push(i.call(this,o,h))}),this.waitFor(a)}static mapArray(e,i){return new Y((a,o)=>{const h=e.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(e[v]).next(A=>{d[v]=A,++g,g===h&&a(d)},A=>o(A))}})}static doWhile(e,i){return new Y((a,o)=>{const h=()=>{e()===!0?i().next(()=>{h()},o):a()};h()})}}function VA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function vs(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}ec.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od=-1;function nc(s){return s==null}function ju(s){return s===0&&1/s==-1/0}function IA(s){return typeof s=="number"&&Number.isInteger(s)&&!ju(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="";function NA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=by(e)),e=OA(s.get(i),e);return by(e)}function OA(s,e){let i=e;const a=s.length;for(let o=0;o<a;o++){const h=s.charAt(o);switch(h){case"\0":i+="";break;case U_:i+="";break;default:i+=h}}return i}function by(s){return s+U_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function L_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(e,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ru(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ru(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ru(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ru(this.root,e,this.comparator,!0)}}class Ru{constructor(e,i,a,o){this.isReverse=o,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&o&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,a,o,h){this.key=e,this.value=i,this.color=a??Pe.RED,this.left=o??Pe.EMPTY,this.right=h??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,o,h){return new Pe(e??this.key,i??this.value,a??this.color,o??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let o=this;const h=a(e,o.key);return o=h<0?o.copy(null,null,null,o.left.insert(e,i,a),null):h===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(e,i,a,o,h){return this}insert(e,i,a){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new wy(this.data.getIterator())}getIteratorFrom(e){return new wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(this.comparator(o,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new be(this.comparator);return i.data=e,i}}class wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new fn([])}unionWith(e){let i=new be(Be.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new z_("Invalid base64 string: "+h):h}}(e);return new qe(i)}static fromUint8Array(e){const i=function(o){let h="";for(let d=0;d<o.length;++d)h+=String.fromCharCode(o[d]);return h}(e);return new qe(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return St(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const MA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(kt(!!s),typeof s=="string"){let e=0;const i=MA.exec(s);if(kt(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:he(s.seconds),nanos:he(s.nanos)}}function he(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function gr(s){return typeof s=="string"?qe.fromBase64String(s):qe.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_="server_timestamp",B_="__type__",q_="__previous_value__",k_="__local_write_time__";function ud(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[B_])===null||i===void 0?void 0:i.stringValue)===P_}function ic(s){const e=s.mapValue.fields[q_];return ud(e)?ic(e):e}function Hl(s){const e=mr(s.mapValue.fields[k_].timestampValue);return new Se(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(e,i,a,o,h,d,g,_,v){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const Gu="(default)";class jl{constructor(e,i){this.projectId=e,this.database=i||Gu}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===Gu}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_="__type__",UA="__max__",wu={mapValue:{}},j_="__vector__",Qu="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ud(s)?4:zA(s)?9007199254740991:LA(s)?10:11:gt()}function ei(s,e){if(s===e)return!0;const i=pr(s);if(i!==pr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Hl(s).isEqual(Hl(e));case 3:return function(o,h){if(typeof o.timestampValue=="string"&&typeof h.timestampValue=="string"&&o.timestampValue.length===h.timestampValue.length)return o.timestampValue===h.timestampValue;const d=mr(o.timestampValue),g=mr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(o,h){return gr(o.bytesValue).isEqual(gr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(o,h){return he(o.geoPointValue.latitude)===he(h.geoPointValue.latitude)&&he(o.geoPointValue.longitude)===he(h.geoPointValue.longitude)}(s,e);case 2:return function(o,h){if("integerValue"in o&&"integerValue"in h)return he(o.integerValue)===he(h.integerValue);if("doubleValue"in o&&"doubleValue"in h){const d=he(o.doubleValue),g=he(h.doubleValue);return d===g?ju(d)===ju(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return us(s.arrayValue.values||[],e.arrayValue.values||[],ei);case 10:case 11:return function(o,h){const d=o.mapValue.fields||{},g=h.mapValue.fields||{};if(Ry(d)!==Ry(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!ei(d[_],g[_])))return!1;return!0}(s,e);default:return gt()}}function Gl(s,e){return(s.values||[]).find(i=>ei(i,e))!==void 0}function cs(s,e){if(s===e)return 0;const i=pr(s),a=pr(e);if(i!==a)return St(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return St(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=he(h.integerValue||h.doubleValue),_=he(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(s,e);case 3:return Dy(s.timestampValue,e.timestampValue);case 4:return Dy(Hl(s),Hl(e));case 5:return kf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=gr(h),_=gr(d);return g.compareTo(_)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const A=St(g[v],_[v]);if(A!==0)return A}return St(g.length,_.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=St(he(h.latitude),he(d.latitude));return g!==0?g:St(he(h.longitude),he(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Cy(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,_,v,A;const N=h.fields||{},z=d.fields||{},G=(g=N[Qu])===null||g===void 0?void 0:g.arrayValue,$=(_=z[Qu])===null||_===void 0?void 0:_.arrayValue,nt=St(((v=G==null?void 0:G.values)===null||v===void 0?void 0:v.length)||0,((A=$==null?void 0:$.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:Cy(G,$)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===wu.mapValue&&d===wu.mapValue)return 0;if(h===wu.mapValue)return 1;if(d===wu.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},A=Object.keys(v);_.sort(),A.sort();for(let N=0;N<_.length&&N<A.length;++N){const z=kf(_[N],A[N]);if(z!==0)return z;const G=cs(g[_[N]],v[A[N]]);if(G!==0)return G}return St(_.length,A.length)}(s.mapValue,e.mapValue);default:throw gt()}}function Dy(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return St(s,e);const i=mr(s),a=mr(e),o=St(i.seconds,a.seconds);return o!==0?o:St(i.nanos,a.nanos)}function Cy(s,e){const i=s.values||[],a=e.values||[];for(let o=0;o<i.length&&o<a.length;++o){const h=cs(i[o],a[o]);if(h)return h}return St(i.length,a.length)}function hs(s){return Hf(s)}function Hf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=mr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return gr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ut.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",o=!0;for(const h of i.values||[])o?o=!1:a+=",",a+=Hf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let o="{",h=!0;for(const d of a)h?h=!1:o+=",",o+=`${d}:${Hf(i.fields[d])}`;return o+"}"}(s.mapValue):gt()}function xu(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ic(s);return e?16+xu(e):16;case 5:return 2*s.stringValue.length;case 6:return gr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((o,h)=>o+xu(h),0)}(s.arrayValue);case 10:case 11:return function(a){let o=0;return vr(a.fields,(h,d)=>{o+=h.length+xu(d)}),o}(s.mapValue);default:throw gt()}}function Vy(s,e){return{referenceValue:`projects/${s.projectId}/databases/${s.database}/documents/${e.path.canonicalString()}`}}function jf(s){return!!s&&"integerValue"in s}function cd(s){return!!s&&"arrayValue"in s}function Iy(s){return!!s&&"nullValue"in s}function Ny(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Uu(s){return!!s&&"mapValue"in s}function LA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[H_])===null||i===void 0?void 0:i.stringValue)===j_}function Ul(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return vr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=Ul(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Ul(s.arrayValue.values[i]);return e}return Object.assign({},s)}function zA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===UA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.value=e}static empty(){return new en({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Uu(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(i)}setAll(e){let i=Be.emptyPath(),a={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Ul(d):o.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,o)}delete(e){const i=this.field(e.popLast());Uu(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ei(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let o=i.mapValue.fields[e.get(a)];Uu(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,a){vr(i,(o,h)=>e[o]=h);for(const o of a)delete e[o]}clone(){return new en(Ul(this.value))}}function G_(s){const e=[];return vr(s.fields,(i,a)=>{const o=new Be([i]);if(Uu(a)){const h=G_(a.mapValue).fields;if(h.length===0)e.push(o);else for(const d of h)e.push(o.child(d))}else e.push(o)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e,i,a,o,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=o,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Fe(e,0,_t.min(),_t.min(),_t.min(),en.empty(),0)}static newFoundDocument(e,i,a,o){return new Fe(e,1,i,_t.min(),a,o,0)}static newNoDocument(e,i){return new Fe(e,2,i,_t.min(),_t.min(),en.empty(),0)}static newUnknownDocument(e,i){return new Fe(e,3,i,_t.min(),_t.min(),en.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=en.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=en.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Fe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Fe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,i){this.position=e,this.inclusive=i}}function Oy(s,e,i){let a=0;for(let o=0;o<s.position.length;o++){const h=e[o],d=s.position[o];if(h.field.isKeyField()?a=ut.comparator(ut.fromName(d.referenceValue),i.key):a=cs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function My(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ei(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(e,i="asc"){this.field=e,this.dir=i}}function PA(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q_{}class ye extends Q_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new qA(e,i,a):i==="array-contains"?new jA(e,a):i==="in"?new GA(e,a):i==="not-in"?new QA(e,a):i==="array-contains-any"?new FA(e,a):new ye(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new kA(e,a):new HA(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(cs(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(cs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return gt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mn extends Q_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new Mn(e,i)}matches(e){return F_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function F_(s){return s.op==="and"}function Y_(s){return BA(s)&&F_(s)}function BA(s){for(const e of s.filters)if(e instanceof Mn)return!1;return!0}function Gf(s){if(s instanceof ye)return s.field.canonicalString()+s.op.toString()+hs(s.value);if(Y_(s))return s.filters.map(e=>Gf(e)).join(",");{const e=s.filters.map(i=>Gf(i)).join(",");return`${s.op}(${e})`}}function K_(s,e){return s instanceof ye?function(a,o){return o instanceof ye&&a.op===o.op&&a.field.isEqual(o.field)&&ei(a.value,o.value)}(s,e):s instanceof Mn?function(a,o){return o instanceof Mn&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce((h,d,g)=>h&&K_(d,o.filters[g]),!0):!1}(s,e):void gt()}function X_(s){return s instanceof ye?function(i){return`${i.field.canonicalString()} ${i.op} ${hs(i.value)}`}(s):s instanceof Mn?function(i){return i.op.toString()+" {"+i.getFilters().map(X_).join(" ,")+"}"}(s):"Filter"}class qA extends ye{constructor(e,i,a){super(e,i,a),this.key=ut.fromName(a.referenceValue)}matches(e){const i=ut.comparator(e.key,this.key);return this.matchesComparison(i)}}class kA extends ye{constructor(e,i){super(e,"in",i),this.keys=Z_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class HA extends ye{constructor(e,i){super(e,"not-in",i),this.keys=Z_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function Z_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ut.fromName(a.referenceValue))}class jA extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return cd(i)&&Gl(i.arrayValue,this.value)}}class GA extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Gl(this.value.arrayValue,i)}}class QA extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Gl(this.value.arrayValue,i)}}class FA extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!cd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Gl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(e,i=null,a=[],o=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function xy(s,e=null,i=[],a=[],o=null,h=null,d=null){return new YA(s,e,i,a,o,h,d)}function hd(s){const e=Et(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Gf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),nc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>hs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>hs(a)).join(",")),e.le=i}return e.le}function fd(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!PA(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!K_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!My(s.startAt,e.startAt)&&My(s.endAt,e.endAt)}function Qf(s){return ut.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,i=null,a=[],o=[],h=null,d="F",g=null,_=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function KA(s,e,i,a,o,h,d,g){return new Yl(s,e,i,a,o,h,d,g)}function $_(s){return new Yl(s)}function Uy(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function J_(s){return s.collectionGroup!==null}function Ll(s){const e=Et(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Be.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Yu(h,a))}),i.has(Be.keyField().canonicalString())||e.he.push(new Yu(Be.keyField(),a))}return e.he}function Jn(s){const e=Et(s);return e.Pe||(e.Pe=XA(e,Ll(s))),e.Pe}function XA(s,e){if(s.limitType==="F")return xy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(o=>{const h=o.dir==="desc"?"asc":"desc";return new Yu(o.field,h)});const i=s.endAt?new Fu(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Fu(s.startAt.position,s.startAt.inclusive):null;return xy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function Ff(s,e){const i=s.filters.concat([e]);return new Yl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),i,s.limit,s.limitType,s.startAt,s.endAt)}function Yf(s,e,i){return new Yl(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function rc(s,e){return fd(Jn(s),Jn(e))&&s.limitType===e.limitType}function W_(s){return`${hd(Jn(s))}|lt:${s.limitType}`}function is(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(o=>X_(o)).join(", ")}]`),nc(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(o=>hs(o)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(o=>hs(o)).join(",")),`Target(${a})`}(Jn(s))}; limitType=${s.limitType})`}function ac(s,e){return e.isFoundDocument()&&function(a,o){const h=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ut.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,o){for(const h of Ll(a))if(!h.field.isKeyField()&&o.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,o){for(const h of a.filters)if(!h.matches(o))return!1;return!0}(s,e)&&function(a,o){return!(a.startAt&&!function(d,g,_){const v=Oy(d,g,_);return d.inclusive?v<=0:v<0}(a.startAt,Ll(a),o)||a.endAt&&!function(d,g,_){const v=Oy(d,g,_);return d.inclusive?v>=0:v>0}(a.endAt,Ll(a),o))}(s,e)}function ZA(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function tv(s){return(e,i)=>{let a=!1;for(const o of Ll(s)){const h=$A(o,e,i);if(h!==0)return h;a=a||o.field.isKeyField()}return 0}}function $A(s,e,i){const a=s.field.isKeyField()?ut.comparator(e.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?cs(_,v):gt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return gt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[o,h]of a)if(this.equalsFn(o,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),o=this.inner[a];if(o===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<o.length;h++)if(this.equalsFn(o[h][0],e))return void(o[h]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],e))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,(i,a)=>{for(const[o,h]of a)e(o,h)})}isEmpty(){return L_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JA=new ie(ut.comparator);function Ni(){return JA}const ev=new ie(ut.comparator);function Ml(...s){let e=ev;for(const i of s)e=e.insert(i.key,i);return e}function nv(s){let e=ev;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function aa(){return zl()}function iv(){return zl()}function zl(){return new oa(s=>s.toString(),(s,e)=>s.isEqual(e))}const WA=new ie(ut.comparator),tS=new be(ut.comparator);function It(...s){let e=tS;for(const i of s)e=e.add(i);return e}const eS=new be(St);function nS(){return eS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ju(e)?"-0":e}}function rv(s){return{integerValue:""+s}}function iS(s,e){return IA(e)?rv(e):dd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(){this._=void 0}}function rS(s,e,i){return s instanceof Ku?function(o,h){const d={fields:{[B_]:{stringValue:P_},[k_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return h&&ud(h)&&(h=ic(h)),h&&(d.fields[q_]=h),{mapValue:d}}(i,e):s instanceof Ql?sv(s,e):s instanceof Fl?lv(s,e):function(o,h){const d=av(o,h),g=Ly(d)+Ly(o.Ie);return jf(d)&&jf(o.Ie)?rv(g):dd(o.serializer,g)}(s,e)}function aS(s,e,i){return s instanceof Ql?sv(s,e):s instanceof Fl?lv(s,e):i}function av(s,e){return s instanceof Xu?function(a){return jf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Ku extends sc{}class Ql extends sc{constructor(e){super(),this.elements=e}}function sv(s,e){const i=ov(e);for(const a of s.elements)i.some(o=>ei(o,a))||i.push(a);return{arrayValue:{values:i}}}class Fl extends sc{constructor(e){super(),this.elements=e}}function lv(s,e){let i=ov(e);for(const a of s.elements)i=i.filter(o=>!ei(o,a));return{arrayValue:{values:i}}}class Xu extends sc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Ly(s){return he(s.integerValue||s.doubleValue)}function ov(s){return cd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function sS(s,e){return s.field.isEqual(e.field)&&function(a,o){return a instanceof Ql&&o instanceof Ql||a instanceof Fl&&o instanceof Fl?us(a.elements,o.elements,ei):a instanceof Xu&&o instanceof Xu?ei(a.Ie,o.Ie):a instanceof Ku&&o instanceof Ku}(s.transform,e.transform)}class lS{constructor(e,i){this.version=e,this.transformResults=i}}class Wn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Wn}static exists(e){return new Wn(void 0,e)}static updateTime(e){return new Wn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lu(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class lc{}function uv(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hv(s.key,Wn.none()):new Kl(s.key,s.data,Wn.none());{const i=s.data,a=en.empty();let o=new be(Be.comparator);for(let h of e.fields)if(!o.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),o=o.add(h)}return new Er(s.key,a,new fn(o.toArray()),Wn.none())}}function oS(s,e,i){s instanceof Kl?function(o,h,d){const g=o.value.clone(),_=Py(o.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Er?function(o,h,d){if(!Lu(o.precondition,h))return void h.convertToUnknownDocument(d.version);const g=Py(o.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(cv(o)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(s,e,i):function(o,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Pl(s,e,i,a){return s instanceof Kl?function(h,d,g,_){if(!Lu(h.precondition,d))return g;const v=h.value.clone(),A=By(h.fieldTransforms,_,d);return v.setAll(A),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(s,e,i,a):s instanceof Er?function(h,d,g,_){if(!Lu(h.precondition,d))return g;const v=By(h.fieldTransforms,_,d),A=d.data;return A.setAll(cv(h)),A.setAll(v),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(N=>N.field))}(s,e,i,a):function(h,d,g){return Lu(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function uS(s,e){let i=null;for(const a of s.fieldTransforms){const o=e.data.field(a.field),h=av(a.transform,o||null);h!=null&&(i===null&&(i=en.empty()),i.set(a.field,h))}return i||null}function zy(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&us(a,o,(h,d)=>sS(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Kl extends lc{constructor(e,i,a,o=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Er extends lc{constructor(e,i,a,o,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function cv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function Py(s,e,i){const a=new Map;kt(s.length===i.length);for(let o=0;o<i.length;o++){const h=s[o],d=h.transform,g=e.data.field(h.field);a.set(h.field,aS(d,g,i[o]))}return a}function By(s,e,i){const a=new Map;for(const o of s){const h=o.transform,d=i.data.field(o.field);a.set(o.field,rS(h,d,e))}return a}class hv extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class cS extends lc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,i,a,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const h=this.mutations[o];h.key.isEqual(e.key)&&oS(h,e,a[o])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Pl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=iv();return this.mutations.forEach(o=>{const h=e.get(o.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(o.key)?null:g;const _=uv(d,g);_!==null&&a.set(o.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(i,a)=>zy(i,a))&&us(this.baseMutations,e.baseMutations,(i,a)=>zy(i,a))}}class md{constructor(e,i,a,o){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(e,i,a){kt(e.mutations.length===a.length);let o=function(){return WA}();const h=e.mutations;for(let d=0;d<h.length;d++)o=o.insert(h[d].key,a[d].version);return new md(e,i,a,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,Ut;function mS(s){switch(s){case K.OK:return gt();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return gt()}}function fv(s){if(s===void 0)return Ii("GRPC error has no .code"),K.UNKNOWN;switch(s){case pe.OK:return K.OK;case pe.CANCELLED:return K.CANCELLED;case pe.UNKNOWN:return K.UNKNOWN;case pe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case pe.INTERNAL:return K.INTERNAL;case pe.UNAVAILABLE:return K.UNAVAILABLE;case pe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case pe.NOT_FOUND:return K.NOT_FOUND;case pe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case pe.ABORTED:return K.ABORTED;case pe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case pe.DATA_LOSS:return K.DATA_LOSS;default:return gt()}}(Ut=pe||(pe={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new cr([4294967295,4294967295],0);function qy(s){const e=M_().encode(s),i=new w_;return i.update(e),new Uint8Array(i.digest())}function ky(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),o=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new cr([i,a],0),new cr([o,h],0)]}class gd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=cr.fromNumber(this.Ee)}Ae(e,i,a){let o=e.add(i.multiply(cr.fromNumber(a)));return o.compare(gS)===1&&(o=new cr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=qy(e),[a,o]=ky(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,o,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const o=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new gd(h,o,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=qy(e),[a,o]=ky(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,o,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,i,a,o,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const o=new Map;return o.set(e,Xl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new oc(_t.min(),o,new ie(St),Ni(),It())}}class Xl{constructor(e,i,a,o,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Xl(a,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,i,a,o){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=o}}class dv{constructor(e,i){this.targetId=e,this.ge=i}}class mv{constructor(e,i,a=qe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Hy{constructor(){this.pe=0,this.ye=jy(),this.we=qe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=It(),i=It(),a=It();return this.ye.forEach((o,h)=>{switch(h){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:gt()}}),new Xl(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=jy()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,kt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class pS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ni(),this.$e=Du(),this.Ue=Du(),this.Ke=new ie(St)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:gt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,a=e.ge.count,o=this.Xe(i);if(o){const h=o.target;if(Qf(h))if(a===0){const d=new ut(h.path);this.ze(i,d,Fe.newNoDocument(d,_t.min()))}else kt(a===1);else{const d=this.et(i);if(d!==a){const g=this.tt(e),_=g?this.nt(g,e,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:h=0}=i;let d,g;try{d=gr(a).toUint8Array()}catch(_){if(_ instanceof z_)return os("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new gd(d,o,h)}catch(_){return os(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let o=0;return a.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Qf(g.target)){const _=new ut(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Fe.newNoDocument(_,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=It();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const o=new oc(e,i,this.Ke,this.Qe,a);return this.Qe=Ni(),this.$e=Du(),this.Ue=Du(),this.Ke=new ie(St),o}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Hy,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new be(St),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new be(St),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Hy),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Du(){return new ie(ut.comparator)}function jy(){return new ie(ut.comparator)}const yS={asc:"ASCENDING",desc:"DESCENDING"},_S={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vS={and:"AND",or:"OR"};class ES{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Kf(s,e){return s.useProto3Json||nc(e)?e:{value:e}}function Zu(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function TS(s,e){return Zu(s,e.toTimestamp())}function ti(s){return kt(!!s),_t.fromTimestamp(function(i){const a=mr(i);return new Se(a.seconds,a.nanos)}(s))}function pd(s,e){return Xf(s,e).canonicalString()}function Xf(s,e){const i=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(s).child("documents");return e===void 0?i:i.child(e)}function pv(s){const e=Jt.fromString(s);return kt(Tv(e)),e}function Zf(s,e){return pd(s.databaseId,e.path)}function Vf(s,e){const i=pv(e);if(i.get(1)!==s.databaseId.projectId)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new at(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ut(_v(i))}function yv(s,e){return pd(s.databaseId,e)}function AS(s){const e=pv(s);return e.length===4?Jt.emptyPath():_v(e)}function $f(s){return new Jt(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function _v(s){return kt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function Gy(s,e,i){return{name:Zf(s,e),fields:i.value.mapValue.fields}}function SS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:gt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],h=function(v,A){return v.useProto3Json?(kt(A===void 0||typeof A=="string"),qe.fromBase64String(A||"")):(kt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),qe.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(v){const A=v.code===void 0?K.UNKNOWN:fv(v.code);return new at(A,v.message||"")}(d);i=new mv(a,o,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const o=Vf(s,a.document.name),h=ti(a.document.updateTime),d=a.document.createTime?ti(a.document.createTime):_t.min(),g=new en({mapValue:{fields:a.document.fields}}),_=Fe.newFoundDocument(o,h,d,g),v=a.targetIds||[],A=a.removedTargetIds||[];i=new zu(v,A,_.key,_)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const o=Vf(s,a.document),h=a.readTime?ti(a.readTime):_t.min(),d=Fe.newNoDocument(o,h),g=a.removedTargetIds||[];i=new zu([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const o=Vf(s,a.document),h=a.removedTargetIds||[];i=new zu([],h,o,null)}else{if(!("filter"in e))return gt();{e.filter;const a=e.filter;a.targetId;const{count:o=0,unchangedNames:h}=a,d=new dS(o,h),g=a.targetId;i=new dv(g,d)}}return i}function bS(s,e){let i;if(e instanceof Kl)i={update:Gy(s,e.key,e.value)};else if(e instanceof hv)i={delete:Zf(s,e.key)};else if(e instanceof Er)i={update:Gy(s,e.key,e.data),updateMask:MS(e.fieldMask)};else{if(!(e instanceof cS))return gt();i={verify:Zf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Ku)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ql)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Xu)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw gt()}(0,a))),e.precondition.isNone||(i.currentDocument=function(o,h){return h.updateTime!==void 0?{updateTime:TS(o,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:gt()}(s,e.precondition)),i}function RS(s,e){return s&&s.length>0?(kt(e!==void 0),s.map(i=>function(o,h){let d=o.updateTime?ti(o.updateTime):ti(h);return d.isEqual(_t.min())&&(d=ti(h)),new lS(d,o.transformResults||[])}(i,e))):[]}function wS(s,e){return{documents:[yv(s,e.path)]}}function DS(s,e){const i={structuredQuery:{}},a=e.path;let o;e.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=yv(s,o);const h=function(v){if(v.length!==0)return Ev(Mn.create(v,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(A=>function(z){return{field:rs(z.field),direction:IS(z.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Kf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ht:i,parent:o}}function CS(s){let e=AS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){kt(a===1);const A=i.from[0];A.allDescendants?o=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(N){const z=vv(N);return z instanceof Mn&&Y_(z)?z.getFilters():[z]}(i.where));let d=[];i.orderBy&&(d=function(N){return N.map(z=>function($){return new Yu(as($.field),function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(z))}(i.orderBy));let g=null;i.limit&&(g=function(N){let z;return z=typeof N=="object"?N.value:N,nc(z)?null:z}(i.limit));let _=null;i.startAt&&(_=function(N){const z=!!N.before,G=N.values||[];return new Fu(G,z)}(i.startAt));let v=null;return i.endAt&&(v=function(N){const z=!N.before,G=N.values||[];return new Fu(G,z)}(i.endAt)),KA(e,o,d,h,g,"F",_,v)}function VS(s,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function vv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=as(i.unaryFilter.field);return ye.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=as(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=as(i.unaryFilter.field);return ye.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=as(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}(s):s.fieldFilter!==void 0?function(i){return ye.create(as(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return Mn.create(i.compositeFilter.filters.map(a=>vv(a)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return gt()}}(i.compositeFilter.op))}(s):gt()}function IS(s){return yS[s]}function NS(s){return _S[s]}function OS(s){return vS[s]}function rs(s){return{fieldPath:s.canonicalString()}}function as(s){return Be.fromServerFormat(s.fieldPath)}function Ev(s){return s instanceof ye?function(i){if(i.op==="=="){if(Ny(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NAN"}};if(Iy(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Ny(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NOT_NAN"}};if(Iy(i.value))return{unaryFilter:{field:rs(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(i.field),op:NS(i.op),value:i.value}}}(s):s instanceof Mn?function(i){const a=i.getFilters().map(o=>Ev(o));return a.length===1?a[0]:{compositeFilter:{op:OS(i.op),filters:a}}}(s):gt()}function MS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function Tv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,i,a,o,h=_t.min(),d=_t.min(),g=qe.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xS{constructor(e){this.Tt=e}}function US(s){const e=CS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?Yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this.Tn=new zS}addToCollectionParentIndex(e,i){return this.Tn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(dr.min())}updateCollectionGroup(e,i,a){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class zS{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i]||new be(Jt.comparator),h=!o.has(a);return this.index[i]=o.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(e){return(this.index[e]||new be(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Av=41943040;class tn{static withCacheSize(e){return new tn(e,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tn.DEFAULT_COLLECTION_PERCENTILE=10,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tn.DEFAULT=new tn(Av,tn.DEFAULT_COLLECTION_PERCENTILE,tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tn.DISABLED=new tn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new fs(0)}static Kn(){return new fs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="LruGarbageCollector",PS=1048576;function Yy([s,e],[i,a]){const o=St(s,i);return o===0?St(e,a):o}class BS{constructor(e){this.Hn=e,this.buffer=new be(Yy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Yy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class qS{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){it(Fy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){vs(i)?it(Fy,"Ignoring IndexedDB error during garbage collection: ",i):await _s(i)}await this.er(3e5)})}}class kS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(ec.ae);const a=new BS(i);return this.tr.forEachTarget(e,o=>a.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>a.Zn(o))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(Qy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Qy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,o,h,d,g,_,v;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),o=this.params.maximumSequenceNumbersToCollect):o=N,d=Date.now(),this.nthSequenceNumber(e,o))).next(N=>(a=N,g=Date.now(),this.removeTargets(e,a,i))).next(N=>(h=N,_=Date.now(),this.removeOrphanedDocuments(e,a))).next(N=>(v=Date.now(),ns()<=Lt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${N} documents in `+(v-_)+`ms
Total Duration: ${v-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:h,documentsRemoved:N})))}}function HS(s,e){return new kS(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(){this.changes=new oa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Fe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,i,a,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(a=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(a!==null&&Pl(a.mutation,o,fn.empty(),Se.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,It()).next(()=>a))}getLocalViewOfDocuments(e,i,a=It()){const o=aa();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,a).next(h=>{let d=Ml();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=aa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,It()))}populateOverlays(e,i,a){const o=[];return a.forEach(h=>{i.has(h)||o.push(h)}),this.documentOverlayCache.getOverlays(e,o).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,o){let h=Ni();const d=zl(),g=function(){return zl()}();return i.forEach((_,v)=>{const A=a.get(v.key);o.has(v.key)&&(A===void 0||A.mutation instanceof Er)?h=h.insert(v.key,v):A!==void 0?(d.set(v.key,A.mutation.getFieldMask()),Pl(A.mutation,v,A.mutation.getFieldMask(),Se.now())):d.set(v.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(_=>(_.forEach((v,A)=>d.set(v,A)),i.forEach((v,A)=>{var N;return g.set(v,new GS(A,(N=d.get(v))!==null&&N!==void 0?N:null))}),g))}recalculateAndSaveOverlays(e,i){const a=zl();let o=new ie((d,g)=>d-g),h=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let A=a.get(_)||fn.empty();A=g.applyToLocalView(v,A),a.set(_,A);const N=(o.get(g.batchId)||It()).add(_);o=o.insert(g.batchId,N)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,A=_.value,N=iv();A.forEach(z=>{if(!h.has(z)){const G=uv(i.get(z),a.get(z));G!==null&&N.set(z,G),h=h.add(z)}}),d.push(this.documentOverlayCache.saveOverlays(e,v,N))}return Y.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,o){return function(d){return ut.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):J_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,o):this.getDocumentsMatchingCollectionQuery(e,i,a,o)}getNextDocuments(e,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,o).next(h=>{const d=o-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,o-h.size):Y.resolve(aa());let g=kl,_=h;return d.next(v=>Y.forEach(v,(A,N)=>(g<N.largestBatchId&&(g=N.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(z=>{_=_.insert(A,z)}))).next(()=>this.populateOverlays(e,v,h)).next(()=>this.computeViews(e,_,v,It())).next(A=>({batchId:g,changes:nv(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ut(i)).next(a=>{let o=Ml();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,a,o){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(g=>Y.forEach(g,_=>{const v=function(N,z){return new Yl(z,null,N.explicitOrderBy.slice(),N.filters.slice(),N.limit,N.limitType,N.startAt,N.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(e,v,a,o).next(A=>{A.forEach((N,z)=>{d=d.insert(N,z)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,o){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,o))).next(d=>{h.forEach((_,v)=>{const A=v.getKey();d.get(A)===null&&(d=d.insert(A,Fe.newInvalidDocument(A)))});let g=Ml();return d.forEach((_,v)=>{const A=h.get(_);A!==void 0&&Pl(A.mutation,v,fn.empty(),Se.now()),ac(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Y.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:ti(o.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:US(o.bundledQuery),readTime:ti(o.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(){this.overlays=new ie(ut.comparator),this.Rr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const a=aa();return Y.forEach(i,o=>this.getOverlay(e,o).next(h=>{h!==null&&a.set(o,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((o,h)=>{this.Et(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,a){const o=this.Rr.get(a);return o!==void 0&&(o.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Y.resolve()}getOverlaysForCollection(e,i,a){const o=aa(),h=i.length+1,d=new ut(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>a&&o.set(_.getKey(),_)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,i,a,o){let h=new ie((v,A)=>v-A);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>a){let A=h.get(v.largestBatchId);A===null&&(A=aa(),h=h.insert(v.largestBatchId,A)),A.set(v.getKey(),v)}}const g=aa(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,A)=>g.set(v,A)),!(g.size()>=o)););return Y.resolve(g)}Et(e,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(a.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new fS(i,a));let h=this.Rr.get(i);h===void 0&&(h=It(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.Vr=new be(Ne.mr),this.gr=new be(Ne.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Ne(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Ne(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ut(new Jt([])),a=new Ne(i,e),o=new Ne(i,e+1),h=[];return this.gr.forEachInRange([a,o],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ut(new Jt([])),a=new Ne(i,e),o=new Ne(i,e+1);let h=It();return this.gr.forEachInRange([a,o],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ne(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ne{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ut.comparator(e.key,i.key)||St(e.Cr,i.Cr)}static pr(e,i){return St(e.Cr,i.Cr)||ut.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Ne.mr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,o){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hS(h,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Ne(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,o=this.Nr(a),h=o<0?0:o;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?od:this.Fr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ne(i,0),o=new Ne(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,o],d=>{const g=this.Or(d.Cr);h.push(g)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new be(St);return i.forEach(o=>{const h=new Ne(o,0),d=new Ne(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{a=a.add(g.Cr)})}),Y.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,o=a.length+1;let h=a;ut.isDocumentKey(h)||(h=h.child(""));const d=new Ne(new ut(h),0);let g=new be(St);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!a.isPrefixOf(v)&&(v.length===o&&(g=g.add(_.Cr)),!0)},d),Y.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(a=>{const o=this.Or(a);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){kt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Y.forEach(i.mutations,o=>{const h=new Ne(o.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Ne(i,0),o=this.Mr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e){this.kr=e,this.docs=function(){return new ie(ut.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,o=this.docs.get(a),h=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Fe.newInvalidDocument(i))}getEntries(e,i){let a=Ni();return i.forEach(o=>{const h=this.docs.get(o);a=a.insert(o,h?h.document.mutableCopy():Fe.newInvalidDocument(o))}),Y.resolve(a)}getDocumentsMatchingQuery(e,i,a,o){let h=Ni();const d=i.path,g=new ut(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:A}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||wA(RA(A),a)<=0||(o.has(A.key)||ac(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,a,o){gt()}qr(e,i){return Y.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new $S(this)}getSize(e){return Y.resolve(this.size)}}class $S extends jS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(a)}),Y.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e){this.persistence=e,this.Qr=new oa(i=>hd(i),fd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.$r=0,this.Ur=new yd,this.targetCount=0,this.Kr=fs.Un()}forEachTarget(e,i){return this.Qr.forEach((a,o)=>i(o)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Y.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new fs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.zn(i),Y.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,a){let o=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),Y.waitFor(h).next(()=>o)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Y.resolve(a)}addMatchingKeys(e,i,a){return this.Ur.yr(i,a),Y.resolve()}removeMatchingKeys(e,i,a){this.Ur.Sr(i,a);const o=this.persistence.referenceDelegate,h=[];return o&&i.forEach(d=>{h.push(o.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Ur.vr(i);return Y.resolve(a)}containsKey(e,i){return Y.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new ec(0),this.zr=!1,this.zr=!0,this.jr=new KS,this.referenceDelegate=e(this),this.Hr=new JS(this),this.indexManager=new LS,this.remoteDocumentCache=function(o){return new ZS(o)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new xS(i),this.Yr=new FS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new YS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new XS(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const o=new WS(this.Gr.next());return this.referenceDelegate.Zr(),a(o).next(h=>this.referenceDelegate.Xr(o).next(()=>h)).toPromise().then(h=>(o.raiseOnCommittedEvent(),h))}ei(e,i){return Y.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class WS extends CA{constructor(e){super(),this.currentSequenceNumber=e}}class _d{constructor(e){this.persistence=e,this.ti=new yd,this.ni=null}static ri(e){return new _d(e)}get ii(){if(this.ni)return this.ni;throw gt()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Y.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Y.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ii,a=>{const o=ut.fromPath(a);return this.si(e,o).next(h=>{h||i.removeEntry(o,_t.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Y.or([()=>Y.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class $u{constructor(e,i){this.persistence=e,this.oi=new oa(a=>NA(a.path),(a,o)=>a.isEqual(o)),this.garbageCollector=HS(this,i)}static ri(e,i){return new $u(e,i)}Zr(){}Xr(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(o=>a+o))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Y.forEach(this.oi,(a,o)=>this.ar(e,a,o).next(h=>h?Y.resolve():i(o)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),h=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(a++,h.removeEntry(d,_t.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Y.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=xu(e.data.value)),i}ar(e,i,a){return Y.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return Y.resolve(o!==void 0&&o>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e,i,a,o){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=o}static Yi(e,i){let a=It(),o=It();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:o=o.add(h.doc.key)}return new vd(e,i.fromCache,a,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return $0()?8:VA(X0())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,o){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,o,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new t1;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,a,o){return a.documentReadCount<this.es?(ns()<=Lt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",is(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Y.resolve()):(ns()<=Lt.DEBUG&&it("QueryEngine","Query:",is(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.ts*o?(ns()<=Lt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",is(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):Y.resolve())}rs(e,i){if(Uy(i))return Y.resolve(null);let a=Jn(i);return this.indexManager.getIndexType(e,a).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=Yf(i,null,"F"),a=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=It(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(e,Yf(i,null,"F")):this.hs(e,v,i,_)}))})))}ss(e,i,a,o){return Uy(i)||o.isEqual(_t.min())?Y.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,o)?Y.resolve(null):(ns()<=Lt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),is(i)),this.hs(e,d,i,bA(o,kl)).next(g=>g))})}cs(e,i){let a=new be(tv(e));return i.forEach((o,h)=>{ac(e,h)&&(a=a.add(h))}),a}ls(e,i,a,o){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(o)>0)}_s(e,i,a){return ns()<=Lt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",is(i)),this.ns.getDocumentsMatchingQuery(e,i,dr.min(),a)}hs(e,i,a,o){return this.ns.getDocumentsMatchingQuery(e,a,o).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="LocalStore",n1=3e8;class i1{constructor(e,i,a,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ie(St),this.Is=new oa(h=>hd(h),fd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function r1(s,e,i,a){return new i1(s,e,i,a)}async function bv(s,e){const i=Et(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next(h=>(o=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let _=It();for(const v of o){d.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}for(const v of h){g.push(v.batchId);for(const A of v.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function a1(s,e){const i=Et(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const o=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,_,v,A){const N=v.batch,z=N.keys();let G=Y.resolve();return z.forEach($=>{G=G.next(()=>A.getEntry(_,$)).next(nt=>{const Z=v.docVersions.get($);kt(Z!==null),nt.version.compareTo(Z)<0&&(N.applyToRemoteDocument(nt,v),nt.isValidDocument()&&(nt.setReadTime(v.commitVersion),A.addEntry(nt)))})}),G.next(()=>g.mutationQueue.removeMutationBatch(_,N))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let _=It();for(let v=0;v<g.mutationResults.length;++v)g.mutationResults[v].transformResults.length>0&&(_=_.add(g.batch.mutations[v].key));return _}(e))).next(()=>i.localDocuments.getDocuments(a,o))})}function Rv(s){const e=Et(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function s1(s,e){const i=Et(s),a=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((A,N)=>{const z=o.get(N);if(!z)return;g.push(i.Hr.removeMatchingKeys(h,A.removedDocuments,N).next(()=>i.Hr.addMatchingKeys(h,A.addedDocuments,N)));let G=z.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(N)!==null?G=G.withResumeToken(qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),o=o.insert(N,G),function(nt,Z,vt){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=n1?!0:vt.addedDocuments.size+vt.modifiedDocuments.size+vt.removedDocuments.size>0}(z,G,A)&&g.push(i.Hr.updateTargetData(h,G))});let _=Ni(),v=It();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(l1(h,d,e.documentUpdates).next(A=>{_=A.Vs,v=A.fs})),!a.isEqual(_t.min())){const A=i.Hr.getLastRemoteSnapshotVersion(h).next(N=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return Y.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=o,h))}function l1(s,e,i){let a=It(),o=It();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ni();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(g)),_.isNoDocument()&&_.version.isEqual(_t.min())?(e.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(_),d=d.insert(g,_)):it(Ed,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:o}})}function o1(s,e){const i=Et(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=od),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function u1(s,e){const i=Et(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let o;return i.Hr.getTargetData(a,e).next(h=>h?(o=h,Y.resolve(o)):i.Hr.allocateTargetId(a).next(d=>(o=new lr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,o).next(()=>o))))}).then(a=>{const o=i.Ts.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function Jf(s,e,i){const a=Et(s),o=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!vs(d))throw d;it(Ed,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(o.target)}function Ky(s,e,i){const a=Et(s);let o=_t.min(),h=It();return a.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,A){const N=Et(_),z=N.Is.get(A);return z!==void 0?Y.resolve(N.Ts.get(z)):N.Hr.getTargetData(v,A)}(a,d,Jn(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?h:It())).next(g=>(c1(a,ZA(e),g),{documents:g,gs:h})))}function c1(s,e,i){let a=s.Es.get(e)||_t.min();i.forEach((o,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Xy{constructor(){this.activeTargetIds=nS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class h1{constructor(){this.ho=new Xy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Xy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="ConnectivityMonitor";class $y{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(Zy,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){it(Zy,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Cu=null;function Wf(){return Cu===null?Cu=function(){return 268435456+Math.round(2147483648*Math.random())}():Cu++,"0x"+Cu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const If="RestConnection",d1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class m1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${o}`,this.wo=this.databaseId.database===Gu?`project_id=${a}`:`project_id=${a}&database_id=${o}`}So(e,i,a,o,h){const d=Wf(),g=this.bo(e,i.toUriEncodedString());it(If,`Sending RPC '${e}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,o,h),this.vo(e,g,_,a).then(v=>(it(If,`Received RPC '${e}' ${d}: `,v),v),v=>{throw os(If,`RPC '${e}' ${d} failed with error: `,v,"url: ",g,"request:",a),v})}Co(e,i,a,o,h,d){return this.So(e,i,a,o,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ys}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,h)=>e[h]=o),a&&a.headers.forEach((o,h)=>e[h]=o)}bo(e,i){const a=d1[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class p1 extends m1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,o){const h=Wf();return new Promise((d,g)=>{const _=new D_;_.setWithCredentials(!0),_.listenOnce(C_.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case Mu.NO_ERROR:const A=_.getResponseJson();it(Ge,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case Mu.TIMEOUT:it(Ge,`RPC '${e}' ${h} timed out`),g(new at(K.DEADLINE_EXCEEDED,"Request time out"));break;case Mu.HTTP_ERROR:const N=_.getStatus();if(it(Ge,`RPC '${e}' ${h} failed with status:`,N,"response text:",_.getResponseText()),N>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const G=z==null?void 0:z.error;if(G&&G.status&&G.message){const $=function(Z){const vt=Z.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(vt)>=0?vt:K.UNKNOWN}(G.status);g(new at($,G.message))}else g(new at(K.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new at(K.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{it(Ge,`RPC '${e}' ${h} completed.`)}});const v=JSON.stringify(o);it(Ge,`RPC '${e}' ${h} sending request:`,o),_.send(i,"POST",v,a,15)})}Wo(e,i,a){const o=Wf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=N_(),g=I_(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=h.join("");it(Ge,`Creating RPC '${e}' stream ${o}: ${A}`,_);const N=d.createWebChannel(A,_);let z=!1,G=!1;const $=new g1({Fo:Z=>{G?it(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,Z):(z||(it(Ge,`Opening RPC '${e}' stream ${o} transport.`),N.open(),z=!0),it(Ge,`RPC '${e}' stream ${o} sending:`,Z),N.send(Z))},Mo:()=>N.close()}),nt=(Z,vt,lt)=>{Z.listen(vt,ht=>{try{lt(ht)}catch(Vt){setTimeout(()=>{throw Vt},0)}})};return nt(N,Ol.EventType.OPEN,()=>{G||(it(Ge,`RPC '${e}' stream ${o} transport opened.`),$.Qo())}),nt(N,Ol.EventType.CLOSE,()=>{G||(G=!0,it(Ge,`RPC '${e}' stream ${o} transport closed`),$.Uo())}),nt(N,Ol.EventType.ERROR,Z=>{G||(G=!0,os(Ge,`RPC '${e}' stream ${o} transport errored:`,Z),$.Uo(new at(K.UNAVAILABLE,"The operation could not be completed")))}),nt(N,Ol.EventType.MESSAGE,Z=>{var vt;if(!G){const lt=Z.data[0];kt(!!lt);const ht=lt,Vt=(ht==null?void 0:ht.error)||((vt=ht[0])===null||vt===void 0?void 0:vt.error);if(Vt){it(Ge,`RPC '${e}' stream ${o} received error:`,Vt);const pt=Vt.status;let wt=function(R){const V=pe[R];if(V!==void 0)return fv(V)}(pt),O=Vt.message;wt===void 0&&(wt=K.INTERNAL,O="Unknown error status: "+pt+" with message "+Vt.message),G=!0,$.Uo(new at(wt,O)),N.close()}else it(Ge,`RPC '${e}' stream ${o} received:`,lt),$.Ko(lt)}}),nt(g,V_.STAT_EVENT,Z=>{Z.stat===qf.PROXY?it(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):Z.stat===qf.NOPROXY&&it(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function Nf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(s){return new ES(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wv{constructor(e,i,a=1e3,o=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=o,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-a);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy="PersistentStream";class Dv{constructor(e,i,a,o,h,d,g,_){this.Ti=e,this.n_=a,this.r_=o,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new wv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,o])=>{this.i_===i&&this.V_(a,o)},a=>{e(()=>{const o=new at(K.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(o)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{a(()=>this.m_(o))}),this.stream.onMessage(o=>{a(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return it(Jy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(it(Jy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class y1 extends Dv{constructor(e,i,a,o,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=SS(this.serializer,e),a=function(h){if(!("targetChange"in h))return _t.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?ti(d.readTime):_t.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=$f(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Qf(_)?{documents:wS(h,_)}:{query:DS(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=gv(h,d.resumeToken);const v=Kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Zu(h,d.snapshotVersion.toTimestamp());const v=Kf(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,e);const a=VS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=$f(this.serializer),i.removeTarget=e,this.I_(i)}}class _1 extends Dv{constructor(e,i,a,o,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return kt(!!e.streamToken),this.lastStreamToken=e.streamToken,kt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){kt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=RS(e.writeResults,e.commitTime),a=ti(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=$f(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>bS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{}class E1 extends v1{constructor(e,i,a,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Xf(i,a),o,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new at(K.UNKNOWN,h.toString())})}Co(e,i,a,o,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Xf(i,a),o,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class T1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ii(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class A1{constructor(e,i,a,o,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{ua(this)&&(it(la,"Restarting streams for network reachability change."),await async function(_){const v=Et(_);v.W_.add(4),await Zl(v),v.j_.set("Unknown"),v.W_.delete(4),await cc(v)}(this))})}),this.j_=new T1(a,o)}}async function cc(s){if(ua(s))for(const e of s.G_)await e(!0)}async function Zl(s){for(const e of s.G_)await e(!1)}function Cv(s,e){const i=Et(s);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),bd(i)?Sd(i):Es(i).c_()&&Ad(i,e))}function Td(s,e){const i=Et(s),a=Es(i);i.K_.delete(e),a.c_()&&Vv(i,e),i.K_.size===0&&(a.c_()?a.P_():ua(i)&&i.j_.set("Unknown"))}function Ad(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Es(s).y_(e)}function Vv(s,e){s.H_.Ne(e),Es(s).w_(e)}function Sd(s){s.H_=new pS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Es(s).start(),s.j_.B_()}function bd(s){return ua(s)&&!Es(s).u_()&&s.K_.size>0}function ua(s){return Et(s).W_.size===0}function Iv(s){s.H_=void 0}async function S1(s){s.j_.set("Online")}async function b1(s){s.K_.forEach((e,i)=>{Ad(s,e)})}async function R1(s,e){Iv(s),bd(s)?(s.j_.q_(e),Sd(s)):s.j_.set("Unknown")}async function w1(s,e,i){if(s.j_.set("Online"),e instanceof mv&&e.state===2&&e.cause)try{await async function(o,h){const d=h.cause;for(const g of h.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(s,e)}catch(a){it(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Ju(s,a)}else if(e instanceof zu?s.H_.We(e):e instanceof dv?s.H_.Ze(e):s.H_.je(e),!i.isEqual(_t.min()))try{const a=await Rv(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const A=h.K_.get(v);A&&h.K_.set(v,A.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const A=h.K_.get(_);if(!A)return;h.K_.set(_,A.withResumeToken(qe.EMPTY_BYTE_STRING,A.snapshotVersion)),Vv(h,_);const N=new lr(A.target,_,v,A.sequenceNumber);Ad(h,N)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){it(la,"Failed to raise snapshot:",a),await Ju(s,a)}}async function Ju(s,e,i){if(!vs(e))throw e;s.W_.add(1),await Zl(s),s.j_.set("Offline"),i||(i=()=>Rv(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(la,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await cc(s)})}function Nv(s,e){return e().catch(i=>Ju(s,i,e))}async function hc(s){const e=Et(s),i=yr(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:od;for(;D1(e);)try{const o=await o1(e.localStore,a);if(o===null){e.U_.length===0&&i.P_();break}a=o.batchId,C1(e,o)}catch(o){await Ju(e,o)}Ov(e)&&Mv(e)}function D1(s){return ua(s)&&s.U_.length<10}function C1(s,e){s.U_.push(e);const i=yr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function Ov(s){return ua(s)&&!yr(s).u_()&&s.U_.length>0}function Mv(s){yr(s).start()}async function V1(s){yr(s).C_()}async function I1(s){const e=yr(s);for(const i of s.U_)e.b_(i.mutations)}async function N1(s,e,i){const a=s.U_.shift(),o=md.from(a,e,i);await Nv(s,()=>s.remoteSyncer.applySuccessfulWrite(o)),await hc(s)}async function O1(s,e){e&&yr(s).S_&&await async function(a,o){if(function(d){return mS(d)&&d!==K.ABORTED}(o.code)){const h=a.U_.shift();yr(a).h_(),await Nv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,o)),await hc(a)}}(s,e),Ov(s)&&Mv(s)}async function Wy(s,e){const i=Et(s);i.asyncQueue.verifyOperationInProgress(),it(la,"RemoteStore received new credentials");const a=ua(i);i.W_.add(3),await Zl(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await cc(i)}async function M1(s,e){const i=Et(s);e?(i.W_.delete(2),await cc(i)):e||(i.W_.add(2),await Zl(i),i.j_.set("Unknown"))}function Es(s){return s.J_||(s.J_=function(i,a,o){const h=Et(i);return h.M_(),new y1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{xo:S1.bind(null,s),No:b1.bind(null,s),Lo:R1.bind(null,s),p_:w1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),bd(s)?Sd(s):s.j_.set("Unknown")):(await s.J_.stop(),Iv(s))})),s.J_}function yr(s){return s.Y_||(s.Y_=function(i,a,o){const h=Et(i);return h.M_(),new _1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,o)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:V1.bind(null,s),Lo:O1.bind(null,s),D_:I1.bind(null,s),v_:N1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await hc(s)):(await s.Y_.stop(),s.U_.length>0&&(it(la,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e,i,a,o,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=h,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,o,h){const d=Date.now()+a,g=new Rd(e,i,d,o,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wd(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),vs(s))return new at(K.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{static emptySet(e){return new ls(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ut.comparator(i.key,a.key):(i,a)=>ut.comparator(i.key,a.key),this.keyedMap=Ml(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof ls)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,h=a.getNext().key;if(!o.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new ls;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(){this.Z_=new ie(ut.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):gt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class ds{constructor(e,i,a,o,h,d,g,_,v){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(e,i,a,o,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ds(e,i,ls.emptySet(i),d,a,o,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class U1{constructor(){this.queries=e_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const o=Et(i),h=o.queries;o.queries=e_(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(a)})})(this,new at(K.ABORTED,"Firestore shutting down"))}}function e_(){return new oa(s=>W_(s),rc)}async function L1(s,e){const i=Et(s);let a=3;const o=e.query;let h=i.queries.get(o);h?!h.na()&&e.ra()&&(a=2):(h=new x1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(o,!0);break;case 1:h.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=wd(d,`Initialization of query '${is(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Dd(i)}async function z1(s,e){const i=Et(s),a=e.query;let o=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?o=e.ra()?0:1:!h.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function P1(s,e){const i=Et(s);let a=!1;for(const o of e){const h=o.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(o)&&(a=!0);d.ea=o}}a&&Dd(i)}function B1(s,e,i){const a=Et(s),o=a.queries.get(e);if(o)for(const h of o.ta)h.onError(i);a.queries.delete(e)}function Dd(s){s.ia.forEach(e=>{e.next()})}var td,n_;(n_=td||(td={}))._a="default",n_.Cache="cache";class q1{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const o of e.docChanges)o.type!==3&&a.push(o);e=new ds(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==td.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e){this.key=e}}class Uv{constructor(e){this.key=e}}class k1{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=It(),this.mutatedKeys=It(),this.ya=tv(e),this.wa=new ls(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new t_,o=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const _=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((A,N)=>{const z=o.get(A),G=ac(this.query,N)?N:null,$=!!z&&this.mutatedKeys.has(z.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;z&&G?z.data.isEqual(G.data)?$!==nt&&(a.track({type:3,doc:G}),Z=!0):this.va(z,G)||(a.track({type:2,doc:G}),Z=!0,(_&&this.ya(G,_)>0||v&&this.ya(G,v)<0)&&(g=!0)):!z&&G?(a.track({type:0,doc:G}),Z=!0):z&&!G&&(a.track({type:1,doc:z}),Z=!0,(_||v)&&(g=!0)),Z&&(G?(d=d.add(G),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{wa:d,Da:a,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,o){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((A,N)=>function(G,$){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return nt(G)-nt($)}(A.type,N.type)||this.ya(A.doc,N.doc)),this.Ca(a),o=o!=null&&o;const g=i&&!o?this.Fa():[],_=this.pa.size===0&&this.current&&!o?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new ds(this.query,e.wa,h,d,e.mutatedKeys,_===0,v,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new t_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=It(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new Uv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new xv(a))}),i}Oa(e){this.fa=e.gs,this.pa=It();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ds.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Cd="SyncEngine";class H1{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class j1{constructor(e){this.key=e,this.Ba=!1}}class G1{constructor(e,i,a,o,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new oa(g=>W_(g),rc),this.qa=new Map,this.Qa=new Set,this.$a=new ie(ut.comparator),this.Ua=new Map,this.Ka=new yd,this.Wa={},this.Ga=new Map,this.za=fs.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Q1(s,e,i=!0){const a=kv(s);let o;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),o=h.view.Na()):o=await Lv(a,e,i,!0),o}async function F1(s,e){const i=kv(s);await Lv(i,e,!0,!1)}async function Lv(s,e,i,a){const o=await u1(s.localStore,Jn(e)),h=o.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await Y1(s,e,h,d==="current",o.resumeToken)),s.isPrimaryClient&&i&&Cv(s.remoteStore,o),g}async function Y1(s,e,i,a,o){s.Ha=(N,z,G)=>async function(nt,Z,vt,lt){let ht=Z.view.ba(vt);ht.ls&&(ht=await Ky(nt.localStore,Z.query,!1).then(({documents:O})=>Z.view.ba(O,ht)));const Vt=lt&&lt.targetChanges.get(Z.targetId),pt=lt&&lt.targetMismatches.get(Z.targetId)!=null,wt=Z.view.applyChanges(ht,nt.isPrimaryClient,Vt,pt);return r_(nt,Z.targetId,wt.Ma),wt.snapshot}(s,N,z,G);const h=await Ky(s.localStore,e,!0),d=new k1(e,h.gs),g=d.ba(h.documents),_=Xl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",o),v=d.applyChanges(g,s.isPrimaryClient,_);r_(s,i,v.Ma);const A=new H1(e,i,d);return s.ka.set(e,A),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),v.snapshot}async function K1(s,e,i){const a=Et(s),o=a.ka.get(e),h=a.qa.get(o.targetId);if(h.length>1)return a.qa.set(o.targetId,h.filter(d=>!rc(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await Jf(a.localStore,o.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(o.targetId),i&&Td(a.remoteStore,o.targetId),ed(a,o.targetId)}).catch(_s)):(ed(a,o.targetId),await Jf(a.localStore,o.targetId,!0))}async function X1(s,e){const i=Et(s),a=i.ka.get(e),o=i.qa.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Td(i.remoteStore,a.targetId))}async function Z1(s,e,i){const a=ib(s);try{const o=await function(d,g){const _=Et(d),v=Se.now(),A=g.reduce((G,$)=>G.add($.key),It());let N,z;return _.persistence.runTransaction("Locally write mutations","readwrite",G=>{let $=Ni(),nt=It();return _.ds.getEntries(G,A).next(Z=>{$=Z,$.forEach((vt,lt)=>{lt.isValidDocument()||(nt=nt.add(vt))})}).next(()=>_.localDocuments.getOverlayedDocuments(G,$)).next(Z=>{N=Z;const vt=[];for(const lt of g){const ht=uS(lt,N.get(lt.key).overlayedDocument);ht!=null&&vt.push(new Er(lt.key,ht,G_(ht.value.mapValue),Wn.exists(!0)))}return _.mutationQueue.addMutationBatch(G,v,vt,g)}).next(Z=>{z=Z;const vt=Z.applyToLocalDocumentSet(N,nt);return _.documentOverlayCache.saveOverlays(G,Z.batchId,vt)})}).then(()=>({batchId:z.batchId,changes:nv(N)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(o.batchId),function(d,g,_){let v=d.Wa[d.currentUser.toKey()];v||(v=new ie(St)),v=v.insert(g,_),d.Wa[d.currentUser.toKey()]=v}(a,o.batchId,i),await $l(a,o.changes),await hc(a.remoteStore)}catch(o){const h=wd(o,"Failed to persist write");i.reject(h)}}async function zv(s,e){const i=Et(s);try{const a=await s1(i.localStore,e);e.targetChanges.forEach((o,h)=>{const d=i.Ua.get(h);d&&(kt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?kt(d.Ba):o.removedDocuments.size>0&&(kt(d.Ba),d.Ba=!1))}),await $l(i,a,e)}catch(a){await _s(a)}}function i_(s,e,i){const a=Et(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const _=Et(d);_.onlineState=g;let v=!1;_.queries.forEach((A,N)=>{for(const z of N.ta)z.sa(g)&&(v=!0)}),v&&Dd(_)}(a.eventManager,e),o.length&&a.La.p_(o),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function $1(s,e,i){const a=Et(s);a.sharedClientState.updateQueryState(e,"rejected",i);const o=a.Ua.get(e),h=o&&o.key;if(h){let d=new ie(ut.comparator);d=d.insert(h,Fe.newNoDocument(h,_t.min()));const g=It().add(h),_=new oc(_t.min(),new Map,new ie(St),d,g);await zv(a,_),a.$a=a.$a.remove(h),a.Ua.delete(e),Vd(a)}else await Jf(a.localStore,e,!1).then(()=>ed(a,e,i)).catch(_s)}async function J1(s,e){const i=Et(s),a=e.batch.batchId;try{const o=await a1(i.localStore,e);Bv(i,a,null),Pv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,o)}catch(o){await _s(o)}}async function W1(s,e,i){const a=Et(s);try{const o=await function(d,g){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let A;return _.mutationQueue.lookupMutationBatch(v,g).next(N=>(kt(N!==null),A=N.keys(),_.mutationQueue.removeMutationBatch(v,N))).next(()=>_.mutationQueue.performConsistencyCheck(v)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(v,A,g)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,A)).next(()=>_.localDocuments.getDocuments(v,A))})}(a.localStore,e);Bv(a,e,i),Pv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await $l(a,o)}catch(o){await _s(o)}}function Pv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function Bv(s,e,i){const a=Et(s);let o=a.Wa[a.currentUser.toKey()];if(o){const h=o.get(e);h&&(i?h.reject(i):h.resolve(),o=o.remove(e)),a.Wa[a.currentUser.toKey()]=o}}function ed(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(a=>{s.Ka.containsKey(a)||qv(s,a)})}function qv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(Td(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ua.delete(i),Vd(s))}function r_(s,e,i){for(const a of i)a instanceof xv?(s.Ka.addReference(a.key,e),tb(s,a)):a instanceof Uv?(it(Cd,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,e),s.Ka.containsKey(a.key)||qv(s,a.key)):gt()}function tb(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(it(Cd,"New document in limbo: "+i),s.Qa.add(a),Vd(s))}function Vd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ut(Jt.fromString(e)),a=s.za.next();s.Ua.set(a,new j1(i)),s.$a=s.$a.insert(i,a),Cv(s.remoteStore,new lr(Jn($_(i.path)),a,"TargetPurposeLimboResolution",ec.ae))}}async function $l(s,e,i){const a=Et(s),o=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,_)=>{d.push(a.Ha(_,e,i).then(v=>{var A;if((v||i)&&a.isPrimaryClient){const N=v?!v.fromCache:(A=i==null?void 0:i.targetChanges.get(_.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(_.targetId,N?"current":"not-current")}if(v){o.push(v);const N=vd.Yi(_.targetId,v);h.push(N)}}))}),await Promise.all(d),a.La.p_(o),await async function(_,v){const A=Et(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Y.forEach(v,z=>Y.forEach(z.Hi,G=>A.persistence.referenceDelegate.addReference(N,z.targetId,G)).next(()=>Y.forEach(z.Ji,G=>A.persistence.referenceDelegate.removeReference(N,z.targetId,G)))))}catch(N){if(!vs(N))throw N;it(Ed,"Failed to update sequence numbers: "+N)}for(const N of v){const z=N.targetId;if(!N.fromCache){const G=A.Ts.get(z),$=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion($);A.Ts=A.Ts.insert(z,nt)}}}(a.localStore,h))}async function eb(s,e){const i=Et(s);if(!i.currentUser.isEqual(e)){it(Cd,"User change. New user:",e.toKey());const a=await bv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new at(K.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Rs)}}function nb(s,e){const i=Et(s),a=i.Ua.get(e);if(a&&a.Ba)return It().add(a.key);{let o=It();const h=i.qa.get(e);if(!h)return o;for(const d of h){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function kv(s){const e=Et(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=zv.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$1.bind(null,e),e.La.p_=P1.bind(null,e.eventManager),e.La.Ja=B1.bind(null,e.eventManager),e}function ib(s){const e=Et(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J1.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=W1.bind(null,e),e}class Wu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=uc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return r1(this.persistence,new e1,e.initialUser,this.serializer)}Xa(e){return new Sv(_d.ri,this.serializer)}Za(e){return new h1}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wu.provider={build:()=>new Wu};class rb extends Wu{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){kt(this.persistence.referenceDelegate instanceof $u);const a=this.persistence.referenceDelegate.garbageCollector;return new qS(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?tn.withCacheSize(this.cacheSizeBytes):tn.DEFAULT;return new Sv(a=>$u.ri(a,i),this.serializer)}}class nd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>i_(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=eb.bind(null,this.syncEngine),await M1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U1}()}createDatastore(e){const i=uc(e.databaseInfo.databaseId),a=function(h){return new p1(h)}(e.databaseInfo);return function(h,d,g,_){return new E1(h,d,g,_)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,o,h,d,g){return new A1(a,o,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>i_(this.syncEngine,i,0),function(){return $y.D()?new $y:new f1}())}createSyncEngine(e,i){return function(o,h,d,g,_,v,A){const N=new G1(o,h,d,g,_,v);return A&&(N.ja=!0),N}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const h=Et(o);it(la,"RemoteStore shutting down."),h.W_.add(5),await Zl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}nd.provider={build:()=>new nd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class sb{constructor(e,i,a,o,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=Qe.UNAUTHENTICATED,this.clientId=x_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=wd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Of(s,e){s.asyncQueue.verifyOperationInProgress(),it(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async o=>{a.isEqual(o)||(await bv(e.localStore,o),a=o)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function a_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await lb(s);it(_r,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Wy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,o)=>Wy(e.remoteStore,o)),s._onlineComponents=e}async function lb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(_r,"Using user provided OfflineComponentProvider");try{await Of(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;os("Error using user provided cache. Falling back to memory cache: "+i),await Of(s,new Wu)}}else it(_r,"Using default OfflineComponentProvider"),await Of(s,new rb(void 0));return s._offlineComponents}async function Hv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(_r,"Using user provided OnlineComponentProvider"),await a_(s,s._uninitializedComponentsProvider._online)):(it(_r,"Using default OnlineComponentProvider"),await a_(s,new nd))),s._onlineComponents}function ob(s){return Hv(s).then(e=>e.syncEngine)}async function ub(s){const e=await Hv(s),i=e.eventManager;return i.onListen=Q1.bind(null,e.syncEngine),i.onUnlisten=K1.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=F1.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=X1.bind(null,e.syncEngine),i}function cb(s,e,i={}){const a=new hr;return s.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const A=new ab({next:z=>{A.su(),d.enqueueAndForget(()=>z1(h,N)),z.fromCache&&_.source==="server"?v.reject(new at(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(z)},error:z=>v.reject(z)}),N=new q1(g,A,{includeMetadataChanges:!0,Ta:!0});return L1(h,N)}(await ub(s),s.asyncQueue,e,i,a)),a.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(s,e,i){if(!i)throw new at(K.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function hb(s,e,i,a){if(e===!0&&a===!0)throw new at(K.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function l_(s){if(!ut.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function o_(s){if(ut.isDocumentKey(s))throw new at(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function fc(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":gt()}function ms(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new at(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=fc(s);throw new at(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv="firestore.googleapis.com",u_=!0;class c_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new at(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Qv,this.ssl=u_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:u_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Av;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<PS)throw new at(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new at(K.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,o){return a.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class dc{constructor(e,i,a,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new at(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new gA;switch(a.type){case"firstParty":return new vA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new at(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=s_.get(i);a&&(it("ComponentProvider","Removing Datastore"),s_.delete(i),a.terminate())}(this),Promise.resolve()}}function fb(s,e,i,a={}){var o;const h=(s=ms(s,dc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==Qv&&h.host!==g&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:a});if(!qu(_,d)&&(s._setSettings(_),a.mockUserToken)){let v,A;if(typeof a.mockUserToken=="string")v=a.mockUserToken,A=Qe.MOCK_USER;else{v=K0(a.mockUserToken,(o=s._app)===null||o===void 0?void 0:o.options.projectId);const N=a.mockUserToken.sub||a.mockUserToken.user_id;if(!N)throw new at(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Qe(N)}s._authCredentials=new pA(new O_(v,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new Ts(this.firestore,e,this._query)}}class dn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class fr extends Ts{constructor(e,i,a){super(e,i,$_(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ut(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function Mf(s,e,...i){if(s=Ci(s),Gv("collection","path",e),s instanceof dc){const a=Jt.fromString(e,...i);return o_(a),new fr(s,null,a)}{if(!(s instanceof dn||s instanceof fr))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return o_(a),new fr(s.firestore,null,a)}}function Fv(s,e,...i){if(s=Ci(s),arguments.length===1&&(e=x_.newId()),Gv("doc","path",e),s instanceof dc){const a=Jt.fromString(e,...i);return l_(a),new dn(s,null,new ut(a))}{if(!(s instanceof dn||s instanceof fr))throw new at(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(Jt.fromString(e,...i));return l_(a),new dn(s.firestore,s instanceof fr?s.converter:null,new ut(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_="AsyncQueue";class f_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new wv(this,"async_queue_retry"),this.Su=()=>{const a=Nf();a&&it(h_,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Nf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Nf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!vs(e))throw e;it(h_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw Ii("INTERNAL UNHANDLED ERROR: ",o),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=Rd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(o),o}Du(){this.gu&&gt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class mc extends dc{constructor(e,i,a,o){super(e,i,a,o),this.type="firestore",this._queue=new f_,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new f_(e),this._firestoreClient=void 0,await e}}}function db(s,e){const i=typeof s=="object"?s:rA(),a=typeof s=="string"?s:Gu,o=WT(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const h=F0("firestore");h&&fb(o,...h)}return o}function Yv(s){if(s._terminated)throw new at(K.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||mb(s),s._firestoreClient}function mb(s){var e,i,a;const o=s._freezeSettings(),h=function(g,_,v,A){return new xA(g,_,v,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,jv(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,o);s._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=o.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),s._firestoreClient=new sb(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gs(qe.fromBase64String(e))}catch(i){throw new at(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new gs(qe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new at(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new at(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new at(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return St(this._lat,e._lat)||St(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,o){if(a.length!==o.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==o[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=/^__.*__$/;class pb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(e,this.data,i,this.fieldTransforms)}}class Kv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Er(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Xv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class Md{constructor(e,i,a,o,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Md(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.$u(e),o}Uu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:a,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return tc(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Xv(this.Lu)&&gb.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class yb{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||uc(e)}ju(e,i,a,o=!1){return new Md({Lu:e,methodName:i,zu:a,path:Be.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function xd(s){const e=s._freezeSettings(),i=uc(s._databaseId);return new yb(s._databaseId,!!e.ignoreUndefinedProperties,i)}function _b(s,e,i,a,o,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,o);Ud("Data must be an object, but it was:",d,a);const g=Zv(a,d);let _,v;if(h.merge)_=new fn(d.fieldMask),v=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const N of h.mergeFields){const z=id(e,N,i);if(!d.contains(z))throw new at(K.INVALID_ARGUMENT,`Field '${z}' is specified in your field mask but missing from your input data.`);Jv(A,z)||A.push(z)}_=new fn(A),v=d.fieldTransforms.filter(N=>_.covers(N.field))}else _=null,v=d.fieldTransforms;return new pb(new en(g),_,v)}class pc extends Id{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pc}}function vb(s,e,i,a){const o=s.ju(1,e,i);Ud("Data must be an object, but it was:",o,a);const h=[],d=en.empty();vr(a,(_,v)=>{const A=Ld(e,_,i);v=Ci(v);const N=o.Uu(A);if(v instanceof pc)h.push(A);else{const z=Jl(v,N);z!=null&&(h.push(A),d.set(A,z))}});const g=new fn(h);return new Kv(d,g,o.fieldTransforms)}function Eb(s,e,i,a,o,h){const d=s.ju(1,e,i),g=[id(e,a,i)],_=[o];if(h.length%2!=0)throw new at(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let z=0;z<h.length;z+=2)g.push(id(e,h[z])),_.push(h[z+1]);const v=[],A=en.empty();for(let z=g.length-1;z>=0;--z)if(!Jv(v,g[z])){const G=g[z];let $=_[z];$=Ci($);const nt=d.Uu(G);if($ instanceof pc)v.push(G);else{const Z=Jl($,nt);Z!=null&&(v.push(G),A.set(G,Z))}}const N=new fn(v);return new Kv(A,N,d.fieldTransforms)}function Tb(s,e,i,a=!1){return Jl(i,s.ju(a?4:3,e))}function Jl(s,e){if($v(s=Ci(s)))return Ud("Unsupported field value:",e,s),Zv(s,e);if(s instanceof Id)return function(a,o){if(!Xv(o.Lu))throw o.Wu(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(o);h&&o.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,o){const h=[];let d=0;for(const g of a){let _=Jl(g,o.Ku(d));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,o){if((a=Ci(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return iS(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Se.fromDate(a);return{timestampValue:Zu(o.serializer,h)}}if(a instanceof Se){const h=new Se(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Zu(o.serializer,h)}}if(a instanceof Nd)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof gs)return{bytesValue:gv(o.serializer,a._byteString)};if(a instanceof dn){const h=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:pd(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Od)return function(d,g){return{mapValue:{fields:{[H_]:{stringValue:j_},[Qu]:{arrayValue:{values:d.toArray().map(v=>{if(typeof v!="number")throw g.Wu("VectorValues must only contain numeric values.");return dd(g.serializer,v)})}}}}}}(a,o);throw o.Wu(`Unsupported field value: ${fc(a)}`)}(s,e)}function Zv(s,e){const i={};return L_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(s,(a,o)=>{const h=Jl(o,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function $v(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Se||s instanceof Nd||s instanceof gs||s instanceof dn||s instanceof Id||s instanceof Od)}function Ud(s,e,i){if(!$v(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const a=fc(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function id(s,e,i){if((e=Ci(e))instanceof gc)return e._internalPath;if(typeof e=="string")return Ld(s,e);throw tc("Field path arguments must be of type string or ",s,!1,void 0,i)}const Ab=new RegExp("[~\\*/\\[\\]]");function Ld(s,e,i){if(e.search(Ab)>=0)throw tc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new gc(...e.split("."))._internalPath}catch{throw tc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function tc(s,e,i,a,o){const h=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(h||d)&&(_+=" (found",h&&(_+=` in field ${a}`),d&&(_+=` in document ${o}`),_+=")"),new at(K.INVALID_ARGUMENT,g+s+_)}function Jv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e,i,a,o,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=o,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Sb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(zd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Sb extends Wv{data(){return super.data()}}function zd(s,e){return typeof e=="string"?Ld(s,e):e instanceof gc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new at(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Pd{}class Rb extends Pd{}function Vu(s,e,...i){let a=[];e instanceof Pd&&a.push(e),a=a.concat(i),function(h){const d=h.filter(_=>_ instanceof Bd).length,g=h.filter(_=>_ instanceof yc).length;if(d>1||d>0&&g>0)throw new at(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const o of a)s=o._apply(s);return s}class yc extends Rb{constructor(e,i,a){super(),this._field=e,this._op=i,this._value=a,this.type="where"}static _create(e,i,a){return new yc(e,i,a)}_apply(e){const i=this._parse(e);return tE(e._query,i),new Ts(e.firestore,e.converter,Ff(e._query,i))}_parse(e){const i=xd(e.firestore);return function(h,d,g,_,v,A,N){let z;if(v.isKeyField()){if(A==="array-contains"||A==="array-contains-any")throw new at(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${A}' queries on documentId().`);if(A==="in"||A==="not-in"){m_(N,A);const $=[];for(const nt of N)$.push(d_(_,h,nt));z={arrayValue:{values:$}}}else z=d_(_,h,N)}else A!=="in"&&A!=="not-in"&&A!=="array-contains-any"||m_(N,A),z=Tb(g,d,N,A==="in"||A==="not-in");return ye.create(v,A,z)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Iu(s,e,i){const a=e,o=zd("where",s);return yc._create(o,a,i)}class Bd extends Pd{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new Bd(e,i)}_parse(e){const i=this._queryConstraints.map(a=>a._parse(e)).filter(a=>a.getFilters().length>0);return i.length===1?i[0]:Mn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,h){let d=o;const g=h.getFlattenedFilters();for(const _ of g)tE(d,_),d=Ff(d,_)}(e._query,i),new Ts(e.firestore,e.converter,Ff(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function d_(s,e,i){if(typeof(i=Ci(i))=="string"){if(i==="")throw new at(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!J_(e)&&i.indexOf("/")!==-1)throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const a=e.path.child(Jt.fromString(i));if(!ut.isDocumentKey(a))throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return Vy(s,new ut(a))}if(i instanceof dn)return Vy(s,i._key);throw new at(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fc(i)}.`)}function m_(s,e){if(!Array.isArray(s)||s.length===0)throw new at(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tE(s,e){const i=function(o,h){for(const d of o)for(const g of d.getFlattenedFilters())if(h.indexOf(g.op)>=0)return g.op;return null}(s.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new at(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class wb{convertValue(e,i="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return he(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw gt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return vr(e,(o,h)=>{a[o]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,o;const h=(o=(a=(i=e.fields)===null||i===void 0?void 0:i[Qu].arrayValue)===null||a===void 0?void 0:a.values)===null||o===void 0?void 0:o.map(d=>he(d.doubleValue));return new Od(h)}convertGeoPoint(e){return new Nd(he(e.latitude),he(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=ic(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Hl(e));default:return null}}convertTimestamp(e){const i=mr(e);return new Se(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=Jt.fromString(e);kt(Tv(a));const o=new jl(a.get(1),a.get(3)),h=new ut(a.popFirst(5));return o.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Cb extends Wv{constructor(e,i,a,o,h,d){super(e,i,a,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Pu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(zd("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Pu extends Cb{data(e={}){return super.data(e)}}class Vb{constructor(e,i,a,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Nu(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Pu(this._firestore,this._userDataWriter,a.key,a,new Nu(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,h){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const _=new Pu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Nu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new Pu(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Nu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,A=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:Ib(g.type),doc:_,oldIndex:v,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function Ib(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}class Nb extends wb{constructor(e){super(),this.firestore=e}convertBytes(e){return new gs(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,i)}}function xf(s){s=ms(s,Ts);const e=ms(s.firestore,mc),i=Yv(e),a=new Nb(e);return bb(s._query),cb(i,s._query).then(o=>new Vb(e,a,s,o))}function Ob(s,e,i,...a){s=ms(s,dn);const o=ms(s.firestore,mc),h=xd(o);let d;return d=typeof(e=Ci(e))=="string"||e instanceof gc?Eb(h,"updateDoc",s._key,e,i,a):vb(h,"updateDoc",s._key,e),eE(o,[d.toMutation(s._key,Wn.exists(!0))])}function Mb(s,e){const i=ms(s.firestore,mc),a=Fv(s),o=Db(s.converter,e);return eE(i,[_b(xd(s.firestore),"addDoc",a._key,o,s.converter!==null,{}).toMutation(a._key,Wn.exists(!1))]).then(()=>a)}function eE(s,e){return function(a,o){const h=new hr;return a.asyncQueue.enqueueAndForget(async()=>Z1(await ob(a),o,h)),h.promise}(Yv(s),e)}(function(e,i=!0){(function(o){ys=o})(iA),Hu(new Bl("firestore",(a,{instanceIdentifier:o,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new mc(new yA(a.getProvider("auth-internal")),new EA(d,a.getProvider("app-check-internal")),function(v,A){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new at(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(v.options.projectId,A)}(d,o),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ss(yy,_y,e),ss(yy,_y,"esm2017")})();var xb="firebase",Ub="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(xb,Ub,"app");const Lb={apiKey:"AIzaSyCiDPHZEXAHbxXM5pBHVPsFsV3oh-BkNRI",authDomain:"shaffers-b329f.firebaseapp.com",projectId:"shaffers-b329f",storageBucket:"shaffers-b329f.firebasestorage.app",messagingSenderId:"513809891195",appId:"1:513809891195:web:9c15bd18f9f837b210c7de"},zb=S_(Lb),Ou=db(zb),Pb=async()=>(await(await fetch("https://api.ipify.org?format=json")).json()).ip,Bb=()=>{var s;try{if(navigator.userAgentData){const e=(s=navigator.userAgentData.brands)==null?void 0:s.map(a=>`${a.brand}/${a.version}`).join(", "),i=navigator.userAgentData.platform||"Unknown Platform";if(e)return`${e} - ${i}`}return navigator.userAgent||"Unknown"}catch(e){return console.warn("Error detectando device info:",e),"Unknown"}},qb=async s=>{const i=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(a)).map(o=>o.toString(16).padStart(2,"0")).join("")},kb=()=>/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent),Hb=()=>{const e=window.outerWidth-window.innerWidth>160,i=window.outerHeight-window.innerHeight>160;return e||i},jb=()=>{let s=!1;const e=new Image;return Object.defineProperty(e,"id",{get:function(){s=!0}}),console.log("%c",e),s},Gb=async s=>{try{const i=await(await fetch(`https://ipwho.is/${s}`)).json();return i.success?(console.log(`Ubicación detectada: ${i.city}, ${i.region}, ${i.country}`),i.country_code==="AR"):(console.warn("Fallo al obtener ubicación:",i.message),!1)}catch(e){return console.warn("Error al verificar IP con ipwho.is:",e),!1}},Qb=()=>{const s=window.screen.height,e=window.innerHeight;return s-e<100},Fb=()=>Qb(),Yb=async()=>{var vt;if(Fb())return console.log("Simulación de móvil o DevTools detectada. Acceso denegado.1"),{error:"Acceso denegado por posible emulación o uso de herramientas de desarrollo.1"};if(!kb())return console.log("Dispositivo no móvil. Acceso denegado.2"),{error:"Solo se permite el acceso desde dispositivos móviles reales.2"};if(Hb()||jb())return console.log("DevTools detectado. Acceso denegado.3"),{error:"Acceso denegado por herramientas de desarrollo.3"};const s=await Pb(),e=Bb(),i=navigator.userAgent,a=navigator.language||"unknown",o=Intl.DateTimeFormat().resolvedOptions().timeZone||"unknown";if(!await Gb(s))return console.log("IP fuera de Buenos Aires. Acceso denegado.5"),{error:"Acceso restringido solo a Buenos Aires, Argentina."};const d=await qb(`${e}|${a}|${o}`),g=d;console.log({fingerprint:d,deviceHash:g,deviceInfo:e,userAgent:i,language:a,timezone:o});const _=Mf(Ou,"claims"),v=[Vu(_,Iu("fingerprint","==",d)),Vu(_,Iu("deviceHash","==",g))],A=await Promise.all(v.map(xf));if(A.some(lt=>!lt.empty)){const Vt=((vt=A.find(O=>!O.empty))==null?void 0:vt.docs[0]).data().code;console.log("Usuario ya tiene código:",Vt);const pt=await xf(Vu(Mf(Ou,"discountCodes"),Iu("code","==",Vt)));let wt=null;return pt.empty||(wt=pt.docs[0].data().price),{code:Vt,price:wt,alreadyClaimed:!0}}const z=Mf(Ou,"discountCodes"),G=Vu(z,Iu("claimed","==",!1)),$=await xf(G);if($.empty)return{error:"No hay más códigos disponibles."};const nt=$.docs[0],Z=nt.data();return await Ob(Fv(Ou,"discountCodes",nt.id),{claimed:!0}),await Mb(_,{fingerprint:d,ip:s,deviceInfo:e,userAgent:i,language:a,timezone:o,deviceHash:g,code:Z.code,price:Z.price,claimedAt:new Date}),console.log("Código asignado:",Z.code),{code:Z.code,price:Z.price,alreadyClaimed:!1}};function Kb(){return Nt.jsx("section",{className:"section loading-page",children:Nt.jsx("div",{className:"loading-page-logo"})})}const Xb=({animate:s})=>Nt.jsxs("div",{className:"background",children:[Nt.jsx("div",{className:`wave wave-1 ${s?"wave-animated":""}`}),Nt.jsx("div",{className:`wave wave-2 ${s?"wave-animated":""}`})]}),g_=({children:s,className:e,...i})=>{const[a,o]=ee.useState(!1),h=()=>o(!0),d=()=>o(!1);return Nt.jsx("button",{className:`${e} ${a?"pressed":""}`,onTouchStart:h,onTouchEnd:d,onMouseDown:h,onMouseUp:d,onMouseLeave:d,...i,children:s})};function Zb({onClick:s,onScroll:e,isClicked:i,code:a,price:o}){const[h,d]=ee.useState(!1),[g,_]=ee.useState(!1),[v,A]=ee.useState(!1),[N,z]=ee.useState(!1),[G,$]=ee.useState(!1),nt=ee.useRef(null),Z=async()=>{if(!N&&a)try{await navigator.clipboard.writeText(a),z(!0),nt.current=setTimeout(()=>{z(!1)},1e3)}catch(lt){console.error("Error copiando con Clipboard API:",lt)}},vt=lt=>{lt.stopPropagation(),d(ht=>!ht),v?(s&&s(),A(!1)):(e(),A(!0))};return Nt.jsxs("section",{className:"section main-page",children:[Nt.jsxs("div",{className:"main-page-content",children:[Nt.jsxs("div",{className:"discount-code-container",children:[Nt.jsxs("div",{className:"discount-text-container",children:[Nt.jsx("div",{className:"daniel-te-regala"}),Nt.jsx("h4",{className:"price-text",style:{color:G?"#4E3718":"#EFA52E"},children:o?`${o}`:" "})]}),Nt.jsxs(g_,{className:`discount-code ${g?"tapar-sombra":""}`,onPointerDown:()=>_(!0),onPointerUp:()=>{_(!1),$(lt=>!lt),Z()},children:[Nt.jsx("h1",{children:a||"SH-XXXXXX"}),Nt.jsx("small",{children:N?"Codigo copiado":"Sacale Screen, o Click para copiarlo."})]})]}),Nt.jsx("div",{className:`dani-container ${h?"animated":""}`,children:Nt.jsx("div",{className:"dani-container dani-globo"})}),Nt.jsx("div",{className:"button-container",children:Nt.jsx(g_,{className:"btn btn-main-page",onPointerUp:lt=>{(lt.pointerType==="mouse"||lt.pointerType==="touch")&&vt(lt)},children:v?"VOLVER AL CÓDIGO":"¿Que hago con el código?"})})]}),Nt.jsx(Xb,{animate:h})]})}const $b="/ShaffersCodePage/assets/instagram-DXcrY2py.png";function Jb({onGoToLoading:s}){const[e,i]=ee.useState(!1),a=o=>{(o.pointerType==="mouse"||o.pointerType==="touch")&&(i(!e),s(o))};return Nt.jsx("section",{className:"section terms-page",children:Nt.jsxs("div",{className:"terms-page-content",children:[Nt.jsx("div",{className:"terms-page-copy"}),Nt.jsx("div",{className:"intagram-button-container",children:Nt.jsxs("button",{className:`instagram-button ${e?"activo":""}`,onPointerUp:a,children:[Nt.jsx("img",{src:$b,className:`icon ${e?"activo-img":""}`}),"INSTAGRAM"]})})]})})}function Wb(){const[s,e]=ee.useState(null),[i,a]=ee.useState("Cargando..."),[o,h]=ee.useState(!0),[d,g]=ee.useState(100),[_,v]=ee.useState(!0),[A,N]=ee.useState(!1),[z,G]=ee.useState(!0),[$,nt]=ee.useState(!0),[Z,vt]=ee.useState(!1),[lt,ht]=ee.useState(!0),[Vt,pt]=ee.useState(null),wt=ee.useRef(null),O=V=>g(V);ee.useEffect(()=>{const V=()=>{console.log("✅ Toda la página ha cargado. Comenzamos animación."),setTimeout(()=>{O(0),v(!1)},400)};if(document.readyState==="complete")V();else return window.addEventListener("load",V),()=>window.removeEventListener("load",V)},[]),ee.useEffect(()=>{const V=()=>{d===220&&Z&&(G(!1),N(!1),g(200),vt(!1)),d===0&&!_&&N(!0)},I=wt.current;return I==null||I.addEventListener("transitionend",V),()=>I==null?void 0:I.removeEventListener("transitionend",V)},[d,_,Z]);const S=()=>{d===78&&(ht(!1),O(0))},R=()=>{nt(!0),vt(!0),setTimeout(()=>{O(200)},600),setTimeout(()=>{window.location.href="https://www.instagram.com/shaffers.co/",location.reload()},1500)};return ee.useEffect(()=>{o&&s===null&&(async()=>{console.log("Llamando a claimDiscount...");const I=await Yb();console.log("Resultado de claimDiscount:",I),I.error?a(I.error):(e(I.code),pt(I.price),a(I.alreadyClaimed?"Ya reclamaste tu código:":"¡Aquí está tu código de descuento!")),h(!1)})()},[o,s]),Nt.jsx(Nt.Fragment,{children:Nt.jsx("div",{className:"app",children:Nt.jsxs("div",{className:"sections",ref:wt,style:{transform:`translateY(-${d}svh)`},children:[z&&Nt.jsx(Zb,{onClick:S,onScroll:()=>{ht(!0),O(78)},isClicked:lt,code:s,price:Vt}),A&&Nt.jsx(Jb,{onGoToLoading:R,isClicked:lt}),$&&Nt.jsx(Kb,{})]})})})}U0.createRoot(document.getElementById("root")).render(Nt.jsx(ee.StrictMode,{children:Nt.jsx(Wb,{})}));
