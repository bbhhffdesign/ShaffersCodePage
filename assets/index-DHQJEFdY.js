(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var kh={exports:{}},jl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cy;function MT(){if(Cy)return jl;Cy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:c}}return jl.Fragment=e,jl.jsx=i,jl.jsxs=i,jl}var Dy;function NT(){return Dy||(Dy=1,kh.exports=MT()),kh.exports}var Xl=NT(),Bh={exports:{}},Tt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function OT(){if(Vy)return Tt;Vy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var B={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,J={};function W(V,Z,nt){this.props=V,this.context=Z,this.refs=J,this.updater=nt||B}W.prototype.isReactComponent={},W.prototype.setState=function(V,Z){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Z,"setState")},W.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function rt(){}rt.prototype=W.prototype;function ot(V,Z,nt){this.props=V,this.context=Z,this.refs=J,this.updater=nt||B}var lt=ot.prototype=new rt;lt.constructor=ot,Y(lt,W.prototype),lt.isPureReactComponent=!0;var At=Array.isArray,mt={H:null,A:null,T:null,S:null,V:null},St=Object.prototype.hasOwnProperty;function N(V,Z,nt,$,ht,wt){return nt=wt.ref,{$$typeof:r,type:V,key:Z,ref:nt!==void 0?nt:null,props:wt}}function b(V,Z){return N(V.type,Z,void 0,void 0,void 0,V.props)}function C(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function M(V){var Z={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return Z[nt]})}var O=/\/+/g;function L(V,Z){return typeof V=="object"&&V!==null&&V.key!=null?M(""+V.key):Z.toString(36)}function w(){}function ve(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(w,w):(V.status="pending",V.then(function(Z){V.status==="pending"&&(V.status="fulfilled",V.value=Z)},function(Z){V.status==="pending"&&(V.status="rejected",V.reason=Z)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function re(V,Z,nt,$,ht){var wt=typeof V;(wt==="undefined"||wt==="boolean")&&(V=null);var vt=!1;if(V===null)vt=!0;else switch(wt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(V.$$typeof){case r:case e:vt=!0;break;case E:return vt=V._init,re(vt(V._payload),Z,nt,$,ht)}}if(vt)return ht=ht(V),vt=$===""?"."+L(V,0):$,At(ht)?(nt="",vt!=null&&(nt=vt.replace(O,"$&/")+"/"),re(ht,Z,nt,"",function(Bn){return Bn})):ht!=null&&(C(ht)&&(ht=b(ht,nt+(ht.key==null||V&&V.key===ht.key?"":(""+ht.key).replace(O,"$&/")+"/")+vt)),Z.push(ht)),1;vt=0;var we=$===""?".":$+":";if(At(V))for(var Zt=0;Zt<V.length;Zt++)$=V[Zt],wt=we+L($,Zt),vt+=re($,Z,nt,wt,ht);else if(Zt=D(V),typeof Zt=="function")for(V=Zt.call(V),Zt=0;!($=V.next()).done;)$=$.value,wt=we+L($,Zt++),vt+=re($,Z,nt,wt,ht);else if(wt==="object"){if(typeof V.then=="function")return re(ve(V),Z,nt,$,ht);throw Z=String(V),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return vt}function j(V,Z,nt){if(V==null)return V;var $=[],ht=0;return re(V,$,"","",function(wt){return Z.call(nt,wt,ht++)}),$}function et(V){if(V._status===-1){var Z=V._result;Z=Z(),Z.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=Z)}if(V._status===1)return V._result.default;throw V._result}var ct=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function zt(){}return Tt.Children={map:j,forEach:function(V,Z,nt){j(V,function(){Z.apply(this,arguments)},nt)},count:function(V){var Z=0;return j(V,function(){Z++}),Z},toArray:function(V){return j(V,function(Z){return Z})||[]},only:function(V){if(!C(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},Tt.Component=W,Tt.Fragment=i,Tt.Profiler=o,Tt.PureComponent=ot,Tt.StrictMode=s,Tt.Suspense=p,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=mt,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return mt.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cloneElement=function(V,Z,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var $=Y({},V.props),ht=V.key,wt=void 0;if(Z!=null)for(vt in Z.ref!==void 0&&(wt=void 0),Z.key!==void 0&&(ht=""+Z.key),Z)!St.call(Z,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&Z.ref===void 0||($[vt]=Z[vt]);var vt=arguments.length-2;if(vt===1)$.children=nt;else if(1<vt){for(var we=Array(vt),Zt=0;Zt<vt;Zt++)we[Zt]=arguments[Zt+2];$.children=we}return N(V.type,ht,void 0,void 0,wt,$)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Tt.createElement=function(V,Z,nt){var $,ht={},wt=null;if(Z!=null)for($ in Z.key!==void 0&&(wt=""+Z.key),Z)St.call(Z,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ht[$]=Z[$]);var vt=arguments.length-2;if(vt===1)ht.children=nt;else if(1<vt){for(var we=Array(vt),Zt=0;Zt<vt;Zt++)we[Zt]=arguments[Zt+2];ht.children=we}if(V&&V.defaultProps)for($ in vt=V.defaultProps,vt)ht[$]===void 0&&(ht[$]=vt[$]);return N(V,wt,void 0,void 0,null,ht)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:g,render:V}},Tt.isValidElement=C,Tt.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:et}},Tt.memo=function(V,Z){return{$$typeof:y,type:V,compare:Z===void 0?null:Z}},Tt.startTransition=function(V){var Z=mt.T,nt={};mt.T=nt;try{var $=V(),ht=mt.S;ht!==null&&ht(nt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(zt,ct)}catch(wt){ct(wt)}finally{mt.T=Z}},Tt.unstable_useCacheRefresh=function(){return mt.H.useCacheRefresh()},Tt.use=function(V){return mt.H.use(V)},Tt.useActionState=function(V,Z,nt){return mt.H.useActionState(V,Z,nt)},Tt.useCallback=function(V,Z){return mt.H.useCallback(V,Z)},Tt.useContext=function(V){return mt.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,Z){return mt.H.useDeferredValue(V,Z)},Tt.useEffect=function(V,Z,nt){var $=mt.H;if(typeof nt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(V,Z)},Tt.useId=function(){return mt.H.useId()},Tt.useImperativeHandle=function(V,Z,nt){return mt.H.useImperativeHandle(V,Z,nt)},Tt.useInsertionEffect=function(V,Z){return mt.H.useInsertionEffect(V,Z)},Tt.useLayoutEffect=function(V,Z){return mt.H.useLayoutEffect(V,Z)},Tt.useMemo=function(V,Z){return mt.H.useMemo(V,Z)},Tt.useOptimistic=function(V,Z){return mt.H.useOptimistic(V,Z)},Tt.useReducer=function(V,Z,nt){return mt.H.useReducer(V,Z,nt)},Tt.useRef=function(V){return mt.H.useRef(V)},Tt.useState=function(V){return mt.H.useState(V)},Tt.useSyncExternalStore=function(V,Z,nt){return mt.H.useSyncExternalStore(V,Z,nt)},Tt.useTransition=function(){return mt.H.useTransition()},Tt.version="19.1.0",Tt}var Iy;function Nd(){return Iy||(Iy=1,Bh.exports=OT()),Bh.exports}var Zu=Nd(),Hh={exports:{}},Gl={},qh={exports:{}},jh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function xT(){return My||(My=1,function(r){function e(j,et){var ct=j.length;j.push(et);t:for(;0<ct;){var zt=ct-1>>>1,V=j[zt];if(0<o(V,et))j[zt]=et,j[ct]=V,ct=zt;else break t}}function i(j){return j.length===0?null:j[0]}function s(j){if(j.length===0)return null;var et=j[0],ct=j.pop();if(ct!==et){j[0]=ct;t:for(var zt=0,V=j.length,Z=V>>>1;zt<Z;){var nt=2*(zt+1)-1,$=j[nt],ht=nt+1,wt=j[ht];if(0>o($,ct))ht<V&&0>o(wt,$)?(j[zt]=wt,j[ht]=ct,zt=ht):(j[zt]=$,j[nt]=ct,zt=nt);else if(ht<V&&0>o(wt,ct))j[zt]=wt,j[ht]=ct,zt=ht;else break t}}return et}function o(j,et){var ct=j.sortIndex-et.sortIndex;return ct!==0?ct:j.id-et.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],y=[],E=1,S=null,D=3,B=!1,Y=!1,J=!1,W=!1,rt=typeof setTimeout=="function"?setTimeout:null,ot=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function At(j){for(var et=i(y);et!==null;){if(et.callback===null)s(y);else if(et.startTime<=j)s(y),et.sortIndex=et.expirationTime,e(p,et);else break;et=i(y)}}function mt(j){if(J=!1,At(j),!Y)if(i(p)!==null)Y=!0,St||(St=!0,L());else{var et=i(y);et!==null&&re(mt,et.startTime-j)}}var St=!1,N=-1,b=5,C=-1;function M(){return W?!0:!(r.unstable_now()-C<b)}function O(){if(W=!1,St){var j=r.unstable_now();C=j;var et=!0;try{t:{Y=!1,J&&(J=!1,ot(N),N=-1),B=!0;var ct=D;try{e:{for(At(j),S=i(p);S!==null&&!(S.expirationTime>j&&M());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,D=S.priorityLevel;var V=zt(S.expirationTime<=j);if(j=r.unstable_now(),typeof V=="function"){S.callback=V,At(j),et=!0;break e}S===i(p)&&s(p),At(j)}else s(p);S=i(p)}if(S!==null)et=!0;else{var Z=i(y);Z!==null&&re(mt,Z.startTime-j),et=!1}}break t}finally{S=null,D=ct,B=!1}et=void 0}}finally{et?L():St=!1}}}var L;if(typeof lt=="function")L=function(){lt(O)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ve=w.port2;w.port1.onmessage=O,L=function(){ve.postMessage(null)}}else L=function(){rt(O,0)};function re(j,et){N=rt(function(){j(r.unstable_now())},et)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(j){j.callback=null},r.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<j?Math.floor(1e3/j):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(j){switch(D){case 1:case 2:case 3:var et=3;break;default:et=D}var ct=D;D=et;try{return j()}finally{D=ct}},r.unstable_requestPaint=function(){W=!0},r.unstable_runWithPriority=function(j,et){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ct=D;D=j;try{return et()}finally{D=ct}},r.unstable_scheduleCallback=function(j,et,ct){var zt=r.unstable_now();switch(typeof ct=="object"&&ct!==null?(ct=ct.delay,ct=typeof ct=="number"&&0<ct?zt+ct:zt):ct=zt,j){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ct+V,j={id:E++,callback:et,priorityLevel:j,startTime:ct,expirationTime:V,sortIndex:-1},ct>zt?(j.sortIndex=ct,e(y,j),i(p)===null&&j===i(y)&&(J?(ot(N),N=-1):J=!0,re(mt,ct-zt))):(j.sortIndex=V,e(p,j),Y||B||(Y=!0,St||(St=!0,L()))),j},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(j){var et=D;return function(){var ct=D;D=et;try{return j.apply(this,arguments)}finally{D=ct}}}}(jh)),jh}var Ny;function LT(){return Ny||(Ny=1,qh.exports=xT()),qh.exports}var Gh={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function UT(){if(Oy)return je;Oy=1;var r=Nd();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,je.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},je.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},je.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},je.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},je.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,B=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:B}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:D,fetchPriority:B,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},je.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},je.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},je.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},je.requestFormReset=function(p){s.d.r(p)},je.unstable_batchedUpdates=function(p,y){return p(y)},je.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.1.0",je}var xy;function zT(){if(xy)return Gh.exports;xy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gh.exports=UT(),Gh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function PT(){if(Ly)return Gl;Ly=1;var r=LT(),e=Nd(),i=zT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,l=n;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return g(f),t;if(h===l)return g(f),n;h=h.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=h;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,l=h;break}if(T===l){_=!0,l=f,a=h;break}T=T.sibling}if(!_){for(T=h.child;T;){if(T===a){_=!0,a=h,l=f;break}if(T===l){_=!0,l=h,a=f;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),B=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),W=Symbol.for("react.profiler"),rt=Symbol.for("react.provider"),ot=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),mt=Symbol.for("react.suspense"),St=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var w=Symbol.for("react.client.reference");function ve(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===w?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case W:return"Profiler";case J:return"StrictMode";case mt:return"Suspense";case St:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case B:return"Portal";case lt:return(t.displayName||"Context")+".Provider";case ot:return(t._context.displayName||"Context")+".Consumer";case At:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:ve(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return ve(t(n))}catch{}}return null}var re=Array.isArray,j=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ct={pending:!1,data:null,method:null,action:null},zt=[],V=-1;function Z(t){return{current:t}}function nt(t){0>V||(t.current=zt[V],zt[V]=null,V--)}function $(t,n){V++,zt[V]=t.current,t.current=n}var ht=Z(null),wt=Z(null),vt=Z(null),we=Z(null);function Zt(t,n){switch($(vt,n),$(wt,t),$(ht,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ey(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ey(n),t=ny(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}nt(ht),$(ht,t)}function Bn(){nt(ht),nt(wt),nt(vt)}function Hi(t){t.memoizedState!==null&&$(we,t);var n=ht.current,a=ny(n,t.type);n!==a&&($(wt,t),$(ht,a))}function ci(t){wt.current===t&&(nt(ht),nt(wt)),we.current===t&&(nt(we),Pl._currentValue=ct)}var Mr=Object.prototype.hasOwnProperty,Nr=r.unstable_scheduleCallback,Or=r.unstable_cancelCallback,Ls=r.unstable_shouldYield,vo=r.unstable_requestPaint,yn=r.unstable_now,Pc=r.unstable_getCurrentPriorityLevel,Us=r.unstable_ImmediatePriority,Ea=r.unstable_UserBlockingPriority,xr=r.unstable_NormalPriority,kc=r.unstable_LowPriority,Ta=r.unstable_IdlePriority,zs=r.log,_o=r.unstable_setDisableYieldValue,ae=null,qt=null;function an(t){if(typeof zs=="function"&&_o(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(ae,t)}catch{}}var He=Math.clz32?Math.clz32:Lr,Eo=Math.log,Bc=Math.LN2;function Lr(t){return t>>>=0,t===0?32:31-(Eo(t)/Bc|0)|0}var Ur=256,zr=4194304;function Mn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Aa(t,n,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,h=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~h,l!==0?f=Mn(l):(_&=T,_!==0?f=Mn(_):a||(a=T&~t,a!==0&&(f=Mn(a))))):(T=l&~h,T!==0?f=Mn(T):_!==0?f=Mn(_):a||(a=l&~t,a!==0&&(f=Mn(a)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:f}function Pr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Ps(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ks(){var t=Ur;return Ur<<=1,(Ur&4194048)===0&&(Ur=256),t}function Bs(){var t=zr;return zr<<=1,(zr&62914560)===0&&(zr=4194304),t}function fi(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function hi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Hs(t,n,a,l,f,h){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,R=t.expirationTimes,P=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-He(a),Q=1<<G;T[G]=0,R[G]=-1;var k=P[G];if(k!==null)for(P[G]=null,G=0;G<k.length;G++){var H=k[G];H!==null&&(H.lane&=-536870913)}a&=~Q}l!==0&&Hn(t,l,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(_&~n))}function Hn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-He(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function qs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var l=31-He(a),f=1<<l;f&n|t[l]&n&&(t[l]|=n),a&=~f}}function qi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Sa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ji(){var t=et.p;return t!==0?t:(t=window.event,t===void 0?32:Ty(t.type))}function To(t,n){var a=et.p;try{return et.p=t,n()}finally{et.p=a}}var $t=Math.random().toString(36).slice(2),_e="__reactFiber$"+$t,he="__reactProps$"+$t,vn="__reactContainer$"+$t,js="__reactEvents$"+$t,Hc="__reactListeners$"+$t,Gi="__reactHandles$"+$t,Ao="__reactResources$"+$t,kr="__reactMarker$"+$t;function Fi(t){delete t[_e],delete t[he],delete t[js],delete t[Hc],delete t[Gi]}function di(t){var n=t[_e];if(n)return n;for(var a=t.parentNode;a;){if(n=a[vn]||a[_e]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=sy(t);t!==null;){if(a=t[_e])return a;t=sy(t)}return n}t=a,a=t.parentNode}return null}function qn(t){if(t=t[_e]||t[vn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function jn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Qe(t){var n=t[Ao];return n||(n=t[Ao]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function oe(t){t[kr]=!0}var Gs=new Set,ba={};function Nn(t,n){mi(t,n),mi(t+"Capture",n)}function mi(t,n){for(ba[t]=n,t=0;t<n.length;t++)Gs.add(n[t])}var So=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bo={},Br={};function Ro(t){return Mr.call(Br,t)?!0:Mr.call(bo,t)?!1:So.test(t)?Br[t]=!0:(bo[t]=!0,!1)}function Yi(t,n,a){if(Ro(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Gn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Oe(t,n,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+l)}}var Hr,wo;function gi(t){if(Hr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);Hr=n&&n[1]||"",wo=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hr+t+wo}var Ra=!1;function wa(t,n){if(!t||Ra)return"";Ra=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var k=H}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(H){k=H}t.call(Q.prototype)}}else{try{throw Error()}catch(H){k=H}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&k&&typeof H.stack=="string")return[H.stack,k.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),_=h[0],T=h[1];if(_&&T){var R=_.split(`
`),P=T.split(`
`);for(f=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;f<P.length&&!P[f].includes("DetermineComponentFrameRoot");)f++;if(l===R.length||f===P.length)for(l=R.length-1,f=P.length-1;1<=l&&0<=f&&R[l]!==P[f];)f--;for(;1<=l&&0<=f;l--,f--)if(R[l]!==P[f]){if(l!==1||f!==1)do if(l--,f--,0>f||R[l]!==P[f]){var G=`
`+R[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=f);break}}}finally{Ra=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?gi(a):""}function Fs(t){switch(t.tag){case 26:case 27:case 5:return gi(t.type);case 16:return gi("Lazy");case 13:return gi("Suspense");case 19:return gi("SuspenseList");case 0:case 15:return wa(t.type,!1);case 11:return wa(t.type.render,!1);case 1:return wa(t.type,!0);case 31:return gi("Activity");default:return""}}function Ca(t){try{var n="";do n+=Fs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Xe(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ys(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qc(t){var n=Ys(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,h=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,h.call(this,_)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Da(t){t._valueTracker||(t._valueTracker=qc(t))}function Qs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return t&&(l=Ys(t)?t.checked?"true":"false":t.value),t=l,t!==a?(n.setValue(t),!0):!1}function qr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var jc=/[\n"\\]/g;function de(t){return t.replace(jc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function sn(t,n,a,l,f,h,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Xe(n)):t.value!==""+Xe(n)&&(t.value=""+Xe(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Qi(t,_,Xe(n)):a!=null?Qi(t,_,Xe(a)):l!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Xe(T):t.removeAttribute("name")}function jr(t,n,a,l,f,h,_,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+Xe(a):"",n=n!=null?""+Xe(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Qi(t,n,a){n==="number"&&qr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function pi(t,n,a,l){if(t=t.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=n.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Xe(a),n=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Ft(t,n,a){if(n!=null&&(n=""+Xe(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Xe(a):""}function Gr(t,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(s(92));if(re(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Xe(n),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function _n(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Fr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(t,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,a):typeof a!="number"||a===0||Fr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Xs(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&a[f]!==l&&Co(t,f,l)}else for(var h in n)n.hasOwnProperty(h)&&Co(t,h,n[h])}function Ks(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Va(t){return Fc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yi=null;function En(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var vi=null,_i=null;function Zs(t){var n=qn(t);if(n&&(t=n.stateNode)){var a=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(sn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+de(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==t&&l.form===t.form){var f=l[he]||null;if(!f)throw Error(s(90));sn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===t.form&&Qs(l)}break t;case"textarea":Ft(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&pi(t,!!a.multiple,n,!1)}}}var Fn=!1;function Do(t,n,a){if(Fn)return t(n,a);Fn=!0;try{var l=t(n);return l}finally{if(Fn=!1,(vi!==null||_i!==null)&&(Tu(),vi&&(n=vi,t=_i,_i=vi=null,Zs(n),t)))for(n=0;n<t.length;n++)Zs(t[n])}}function Yr(t,n){var a=t.stateNode;if(a===null)return null;var l=a[he]||null;if(l===null)return null;a=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tn=!1;if(On)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Tn=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Tn=!1}var Yn=null,Xi=null,Ei=null;function Ws(){if(Ei)return Ei;var t,n=Xi,a=n.length,l,f="value"in Yn?Yn.value:Yn.textContent,h=f.length;for(t=0;t<a&&n[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&n[a-l]===f[h-l];l++);return Ei=f.slice(t,1<l?1-l:void 0)}function Qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Xn(){return!0}function Js(){return!1}function Ce(t){function n(a,l,f,h,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Xn:Js,this.isPropagationStopped=Js,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Ce(kt),Xr=E({},kt,{view:0,detail:0}),Vo=Ce(Xr),Ma,Na,Kn,Kr=E({},Xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Kn&&(Kn&&t.type==="mousemove"?(Ma=t.screenX-Kn.screenX,Na=t.screenY-Kn.screenY):Na=Ma=0,Kn=t),Ma)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),An=Ce(Kr),Io=E({},Kr,{dataTransfer:0}),Yc=Ce(Io),Zr=E({},Xr,{relatedTarget:0}),Oa=Ce(Zr),$s=E({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=Ce($s),Mo=E({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),La=Ce(Mo),Qc=E({},kt,{data:0}),tl=Ce(Qc),Wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},No={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=Oo[t])?!!n[t]:!1}function Jr(){return el}var xo=E({},Xr,{key:function(t){if(t.key){var n=Wr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?No[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jr,charCode:function(t){return t.type==="keypress"?Qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ua=Ce(xo),Lo=E({},Kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nl=Ce(Lo),Ti=E({},Xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jr}),Uo=Ce(Ti),zo=E({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Po=Ce(zo),ko=E({},Kr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),za=Ce(ko),Ke=E({},kt,{newState:0,oldState:0}),Bo=Ce(Ke),Ho=[9,13,27,32],Zn=On&&"CompositionEvent"in window,u=null;On&&"documentMode"in document&&(u=document.documentMode);var m=On&&"TextEvent"in window&&!u,v=On&&(!Zn||u&&8<u&&11>=u),A=" ",U=!1;function q(t,n){switch(t){case"keyup":return Ho.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Mt=!1;function Ee(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(U=!0,A);case"textInput":return t=n.data,t===A&&U?null:t;default:return null}}function Nt(t,n){if(Mt)return t==="compositionend"||!Zn&&q(t,n)?(t=Ws(),Ei=Xi=Yn=null,Mt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Te(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!De[t.type]:n==="textarea"}function Ai(t,n,a,l){vi?_i?_i.push(l):_i=[l]:vi=l,n=Cu(n,"onChange"),0<n.length&&(a=new Ia("onChange","change",null,a,l),t.push({event:a,listeners:n}))}var xe=null,Wn=null;function il(t){Zp(t,0)}function qo(t){var n=jn(t);if(Qs(n))return t}function ym(t,n){if(t==="change")return n}var vm=!1;if(On){var Xc;if(On){var Kc="oninput"in document;if(!Kc){var _m=document.createElement("div");_m.setAttribute("oninput","return;"),Kc=typeof _m.oninput=="function"}Xc=Kc}else Xc=!1;vm=Xc&&(!document.documentMode||9<document.documentMode)}function Em(){xe&&(xe.detachEvent("onpropertychange",Tm),Wn=xe=null)}function Tm(t){if(t.propertyName==="value"&&qo(Wn)){var n=[];Ai(n,Wn,t,En(t)),Do(il,n)}}function lE(t,n,a){t==="focusin"?(Em(),xe=n,Wn=a,xe.attachEvent("onpropertychange",Tm)):t==="focusout"&&Em()}function oE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qo(Wn)}function uE(t,n){if(t==="click")return qo(n)}function cE(t,n){if(t==="input"||t==="change")return qo(n)}function fE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var ln=typeof Object.is=="function"?Object.is:fE;function rl(t,n){if(ln(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!Mr.call(n,f)||!ln(t[f],n[f]))return!1}return!0}function Am(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sm(t,n){var a=Am(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=n&&l>=n)return{node:a,offset:n-t};t=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Am(a)}}function bm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?bm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=qr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=qr(t.document)}return n}function Zc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var hE=On&&"documentMode"in document&&11>=document.documentMode,Pa=null,Wc=null,al=null,Jc=!1;function wm(t,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jc||Pa==null||Pa!==qr(l)||(l=Pa,"selectionStart"in l&&Zc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),al&&rl(al,l)||(al=l,l=Cu(Wc,"onSelect"),0<l.length&&(n=new Ia("onSelect","select",null,n,a),t.push({event:n,listeners:l}),n.target=Pa)))}function $r(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var ka={animationend:$r("Animation","AnimationEnd"),animationiteration:$r("Animation","AnimationIteration"),animationstart:$r("Animation","AnimationStart"),transitionrun:$r("Transition","TransitionRun"),transitionstart:$r("Transition","TransitionStart"),transitioncancel:$r("Transition","TransitionCancel"),transitionend:$r("Transition","TransitionEnd")},$c={},Cm={};On&&(Cm=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function ta(t){if($c[t])return $c[t];if(!ka[t])return t;var n=ka[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Cm)return $c[t]=n[a];return t}var Dm=ta("animationend"),Vm=ta("animationiteration"),Im=ta("animationstart"),dE=ta("transitionrun"),mE=ta("transitionstart"),gE=ta("transitioncancel"),Mm=ta("transitionend"),Nm=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function xn(t,n){Nm.set(t,n),Nn(n,[t])}var Om=new WeakMap;function Sn(t,n){if(typeof t=="object"&&t!==null){var a=Om.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Ca(n)},Om.set(t,n),n)}return{value:t,source:n,stack:Ca(n)}}var bn=[],Ba=0,ef=0;function jo(){for(var t=Ba,n=ef=Ba=0;n<t;){var a=bn[n];bn[n++]=null;var l=bn[n];bn[n++]=null;var f=bn[n];bn[n++]=null;var h=bn[n];if(bn[n++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}h!==0&&xm(a,f,h)}}function Go(t,n,a,l){bn[Ba++]=t,bn[Ba++]=n,bn[Ba++]=a,bn[Ba++]=l,ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function nf(t,n,a,l){return Go(t,n,a,l),Fo(t)}function Ha(t,n){return Go(t,null,null,n),Fo(t)}function xm(t,n,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,h=t.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&n!==null&&(f=31-He(a),t=h.hiddenUpdates,l=t[f],l===null?t[f]=[n]:l.push(n),n.lane=a|536870912),h):null}function Fo(t){if(50<Il)throw Il=0,uh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var qa={};function pE(t,n,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,n,a,l){return new pE(t,n,a,l)}function rf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Si(t,n){var a=t.alternate;return a===null?(a=on(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Lm(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Yo(t,n,a,l,f,h){var _=0;if(l=t,typeof t=="function")rf(t)&&(_=1);else if(typeof t=="string")_=vT(t,a,ht.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case C:return t=on(31,a,n,f),t.elementType=C,t.lanes=h,t;case Y:return ea(a.children,f,h,n);case J:_=8,f|=24;break;case W:return t=on(12,a,n,f|2),t.elementType=W,t.lanes=h,t;case mt:return t=on(13,a,n,f),t.elementType=mt,t.lanes=h,t;case St:return t=on(19,a,n,f),t.elementType=St,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rt:case lt:_=10;break t;case ot:_=9;break t;case At:_=11;break t;case N:_=14;break t;case b:_=16,l=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return n=on(_,a,n,f),n.elementType=t,n.type=l,n.lanes=h,n}function ea(t,n,a,l){return t=on(7,t,l,n),t.lanes=a,t}function af(t,n,a){return t=on(6,t,null,n),t.lanes=a,t}function sf(t,n,a){return n=on(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var ja=[],Ga=0,Qo=null,Xo=0,Rn=[],wn=0,na=null,bi=1,Ri="";function ia(t,n){ja[Ga++]=Xo,ja[Ga++]=Qo,Qo=t,Xo=n}function Um(t,n,a){Rn[wn++]=bi,Rn[wn++]=Ri,Rn[wn++]=na,na=t;var l=bi;t=Ri;var f=32-He(l)-1;l&=~(1<<f),a+=1;var h=32-He(n)+f;if(30<h){var _=f-f%5;h=(l&(1<<_)-1).toString(32),l>>=_,f-=_,bi=1<<32-He(n)+f|a<<f|l,Ri=h+t}else bi=1<<h|a<<f|l,Ri=t}function lf(t){t.return!==null&&(ia(t,1),Um(t,1,0))}function of(t){for(;t===Qo;)Qo=ja[--Ga],ja[Ga]=null,Xo=ja[--Ga],ja[Ga]=null;for(;t===na;)na=Rn[--wn],Rn[wn]=null,Ri=Rn[--wn],Rn[wn]=null,bi=Rn[--wn],Rn[wn]=null}var Ze=null,se=null,Pt=!1,ra=null,Jn=!1,uf=Error(s(519));function aa(t){var n=Error(s(418,""));throw ol(Sn(n,t)),uf}function zm(t){var n=t.stateNode,a=t.type,l=t.memoizedProps;switch(n[_e]=t,n[he]=l,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Vt(Nl[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),jr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Da(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Gr(n,l.value,l.defaultValue,l.children),Da(n)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||ty(n.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),l.onScroll!=null&&Vt("scroll",n),l.onScrollEnd!=null&&Vt("scrollend",n),l.onClick!=null&&(n.onclick=Du),n=!0):n=!1,n||aa(t)}function Pm(t){for(Ze=t.return;Ze;)switch(Ze.tag){case 5:case 13:Jn=!1;return;case 27:case 3:Jn=!0;return;default:Ze=Ze.return}}function sl(t){if(t!==Ze)return!1;if(!Pt)return Pm(t),Pt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Rh(t.type,t.memoizedProps)),a=!a),a&&se&&aa(t),Pm(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){se=Un(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}se=null}}else n===27?(n=se,cr(t.type)?(t=Vh,Vh=null,se=t):se=n):se=Ze?Un(t.stateNode.nextSibling):null;return!0}function ll(){se=Ze=null,Pt=!1}function km(){var t=ra;return t!==null&&(en===null?en=t:en.push.apply(en,t),ra=null),t}function ol(t){ra===null?ra=[t]:ra.push(t)}var cf=Z(null),sa=null,wi=null;function Ki(t,n,a){$(cf,n._currentValue),n._currentValue=a}function Ci(t){t._currentValue=cf.current,nt(cf)}function ff(t,n,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===a)break;t=t.return}}function hf(t,n,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var _=f.child;h=h.firstContext;t:for(;h!==null;){var T=h;h=f;for(var R=0;R<n.length;R++)if(T.context===n[R]){h.lanes|=a,T=h.alternate,T!==null&&(T.lanes|=a),ff(h.return,a,t),l||(_=null);break t}h=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,h=_.alternate,h!==null&&(h.lanes|=a),ff(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function ul(t,n,a,l){t=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=f.type;ln(f.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(f===we.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}f=f.return}t!==null&&hf(n,t,a,l),n.flags|=262144}function Ko(t){for(t=t.firstContext;t!==null;){if(!ln(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function la(t){sa=t,wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return Bm(sa,t)}function Zo(t,n){return sa===null&&la(t),Bm(t,n)}function Bm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},wi===null){if(t===null)throw Error(s(308));wi=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else wi=wi.next=n;return a}var yE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},vE=r.unstable_scheduleCallback,_E=r.unstable_NormalPriority,Ae={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new yE,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&vE(_E,function(){t.controller.abort()})}var fl=null,mf=0,Fa=0,Ya=null;function EE(t,n){if(fl===null){var a=fl=[];mf=0,Fa=ph(),Ya={status:"pending",value:void 0,then:function(l){a.push(l)}}}return mf++,n.then(Hm,Hm),n}function Hm(){if(--mf===0&&fl!==null){Ya!==null&&(Ya.status="fulfilled");var t=fl;fl=null,Fa=0,Ya=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function TE(t,n){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var qm=j.S;j.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&EE(t,n),qm!==null&&qm(t,n)};var oa=Z(null);function gf(){var t=oa.current;return t!==null?t:Wt.pooledCache}function Wo(t,n){n===null?$(oa,oa.current):$(oa,n.pool)}function jm(){var t=gf();return t===null?null:{parent:Ae._currentValue,pool:t}}var hl=Error(s(460)),Gm=Error(s(474)),Jo=Error(s(542)),pf={then:function(){}};function Fm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $o(){}function Ym(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then($o,$o),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xm(t),t;default:if(typeof n.status=="string")n.then($o,$o);else{if(t=Wt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Xm(t),t}throw dl=n,hl}}var dl=null;function Qm(){if(dl===null)throw Error(s(459));var t=dl;return dl=null,t}function Xm(t){if(t===hl||t===Jo)throw Error(s(483))}var Zi=!1;function yf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Wi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(t,n,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(jt&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=Fo(t),xm(t,null,a),n}return Go(t,l,n,a),Fo(t)}function ml(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qs(t,a)}}function _f(t,n){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=_:h=h.next=_,a=a.next}while(a!==null);h===null?f=h=n:h=h.next=n}else f=h=n;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Ef=!1;function gl(){if(Ef){var t=Ya;if(t!==null)throw t}}function pl(t,n,a,l){Ef=!1;var f=t.updateQueue;Zi=!1;var h=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var R=T,P=R.next;R.next=null,_===null?h=P:_.next=P,_=R;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=P:T.next=P,G.lastBaseUpdate=R))}if(h!==null){var Q=f.baseState;_=0,G=P=R=null,T=h;do{var k=T.lane&-536870913,H=k!==T.lane;if(H?(Ot&k)===k:(l&k)===k){k!==0&&k===Fa&&(Ef=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var pt=t,dt=T;k=n;var Xt=a;switch(dt.tag){case 1:if(pt=dt.payload,typeof pt=="function"){Q=pt.call(Xt,Q,k);break t}Q=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=dt.payload,k=typeof pt=="function"?pt.call(Xt,Q,k):pt,k==null)break t;Q=E({},Q,k);break t;case 2:Zi=!0}}k=T.callback,k!==null&&(t.flags|=64,H&&(t.flags|=8192),H=f.callbacks,H===null?f.callbacks=[k]:H.push(k))}else H={lane:k,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(P=G=H,R=Q):G=G.next=H,_|=k;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;H=T,T=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);G===null&&(R=Q),f.baseState=R,f.firstBaseUpdate=P,f.lastBaseUpdate=G,h===null&&(f.shared.lanes=0),sr|=_,t.lanes=_,t.memoizedState=Q}}function Km(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Zm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Km(a[t],n)}var Qa=Z(null),tu=Z(0);function Wm(t,n){t=xi,$(tu,t),$(Qa,n),xi=t|n.baseLanes}function Tf(){$(tu,xi),$(Qa,Qa.current)}function Af(){xi=tu.current,nt(Qa),nt(tu)}var $i=0,bt=null,Yt=null,me=null,eu=!1,Xa=!1,ua=!1,nu=0,yl=0,Ka=null,AE=0;function ue(){throw Error(s(321))}function Sf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!ln(t[a],n[a]))return!1;return!0}function bf(t,n,a,l,f,h){return $i=h,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,j.H=t===null||t.memoizedState===null?xg:Lg,ua=!1,h=a(l,f),ua=!1,Xa&&(h=$m(n,a,l,f)),Jm(t),h}function Jm(t){j.H=ou;var n=Yt!==null&&Yt.next!==null;if($i=0,me=Yt=bt=null,eu=!1,yl=0,Ka=null,n)throw Error(s(300));t===null||Ve||(t=t.dependencies,t!==null&&Ko(t)&&(Ve=!0))}function $m(t,n,a,l){bt=t;var f=0;do{if(Xa&&(Ka=null),yl=0,Xa=!1,25<=f)throw Error(s(301));if(f+=1,me=Yt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}j.H=VE,h=n(a,l)}while(Xa);return h}function SE(){var t=j.H,n=t.useState()[0];return n=typeof n.then=="function"?vl(n):n,t=t.useState()[0],(Yt!==null?Yt.memoizedState:null)!==t&&(bt.flags|=1024),n}function Rf(){var t=nu!==0;return nu=0,t}function wf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function Cf(t){if(eu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}eu=!1}$i=0,me=Yt=bt=null,Xa=!1,yl=nu=0,Ka=null}function $e(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?bt.memoizedState=me=t:me=me.next=t,me}function ge(){if(Yt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var n=me===null?bt.memoizedState:me.next;if(n!==null)me=n,Yt=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},me===null?bt.memoizedState=me=t:me=me.next=t}return me}function Df(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vl(t){var n=yl;return yl+=1,Ka===null&&(Ka=[]),t=Ym(Ka,t,n),n=bt,(me===null?n.memoizedState:me.next)===null&&(n=n.alternate,j.H=n===null||n.memoizedState===null?xg:Lg),t}function iu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return vl(t);if(t.$$typeof===lt)return qe(t)}throw Error(s(438,String(t)))}function Vf(t){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=bt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Df(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),l=0;l<t;l++)a[l]=M;return n.index++,a}function Di(t,n){return typeof n=="function"?n(t):n}function ru(t){var n=ge();return If(n,Yt,t)}function If(t,n,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,h=l.pending;if(h!==null){if(f!==null){var _=f.next;f.next=h.next,h.next=_}n.baseQueue=f=h,l.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{n=f.next;var T=_=null,R=null,P=n,G=!1;do{var Q=P.lane&-536870913;if(Q!==P.lane?(Ot&Q)===Q:($i&Q)===Q){var k=P.revertLane;if(k===0)R!==null&&(R=R.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Q===Fa&&(G=!0);else if(($i&k)===k){P=P.next,k===Fa&&(G=!0);continue}else Q={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=Q,_=h):R=R.next=Q,bt.lanes|=k,sr|=k;Q=P.action,ua&&a(h,Q),h=P.hasEagerState?P.eagerState:a(h,Q)}else k={lane:Q,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=k,_=h):R=R.next=k,bt.lanes|=Q,sr|=Q;P=P.next}while(P!==null&&P!==n);if(R===null?_=h:R.next=T,!ln(h,t.memoizedState)&&(Ve=!0,G&&(a=Ya,a!==null)))throw a;t.memoizedState=h,t.baseState=_,t.baseQueue=R,l.lastRenderedState=h}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Mf(t){var n=ge(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,h=n.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do h=t(h,_.action),_=_.next;while(_!==f);ln(h,n.memoizedState)||(Ve=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function tg(t,n,a){var l=bt,f=ge(),h=Pt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!ln((Yt||f).memoizedState,a);_&&(f.memoizedState=a,Ve=!0),f=f.queue;var T=ig.bind(null,l,f,t);if(_l(2048,8,T,[t]),f.getSnapshot!==n||_||me!==null&&me.memoizedState.tag&1){if(l.flags|=2048,Za(9,au(),ng.bind(null,l,f,a,n),null),Wt===null)throw Error(s(349));h||($i&124)!==0||eg(l,n,a)}return a}function eg(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=Df(),bt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function ng(t,n,a,l){n.value=a,n.getSnapshot=l,rg(n)&&ag(t)}function ig(t,n,a){return a(function(){rg(n)&&ag(t)})}function rg(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!ln(t,a)}catch{return!0}}function ag(t){var n=Ha(t,2);n!==null&&dn(n,t,2)}function Nf(t){var n=$e();if(typeof t=="function"){var a=t;if(t=a(),ua){an(!0);try{a()}finally{an(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:t},n}function sg(t,n,a,l){return t.baseState=a,If(t,Yt,typeof l=="function"?l:Di)}function bE(t,n,a,l,f){if(lu(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};j.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,lg(n,h)):(h.next=a.next,n.pending=a.next=h)}}function lg(t,n){var a=n.action,l=n.payload,f=t.state;if(n.isTransition){var h=j.T,_={};j.T=_;try{var T=a(f,l),R=j.S;R!==null&&R(_,T),og(t,n,T)}catch(P){Of(t,n,P)}finally{j.T=h}}else try{h=a(f,l),og(t,n,h)}catch(P){Of(t,n,P)}}function og(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){ug(t,n,l)},function(l){return Of(t,n,l)}):ug(t,n,a)}function ug(t,n,a){n.status="fulfilled",n.value=a,cg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,lg(t,a)))}function Of(t,n,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,cg(n),n=n.next;while(n!==l)}t.action=null}function cg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function fg(t,n){return n}function hg(t,n){if(Pt){var a=Wt.formState;if(a!==null){t:{var l=bt;if(Pt){if(se){e:{for(var f=se,h=Jn;f.nodeType!==8;){if(!h){f=null;break e}if(f=Un(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){se=Un(f.nextSibling),l=f.data==="F!";break t}}aa(l)}l=!1}l&&(n=a[0])}}return a=$e(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fg,lastRenderedState:n},a.queue=l,a=Mg.bind(null,bt,l),l.dispatch=a,l=Nf(!1),h=Pf.bind(null,bt,!1,l.queue),l=$e(),f={state:n,dispatch:null,action:t,pending:null},l.queue=f,a=bE.bind(null,bt,f,h,a),f.dispatch=a,l.memoizedState=t,[n,a,!1]}function dg(t){var n=ge();return mg(n,Yt,t)}function mg(t,n,a){if(n=If(t,n,fg)[0],t=ru(Di)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=vl(n)}catch(_){throw _===hl?Jo:_}else l=n;n=ge();var f=n.queue,h=f.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,Za(9,au(),RE.bind(null,f,a),null)),[l,h,t]}function RE(t,n){t.action=n}function gg(t){var n=ge(),a=Yt;if(a!==null)return mg(n,a,t);ge(),n=n.memoizedState,a=ge();var l=a.queue.dispatch;return a.memoizedState=t,[n,l,!1]}function Za(t,n,a,l){return t={tag:t,create:a,deps:l,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Df(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,n.lastEffect=t),t}function au(){return{destroy:void 0,resource:void 0}}function pg(){return ge().memoizedState}function su(t,n,a,l){var f=$e();l=l===void 0?null:l,bt.flags|=t,f.memoizedState=Za(1|n,au(),a,l)}function _l(t,n,a,l){var f=ge();l=l===void 0?null:l;var h=f.memoizedState.inst;Yt!==null&&l!==null&&Sf(l,Yt.memoizedState.deps)?f.memoizedState=Za(n,h,a,l):(bt.flags|=t,f.memoizedState=Za(1|n,h,a,l))}function yg(t,n){su(8390656,8,t,n)}function vg(t,n){_l(2048,8,t,n)}function _g(t,n){return _l(4,2,t,n)}function Eg(t,n){return _l(4,4,t,n)}function Tg(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Ag(t,n,a){a=a!=null?a.concat([t]):null,_l(4,4,Tg.bind(null,n,t),a)}function xf(){}function Sg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Sf(n,l[1])?l[0]:(a.memoizedState=[t,n],t)}function bg(t,n){var a=ge();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Sf(n,l[1]))return l[0];if(l=t(),ua){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l}function Lf(t,n,a){return a===void 0||($i&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Cp(),bt.lanes|=t,sr|=t,a)}function Rg(t,n,a,l){return ln(a,n)?a:Qa.current!==null?(t=Lf(t,a,l),ln(t,n)||(Ve=!0),t):($i&42)===0?(Ve=!0,t.memoizedState=a):(t=Cp(),bt.lanes|=t,sr|=t,n)}function wg(t,n,a,l,f){var h=et.p;et.p=h!==0&&8>h?h:8;var _=j.T,T={};j.T=T,Pf(t,!1,n,a);try{var R=f(),P=j.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var G=TE(R,l);El(t,n,G,hn(t))}else El(t,n,l,hn(t))}catch(Q){El(t,n,{then:function(){},status:"rejected",reason:Q},hn())}finally{et.p=h,j.T=_}}function wE(){}function Uf(t,n,a,l){if(t.tag!==5)throw Error(s(476));var f=Cg(t).queue;wg(t,f,n,ct,a===null?wE:function(){return Dg(t),a(l)})}function Cg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ct,baseState:ct,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:ct},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Di,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Dg(t){var n=Cg(t).next.queue;El(t,n,{},hn())}function zf(){return qe(Pl)}function Vg(){return ge().memoizedState}function Ig(){return ge().memoizedState}function CE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=hn();t=Wi(a);var l=Ji(n,t,a);l!==null&&(dn(l,n,a),ml(l,n,a)),n={cache:df()},t.payload=n;return}n=n.return}}function DE(t,n,a){var l=hn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lu(t)?Ng(n,a):(a=nf(t,n,a,l),a!==null&&(dn(a,t,l),Og(a,n,l)))}function Mg(t,n,a){var l=hn();El(t,n,a,l)}function El(t,n,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lu(t))Ng(n,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var _=n.lastRenderedState,T=h(_,a);if(f.hasEagerState=!0,f.eagerState=T,ln(T,_))return Go(t,n,f,0),Wt===null&&jo(),!1}catch{}finally{}if(a=nf(t,n,f,l),a!==null)return dn(a,t,l),Og(a,n,l),!0}return!1}function Pf(t,n,a,l){if(l={lane:2,revertLane:ph(),action:l,hasEagerState:!1,eagerState:null,next:null},lu(t)){if(n)throw Error(s(479))}else n=nf(t,a,l,2),n!==null&&dn(n,t,2)}function lu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function Ng(t,n){Xa=eu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function Og(t,n,a){if((a&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,a|=l,n.lanes=a,qs(t,a)}}var ou={readContext:qe,use:iu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},xg={readContext:qe,use:iu,useCallback:function(t,n){return $e().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:yg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,su(4194308,4,Tg.bind(null,n,t),a)},useLayoutEffect:function(t,n){return su(4194308,4,t,n)},useInsertionEffect:function(t,n){su(4,2,t,n)},useMemo:function(t,n){var a=$e();n=n===void 0?null:n;var l=t();if(ua){an(!0);try{t()}finally{an(!1)}}return a.memoizedState=[l,n],l},useReducer:function(t,n,a){var l=$e();if(a!==void 0){var f=a(n);if(ua){an(!0);try{a(n)}finally{an(!1)}}}else f=n;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=DE.bind(null,bt,t),[l.memoizedState,t]},useRef:function(t){var n=$e();return t={current:t},n.memoizedState=t},useState:function(t){t=Nf(t);var n=t.queue,a=Mg.bind(null,bt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:xf,useDeferredValue:function(t,n){var a=$e();return Lf(a,t,n)},useTransition:function(){var t=Nf(!1);return t=wg.bind(null,bt,t.queue,!0,!1),$e().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var l=bt,f=$e();if(Pt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Wt===null)throw Error(s(349));(Ot&124)!==0||eg(l,n,a)}f.memoizedState=a;var h={value:a,getSnapshot:n};return f.queue=h,yg(ig.bind(null,l,h,t),[t]),l.flags|=2048,Za(9,au(),ng.bind(null,l,h,a,n),null),a},useId:function(){var t=$e(),n=Wt.identifierPrefix;if(Pt){var a=Ri,l=bi;a=(l&~(1<<32-He(l)-1)).toString(32)+a,n="«"+n+"R"+a,a=nu++,0<a&&(n+="H"+a.toString(32)),n+="»"}else a=AE++,n="«"+n+"r"+a.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:zf,useFormState:hg,useActionState:hg,useOptimistic:function(t){var n=$e();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Pf.bind(null,bt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Vf,useCacheRefresh:function(){return $e().memoizedState=CE.bind(null,bt)}},Lg={readContext:qe,use:iu,useCallback:Sg,useContext:qe,useEffect:vg,useImperativeHandle:Ag,useInsertionEffect:_g,useLayoutEffect:Eg,useMemo:bg,useReducer:ru,useRef:pg,useState:function(){return ru(Di)},useDebugValue:xf,useDeferredValue:function(t,n){var a=ge();return Rg(a,Yt.memoizedState,t,n)},useTransition:function(){var t=ru(Di)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:tg,useId:Vg,useHostTransitionStatus:zf,useFormState:dg,useActionState:dg,useOptimistic:function(t,n){var a=ge();return sg(a,Yt,t,n)},useMemoCache:Vf,useCacheRefresh:Ig},VE={readContext:qe,use:iu,useCallback:Sg,useContext:qe,useEffect:vg,useImperativeHandle:Ag,useInsertionEffect:_g,useLayoutEffect:Eg,useMemo:bg,useReducer:Mf,useRef:pg,useState:function(){return Mf(Di)},useDebugValue:xf,useDeferredValue:function(t,n){var a=ge();return Yt===null?Lf(a,t,n):Rg(a,Yt.memoizedState,t,n)},useTransition:function(){var t=Mf(Di)[0],n=ge().memoizedState;return[typeof t=="boolean"?t:vl(t),n]},useSyncExternalStore:tg,useId:Vg,useHostTransitionStatus:zf,useFormState:gg,useActionState:gg,useOptimistic:function(t,n){var a=ge();return Yt!==null?sg(a,Yt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Vf,useCacheRefresh:Ig},Wa=null,Tl=0;function uu(t){var n=Tl;return Tl+=1,Wa===null&&(Wa=[]),Ym(Wa,t,n)}function Al(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function cu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Ug(t){var n=t._init;return n(t._payload)}function zg(t){function n(x,I){if(t){var z=x.deletions;z===null?(x.deletions=[I],x.flags|=16):z.push(I)}}function a(x,I){if(!t)return null;for(;I!==null;)n(x,I),I=I.sibling;return null}function l(x){for(var I=new Map;x!==null;)x.key!==null?I.set(x.key,x):I.set(x.index,x),x=x.sibling;return I}function f(x,I){return x=Si(x,I),x.index=0,x.sibling=null,x}function h(x,I,z){return x.index=z,t?(z=x.alternate,z!==null?(z=z.index,z<I?(x.flags|=67108866,I):z):(x.flags|=67108866,I)):(x.flags|=1048576,I)}function _(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function T(x,I,z,F){return I===null||I.tag!==6?(I=af(z,x.mode,F),I.return=x,I):(I=f(I,z),I.return=x,I)}function R(x,I,z,F){var at=z.type;return at===Y?G(x,I,z.props.children,F,z.key):I!==null&&(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Ug(at)===I.type)?(I=f(I,z.props),Al(I,z),I.return=x,I):(I=Yo(z.type,z.key,z.props,null,x.mode,F),Al(I,z),I.return=x,I)}function P(x,I,z,F){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=sf(z,x.mode,F),I.return=x,I):(I=f(I,z.children||[]),I.return=x,I)}function G(x,I,z,F,at){return I===null||I.tag!==7?(I=ea(z,x.mode,F,at),I.return=x,I):(I=f(I,z),I.return=x,I)}function Q(x,I,z){if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return I=af(""+I,x.mode,z),I.return=x,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case D:return z=Yo(I.type,I.key,I.props,null,x.mode,z),Al(z,I),z.return=x,z;case B:return I=sf(I,x.mode,z),I.return=x,I;case b:var F=I._init;return I=F(I._payload),Q(x,I,z)}if(re(I)||L(I))return I=ea(I,x.mode,z,null),I.return=x,I;if(typeof I.then=="function")return Q(x,uu(I),z);if(I.$$typeof===lt)return Q(x,Zo(x,I),z);cu(x,I)}return null}function k(x,I,z,F){var at=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return at!==null?null:T(x,I,""+z,F);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case D:return z.key===at?R(x,I,z,F):null;case B:return z.key===at?P(x,I,z,F):null;case b:return at=z._init,z=at(z._payload),k(x,I,z,F)}if(re(z)||L(z))return at!==null?null:G(x,I,z,F,null);if(typeof z.then=="function")return k(x,I,uu(z),F);if(z.$$typeof===lt)return k(x,I,Zo(x,z),F);cu(x,z)}return null}function H(x,I,z,F,at){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(z)||null,T(I,x,""+F,at);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case D:return x=x.get(F.key===null?z:F.key)||null,R(I,x,F,at);case B:return x=x.get(F.key===null?z:F.key)||null,P(I,x,F,at);case b:var Ct=F._init;return F=Ct(F._payload),H(x,I,z,F,at)}if(re(F)||L(F))return x=x.get(z)||null,G(I,x,F,at,null);if(typeof F.then=="function")return H(x,I,z,uu(F),at);if(F.$$typeof===lt)return H(x,I,z,Zo(I,F),at);cu(I,F)}return null}function pt(x,I,z,F){for(var at=null,Ct=null,ut=I,gt=I=0,Me=null;ut!==null&&gt<z.length;gt++){ut.index>gt?(Me=ut,ut=null):Me=ut.sibling;var Ut=k(x,ut,z[gt],F);if(Ut===null){ut===null&&(ut=Me);break}t&&ut&&Ut.alternate===null&&n(x,ut),I=h(Ut,I,gt),Ct===null?at=Ut:Ct.sibling=Ut,Ct=Ut,ut=Me}if(gt===z.length)return a(x,ut),Pt&&ia(x,gt),at;if(ut===null){for(;gt<z.length;gt++)ut=Q(x,z[gt],F),ut!==null&&(I=h(ut,I,gt),Ct===null?at=ut:Ct.sibling=ut,Ct=ut);return Pt&&ia(x,gt),at}for(ut=l(ut);gt<z.length;gt++)Me=H(ut,x,gt,z[gt],F),Me!==null&&(t&&Me.alternate!==null&&ut.delete(Me.key===null?gt:Me.key),I=h(Me,I,gt),Ct===null?at=Me:Ct.sibling=Me,Ct=Me);return t&&ut.forEach(function(gr){return n(x,gr)}),Pt&&ia(x,gt),at}function dt(x,I,z,F){if(z==null)throw Error(s(151));for(var at=null,Ct=null,ut=I,gt=I=0,Me=null,Ut=z.next();ut!==null&&!Ut.done;gt++,Ut=z.next()){ut.index>gt?(Me=ut,ut=null):Me=ut.sibling;var gr=k(x,ut,Ut.value,F);if(gr===null){ut===null&&(ut=Me);break}t&&ut&&gr.alternate===null&&n(x,ut),I=h(gr,I,gt),Ct===null?at=gr:Ct.sibling=gr,Ct=gr,ut=Me}if(Ut.done)return a(x,ut),Pt&&ia(x,gt),at;if(ut===null){for(;!Ut.done;gt++,Ut=z.next())Ut=Q(x,Ut.value,F),Ut!==null&&(I=h(Ut,I,gt),Ct===null?at=Ut:Ct.sibling=Ut,Ct=Ut);return Pt&&ia(x,gt),at}for(ut=l(ut);!Ut.done;gt++,Ut=z.next())Ut=H(ut,x,gt,Ut.value,F),Ut!==null&&(t&&Ut.alternate!==null&&ut.delete(Ut.key===null?gt:Ut.key),I=h(Ut,I,gt),Ct===null?at=Ut:Ct.sibling=Ut,Ct=Ut);return t&&ut.forEach(function(IT){return n(x,IT)}),Pt&&ia(x,gt),at}function Xt(x,I,z,F){if(typeof z=="object"&&z!==null&&z.type===Y&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case D:t:{for(var at=z.key;I!==null;){if(I.key===at){if(at=z.type,at===Y){if(I.tag===7){a(x,I.sibling),F=f(I,z.props.children),F.return=x,x=F;break t}}else if(I.elementType===at||typeof at=="object"&&at!==null&&at.$$typeof===b&&Ug(at)===I.type){a(x,I.sibling),F=f(I,z.props),Al(F,z),F.return=x,x=F;break t}a(x,I);break}else n(x,I);I=I.sibling}z.type===Y?(F=ea(z.props.children,x.mode,F,z.key),F.return=x,x=F):(F=Yo(z.type,z.key,z.props,null,x.mode,F),Al(F,z),F.return=x,x=F)}return _(x);case B:t:{for(at=z.key;I!==null;){if(I.key===at)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){a(x,I.sibling),F=f(I,z.children||[]),F.return=x,x=F;break t}else{a(x,I);break}else n(x,I);I=I.sibling}F=sf(z,x.mode,F),F.return=x,x=F}return _(x);case b:return at=z._init,z=at(z._payload),Xt(x,I,z,F)}if(re(z))return pt(x,I,z,F);if(L(z)){if(at=L(z),typeof at!="function")throw Error(s(150));return z=at.call(z),dt(x,I,z,F)}if(typeof z.then=="function")return Xt(x,I,uu(z),F);if(z.$$typeof===lt)return Xt(x,I,Zo(x,z),F);cu(x,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,I!==null&&I.tag===6?(a(x,I.sibling),F=f(I,z),F.return=x,x=F):(a(x,I),F=af(z,x.mode,F),F.return=x,x=F),_(x)):a(x,I)}return function(x,I,z,F){try{Tl=0;var at=Xt(x,I,z,F);return Wa=null,at}catch(ut){if(ut===hl||ut===Jo)throw ut;var Ct=on(29,ut,null,x.mode);return Ct.lanes=F,Ct.return=x,Ct}finally{}}}var Ja=zg(!0),Pg=zg(!1),Cn=Z(null),$n=null;function tr(t){var n=t.alternate;$(Se,Se.current&1),$(Cn,t),$n===null&&(n===null||Qa.current!==null||n.memoizedState!==null)&&($n=t)}function kg(t){if(t.tag===22){if($(Se,Se.current),$(Cn,t),$n===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&($n=t)}}else er()}function er(){$(Se,Se.current),$(Cn,Cn.current)}function Vi(t){nt(Cn),$n===t&&($n=null),nt(Se)}var Se=Z(0);function fu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Dh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function kf(t,n,a,l){n=t.memoizedState,a=a(l,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bf={enqueueSetState:function(t,n,a){t=t._reactInternals;var l=hn(),f=Wi(l);f.payload=n,a!=null&&(f.callback=a),n=Ji(t,f,l),n!==null&&(dn(n,t,l),ml(n,t,l))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var l=hn(),f=Wi(l);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=Ji(t,f,l),n!==null&&(dn(n,t,l),ml(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=hn(),l=Wi(a);l.tag=2,n!=null&&(l.callback=n),n=Ji(t,l,a),n!==null&&(dn(n,t,a),ml(n,t,a))}};function Bg(t,n,a,l,f,h,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,h,_):n.prototype&&n.prototype.isPureReactComponent?!rl(a,l)||!rl(f,h):!0}function Hg(t,n,a,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==t&&Bf.enqueueReplaceState(n,n.state,null)}function ca(t,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var hu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function qg(t){hu(t)}function jg(t){console.error(t)}function Gg(t){hu(t)}function du(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Fg(t,n,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Hf(t,n,a){return a=Wi(a),a.tag=3,a.payload={element:null},a.callback=function(){du(t,n)},a}function Yg(t){return t=Wi(t),t.tag=3,t}function Qg(t,n,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=l.value;t.payload=function(){return f(h)},t.callback=function(){Fg(n,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Fg(n,a,l),typeof f!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function IE(t,n,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ul(n,a,f,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return $n===null?fh():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===pf?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),dh(t,l,f)),!1;case 22:return a.flags|=65536,l===pf?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),dh(t,l,f)),!1}throw Error(s(435,a.tag))}return dh(t,l,f),fh(),!1}if(Pt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==uf&&(t=Error(s(422),{cause:l}),ol(Sn(t,a)))):(l!==uf&&(n=Error(s(423),{cause:l}),ol(Sn(n,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Sn(l,a),f=Hf(t.stateNode,l,f),_f(t,f),le!==4&&(le=2)),!1;var h=Error(s(520),{cause:l});if(h=Sn(h,a),Vl===null?Vl=[h]:Vl.push(h),le!==4&&(le=2),n===null)return!0;l=Sn(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Hf(a.stateNode,l,t),_f(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(lr===null||!lr.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Yg(f),Qg(f,t,a,l),_f(a,f),!1}a=a.return}while(a!==null);return!1}var Xg=Error(s(461)),Ve=!1;function Le(t,n,a,l){n.child=t===null?Pg(n,null,a,l):Ja(n,t.child,a,l)}function Kg(t,n,a,l,f){a=a.render;var h=n.ref;if("ref"in l){var _={};for(var T in l)T!=="ref"&&(_[T]=l[T])}else _=l;return la(n),l=bf(t,n,a,_,h,f),T=Rf(),t!==null&&!Ve?(wf(t,n,f),Ii(t,n,f)):(Pt&&T&&lf(n),n.flags|=1,Le(t,n,l,f),n.child)}function Zg(t,n,a,l,f){if(t===null){var h=a.type;return typeof h=="function"&&!rf(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Wg(t,n,h,l,f)):(t=Yo(a.type,null,l,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Kf(t,f)){var _=h.memoizedProps;if(a=a.compare,a=a!==null?a:rl,a(_,l)&&t.ref===n.ref)return Ii(t,n,f)}return n.flags|=1,t=Si(h,l),t.ref=n.ref,t.return=n,n.child=t}function Wg(t,n,a,l,f){if(t!==null){var h=t.memoizedProps;if(rl(h,l)&&t.ref===n.ref)if(Ve=!1,n.pendingProps=l=h,Kf(t,f))(t.flags&131072)!==0&&(Ve=!0);else return n.lanes=t.lanes,Ii(t,n,f)}return qf(t,n,a,l,f)}function Jg(t,n,a){var l=n.pendingProps,f=l.children,h=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=h!==null?h.baseLanes|a:a,t!==null){for(f=n.child=t.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;n.childLanes=h&~l}else n.childLanes=0,n.child=null;return $g(t,n,l,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wo(n,h!==null?h.cachePool:null),h!==null?Wm(n,h):Tf(),kg(n);else return n.lanes=n.childLanes=536870912,$g(t,n,h!==null?h.baseLanes|a:a,a)}else h!==null?(Wo(n,h.cachePool),Wm(n,h),er(),n.memoizedState=null):(t!==null&&Wo(n,null),Tf(),er());return Le(t,n,f,a),n.child}function $g(t,n,a,l){var f=gf();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Wo(n,null),Tf(),kg(n),t!==null&&ul(t,n,l,!0),null}function mu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function qf(t,n,a,l,f){return la(n),a=bf(t,n,a,l,void 0,f),l=Rf(),t!==null&&!Ve?(wf(t,n,f),Ii(t,n,f)):(Pt&&l&&lf(n),n.flags|=1,Le(t,n,a,f),n.child)}function tp(t,n,a,l,f,h){return la(n),n.updateQueue=null,a=$m(n,l,a,f),Jm(t),l=Rf(),t!==null&&!Ve?(wf(t,n,h),Ii(t,n,h)):(Pt&&l&&lf(n),n.flags|=1,Le(t,n,a,h),n.child)}function ep(t,n,a,l,f){if(la(n),n.stateNode===null){var h=qa,_=a.contextType;typeof _=="object"&&_!==null&&(h=qe(_)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=Bf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},yf(n),_=a.contextType,h.context=typeof _=="object"&&_!==null?qe(_):qa,h.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(kf(n,a,_,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&Bf.enqueueReplaceState(h,h.state,null),pl(n,l,h,f),gl(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){h=n.stateNode;var T=n.memoizedProps,R=ca(a,T);h.props=R;var P=h.context,G=a.contextType;_=qa,typeof G=="object"&&G!==null&&(_=qe(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||P!==_)&&Hg(n,h,l,_),Zi=!1;var k=n.memoizedState;h.state=k,pl(n,l,h,f),gl(),P=n.memoizedState,T||k!==P||Zi?(typeof Q=="function"&&(kf(n,a,Q,l),P=n.memoizedState),(R=Zi||Bg(n,a,R,l,k,P,_))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),h.props=l,h.state=P,h.context=_,l=R):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,vf(t,n),_=n.memoizedProps,G=ca(a,_),h.props=G,Q=n.pendingProps,k=h.context,P=a.contextType,R=qa,typeof P=="object"&&P!==null&&(R=qe(P)),T=a.getDerivedStateFromProps,(P=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==Q||k!==R)&&Hg(n,h,l,R),Zi=!1,k=n.memoizedState,h.state=k,pl(n,l,h,f),gl();var H=n.memoizedState;_!==Q||k!==H||Zi||t!==null&&t.dependencies!==null&&Ko(t.dependencies)?(typeof T=="function"&&(kf(n,a,T,l),H=n.memoizedState),(G=Zi||Bg(n,a,G,l,k,H,R)||t!==null&&t.dependencies!==null&&Ko(t.dependencies))?(P||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,H,R),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,H,R)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=H),h.props=l,h.state=H,h.context=R,l=G):(typeof h.componentDidUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&k===t.memoizedState||(n.flags|=1024),l=!1)}return h=l,mu(t,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&l?(n.child=Ja(n,t.child,null,f),n.child=Ja(n,null,a,f)):Le(t,n,a,f),n.memoizedState=h.state,t=n.child):t=Ii(t,n,f),t}function np(t,n,a,l){return ll(),n.flags|=256,Le(t,n,a,l),n.child}var jf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(t){return{baseLanes:t,cachePool:jm()}}function Ff(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=Dn),t}function ip(t,n,a){var l=n.pendingProps,f=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=t!==null&&t.memoizedState===null?!1:(Se.current&2)!==0),_&&(f=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(f?tr(n):er(),Pt){var T=se,R;if(R=T){t:{for(R=T,T=Jn;R.nodeType!==8;){if(!T){T=null;break t}if(R=Un(R.nextSibling),R===null){T=null;break t}}T=R}T!==null?(n.memoizedState={dehydrated:T,treeContext:na!==null?{id:bi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},R=on(18,null,null,0),R.stateNode=T,R.return=n,n.child=R,Ze=n,se=null,R=!0):R=!1}R||aa(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Dh(T)?n.lanes=32:n.lanes=536870912,null;Vi(n)}return T=l.children,l=l.fallback,f?(er(),f=n.mode,T=gu({mode:"hidden",children:T},f),l=ea(l,f,a,null),T.return=n,l.return=n,T.sibling=l,n.child=T,f=n.child,f.memoizedState=Gf(a),f.childLanes=Ff(t,_,a),n.memoizedState=jf,l):(tr(n),Yf(n,T))}if(R=t.memoizedState,R!==null&&(T=R.dehydrated,T!==null)){if(h)n.flags&256?(tr(n),n.flags&=-257,n=Qf(t,n,a)):n.memoizedState!==null?(er(),n.child=t.child,n.flags|=128,n=null):(er(),f=l.fallback,T=n.mode,l=gu({mode:"visible",children:l.children},T),f=ea(f,T,a,null),f.flags|=2,l.return=n,f.return=n,l.sibling=f,n.child=l,Ja(n,t.child,null,a),l=n.child,l.memoizedState=Gf(a),l.childLanes=Ff(t,_,a),n.memoizedState=jf,n=f);else if(tr(n),Dh(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var P=_.dgst;_=P,l=Error(s(419)),l.stack="",l.digest=_,ol({value:l,source:null,stack:null}),n=Qf(t,n,a)}else if(Ve||ul(t,n,a,!1),_=(a&t.childLanes)!==0,Ve||_){if(_=Wt,_!==null&&(l=a&-a,l=(l&42)!==0?1:qi(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==R.retryLane))throw R.retryLane=l,Ha(t,l),dn(_,t,l),Xg;T.data==="$?"||fh(),n=Qf(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=R.treeContext,se=Un(T.nextSibling),Ze=n,Pt=!0,ra=null,Jn=!1,t!==null&&(Rn[wn++]=bi,Rn[wn++]=Ri,Rn[wn++]=na,bi=t.id,Ri=t.overflow,na=n),n=Yf(n,l.children),n.flags|=4096);return n}return f?(er(),f=l.fallback,T=n.mode,R=t.child,P=R.sibling,l=Si(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?f=Si(P,f):(f=ea(f,T,a,null),f.flags|=2),f.return=n,l.return=n,l.sibling=f,n.child=l,l=f,f=n.child,T=t.child.memoizedState,T===null?T=Gf(a):(R=T.cachePool,R!==null?(P=Ae._currentValue,R=R.parent!==P?{parent:P,pool:P}:R):R=jm(),T={baseLanes:T.baseLanes|a,cachePool:R}),f.memoizedState=T,f.childLanes=Ff(t,_,a),n.memoizedState=jf,l):(tr(n),a=t.child,t=a.sibling,a=Si(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Yf(t,n){return n=gu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function gu(t,n){return t=on(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Qf(t,n,a){return Ja(n,t.child,null,a),t=Yf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function rp(t,n,a){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),ff(t.return,n,a)}function Xf(t,n,a,l,f){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=a,h.tailMode=f)}function ap(t,n,a){var l=n.pendingProps,f=l.revealOrder,h=l.tail;if(Le(t,n,l.children,a),l=Se.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rp(t,a,n);else if(t.tag===19)rp(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Se,l),f){case"forwards":for(a=n.child,f=null;a!==null;)t=a.alternate,t!==null&&fu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),Xf(n,!1,f,a,h);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&fu(t)===null){n.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Xf(n,!0,a,null,h);break;case"together":Xf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ii(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),sr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(ul(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=Si(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=Si(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Kf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Ko(t)))}function ME(t,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),Ki(n,Ae,t.memoizedState.cache),ll();break;case 27:case 5:Hi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:Ki(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(tr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?ip(t,n,a):(tr(n),t=Ii(t,n,a),t!==null?t.sibling:null);tr(n);break;case 19:var f=(t.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ul(t,n,a,!1),l=(a&n.childLanes)!==0),f){if(l)return ap(t,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,Jg(t,n,a);case 24:Ki(n,Ae,t.memoizedState.cache)}return Ii(t,n,a)}function sp(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Kf(t,a)&&(n.flags&128)===0)return Ve=!1,ME(t,n,a);Ve=(t.flags&131072)!==0}else Ve=!1,Pt&&(n.flags&1048576)!==0&&Um(n,Xo,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,f=l._init;if(l=f(l._payload),n.type=l,typeof l=="function")rf(l)?(t=ca(l,t),n.tag=1,n=ep(null,n,l,t,a)):(n.tag=0,n=qf(null,n,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===At){n.tag=11,n=Kg(null,n,l,t,a);break t}else if(f===N){n.tag=14,n=Zg(null,n,l,t,a);break t}}throw n=ve(l)||l,Error(s(306,n,""))}}return n;case 0:return qf(t,n,n.type,n.pendingProps,a);case 1:return l=n.type,f=ca(l,n.pendingProps),ep(t,n,l,f,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));l=n.pendingProps;var h=n.memoizedState;f=h.element,vf(t,n),pl(n,l,null,a);var _=n.memoizedState;if(l=_.cache,Ki(n,Ae,l),l!==h.cache&&hf(n,[Ae],a,!0),gl(),l=_.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=np(t,n,l,a);break t}else if(l!==f){f=Sn(Error(s(424)),n),ol(f),n=np(t,n,l,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(se=Un(t.firstChild),Ze=n,Pt=!0,ra=null,Jn=!0,a=Pg(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ll(),l===f){n=Ii(t,n,a);break t}Le(t,n,l,a)}n=n.child}return n;case 26:return mu(t,n),t===null?(a=cy(n.type,null,n.pendingProps,null))?n.memoizedState=a:Pt||(a=n.type,t=n.pendingProps,l=Vu(vt.current).createElement(a),l[_e]=n,l[he]=t,ze(l,a,t),oe(l),n.stateNode=l):n.memoizedState=cy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Hi(n),t===null&&Pt&&(l=n.stateNode=ly(n.type,n.pendingProps,vt.current),Ze=n,Jn=!0,f=se,cr(n.type)?(Vh=f,se=Un(l.firstChild)):se=f),Le(t,n,n.pendingProps.children,a),mu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((f=l=se)&&(l=aT(l,n.type,n.pendingProps,Jn),l!==null?(n.stateNode=l,Ze=n,se=Un(l.firstChild),Jn=!1,f=!0):f=!1),f||aa(n)),Hi(n),f=n.type,h=n.pendingProps,_=t!==null?t.memoizedProps:null,l=h.children,Rh(f,h)?l=null:_!==null&&Rh(f,_)&&(n.flags|=32),n.memoizedState!==null&&(f=bf(t,n,SE,null,null,a),Pl._currentValue=f),mu(t,n),Le(t,n,l,a),n.child;case 6:return t===null&&Pt&&((t=a=se)&&(a=sT(a,n.pendingProps,Jn),a!==null?(n.stateNode=a,Ze=n,se=null,t=!0):t=!1),t||aa(n)),null;case 13:return ip(t,n,a);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ja(n,null,l,a):Le(t,n,l,a),n.child;case 11:return Kg(t,n,n.type,n.pendingProps,a);case 7:return Le(t,n,n.pendingProps,a),n.child;case 8:return Le(t,n,n.pendingProps.children,a),n.child;case 12:return Le(t,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,Ki(n,n.type,l.value),Le(t,n,l.children,a),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,la(n),f=qe(f),l=l(f),n.flags|=1,Le(t,n,l,a),n.child;case 14:return Zg(t,n,n.type,n.pendingProps,a);case 15:return Wg(t,n,n.type,n.pendingProps,a);case 19:return ap(t,n,a);case 31:return l=n.pendingProps,a=n.mode,l={mode:l.mode,children:l.children},t===null?(a=gu(l,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Si(t.child,l),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Jg(t,n,a);case 24:return la(n),l=qe(Ae),t===null?(f=gf(),f===null&&(f=Wt,h=df(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),n.memoizedState={parent:l,cache:f},yf(n),Ki(n,Ae,f)):((t.lanes&a)!==0&&(vf(t,n),pl(n,null,null,a),gl()),f=t.memoizedState,h=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Ki(n,Ae,l)):(l=h.cache,Ki(n,Ae,l),l!==f.cache&&hf(n,[Ae],a,!0))),Le(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Mi(t){t.flags|=4}function lp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gy(n)){if(n=Cn.current,n!==null&&((Ot&4194048)===Ot?$n!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==$n))throw dl=pf,Gm;t.flags|=8192}}function pu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Bs():536870912,t.lanes|=n,ns|=n)}function Sl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ne(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(n)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,n}function NE(t,n,a){var l=n.pendingProps;switch(of(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ne(n),null;case 1:return ne(n),null;case 3:return a=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Ci(Ae),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(sl(n)?Mi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,km())),ne(n),null;case 26:return a=n.memoizedState,t===null?(Mi(n),a!==null?(ne(n),lp(n,a)):(ne(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Mi(n),ne(n),lp(n,a)):(ne(n),n.flags&=-16777217):(t.memoizedProps!==l&&Mi(n),ne(n),n.flags&=-16777217),null;case 27:ci(n),a=vt.current;var f=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}t=ht.current,sl(n)?zm(n):(t=ly(f,l,a),n.stateNode=t,Mi(n))}return ne(n),null;case 5:if(ci(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(!l){if(n.stateNode===null)throw Error(s(166));return ne(n),null}if(t=ht.current,sl(n))zm(n);else{switch(f=Vu(vt.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[_e]=n,t[he]=l;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=t;t:switch(ze(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Mi(n)}}return ne(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Mi(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(s(166));if(t=vt.current,sl(n)){if(t=n.stateNode,a=n.memoizedProps,l=null,f=Ze,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[_e]=n,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ty(t.nodeValue,a)),t||aa(n)}else t=Vu(t).createTextNode(l),t[_e]=n,n.stateNode=t}return ne(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=sl(n),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[_e]=n}else ll(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ne(n),f=!1}else f=km(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Vi(n),n):(Vi(n),null)}if(Vi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var h=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==f&&(l.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),pu(n,n.updateQueue),ne(n),null;case 4:return Bn(),t===null&&Eh(n.stateNode.containerInfo),ne(n),null;case 10:return Ci(n.type),ne(n),null;case 19:if(nt(Se),f=n.memoizedState,f===null)return ne(n),null;if(l=(n.flags&128)!==0,h=f.rendering,h===null)if(l)Sl(f,!1);else{if(le!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=fu(t),h!==null){for(n.flags|=128,Sl(f,!1),t=h.updateQueue,n.updateQueue=t,pu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Lm(a,t),a=a.sibling;return $(Se,Se.current&1|2),n.child}t=t.sibling}f.tail!==null&&yn()>_u&&(n.flags|=128,l=!0,Sl(f,!1),n.lanes=4194304)}else{if(!l)if(t=fu(h),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,pu(n,t),Sl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!Pt)return ne(n),null}else 2*yn()-f.renderingStartTime>_u&&a!==536870912&&(n.flags|=128,l=!0,Sl(f,!1),n.lanes=4194304);f.isBackwards?(h.sibling=n.child,n.child=h):(t=f.last,t!==null?t.sibling=h:n.child=h,f.last=h)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=yn(),n.sibling=null,t=Se.current,$(Se,l?t&1|2:t&1),n):(ne(n),null);case 22:case 23:return Vi(n),Af(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(ne(n),n.subtreeFlags&6&&(n.flags|=8192)):ne(n),a=n.updateQueue,a!==null&&pu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),t!==null&&nt(oa),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Ci(Ae),ne(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function OE(t,n){switch(of(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Ci(Ae),Bn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ci(n),null;case 13:if(Vi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));ll()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return nt(Se),null;case 4:return Bn(),null;case 10:return Ci(n.type),null;case 22:case 23:return Vi(n),Af(),t!==null&&nt(oa),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Ci(Ae),null;case 25:return null;default:return null}}function op(t,n){switch(of(n),n.tag){case 3:Ci(Ae),Bn();break;case 26:case 27:case 5:ci(n);break;case 4:Bn();break;case 13:Vi(n);break;case 19:nt(Se);break;case 10:Ci(n.type);break;case 22:case 23:Vi(n),Af(),t!==null&&nt(oa);break;case 24:Ci(Ae)}}function bl(t,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var h=a.create,_=a.inst;l=h(),_.destroy=l}a=a.next}while(a!==f)}}catch(T){Kt(n,n.return,T)}}function nr(t,n,a){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var h=f.next;l=h;do{if((l.tag&t)===t){var _=l.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=n;var R=a,P=T;try{P()}catch(G){Kt(f,R,G)}}}l=l.next}while(l!==h)}}catch(G){Kt(n,n.return,G)}}function up(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Zm(n,a)}catch(l){Kt(t,t.return,l)}}}function cp(t,n,a){a.props=ca(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Kt(t,n,l)}}function Rl(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){Kt(t,n,f)}}function ti(t,n){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Kt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Kt(t,n,f)}else a.current=null}function fp(t){var n=t.type,a=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Kt(t,t.return,f)}}function Zf(t,n,a){try{var l=t.stateNode;tT(l,t.type,a,n),l[he]=n}catch(f){Kt(t,t.return,f)}}function hp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&cr(t.type)||t.tag===4}function Wf(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||hp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&cr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Du));else if(l!==4&&(l===27&&cr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(Jf(t,n,a),t=t.sibling;t!==null;)Jf(t,n,a),t=t.sibling}function yu(t,n,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(l!==4&&(l===27&&cr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(yu(t,n,a),t=t.sibling;t!==null;)yu(t,n,a),t=t.sibling}function dp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);ze(n,l,a),n[_e]=t,n[he]=a}catch(h){Kt(t,t.return,h)}}var Ni=!1,ce=!1,$f=!1,mp=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function xE(t,n){if(t=t.containerInfo,Sh=Lu,t=Rm(t),Zc(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var _=0,T=-1,R=-1,P=0,G=0,Q=t,k=null;e:for(;;){for(var H;Q!==a||f!==0&&Q.nodeType!==3||(T=_+f),Q!==h||l!==0&&Q.nodeType!==3||(R=_+l),Q.nodeType===3&&(_+=Q.nodeValue.length),(H=Q.firstChild)!==null;)k=Q,Q=H;for(;;){if(Q===t)break e;if(k===a&&++P===f&&(T=_),k===h&&++G===l&&(R=_),(H=Q.nextSibling)!==null)break;Q=k,k=Q.parentNode}Q=H}a=T===-1||R===-1?null:{start:T,end:R}}else a=null}a=a||{start:0,end:0}}else a=null;for(bh={focusedElem:t,selectionRange:a},Lu=!1,Ie=n;Ie!==null;)if(n=Ie,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ie=t;else for(;Ie!==null;){switch(n=Ie,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,f=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var pt=ca(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(pt,h),l.__reactInternalSnapshotBeforeUpdate=t}catch(dt){Kt(a,a.return,dt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ch(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ch(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ie=t;break}Ie=n.return}}function gp(t,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:ir(t,a),l&4&&bl(5,a);break;case 1:if(ir(t,a),l&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Kt(a,a.return,_)}else{var f=ca(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Kt(a,a.return,_)}}l&64&&up(a),l&512&&Rl(a,a.return);break;case 3:if(ir(t,a),l&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Zm(t,n)}catch(_){Kt(a,a.return,_)}}break;case 27:n===null&&l&4&&dp(a);case 26:case 5:ir(t,a),n===null&&l&4&&fp(a),l&512&&Rl(a,a.return);break;case 12:ir(t,a);break;case 13:ir(t,a),l&4&&vp(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=jE.bind(null,a),lT(t,a))));break;case 22:if(l=a.memoizedState!==null||Ni,!l){n=n!==null&&n.memoizedState!==null||ce,f=Ni;var h=ce;Ni=l,(ce=n)&&!h?rr(t,a,(a.subtreeFlags&8772)!==0):ir(t,a),Ni=f,ce=h}break;case 30:break;default:ir(t,a)}}function pp(t){var n=t.alternate;n!==null&&(t.alternate=null,pp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Fi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var te=null,tn=!1;function Oi(t,n,a){for(a=a.child;a!==null;)yp(t,n,a),a=a.sibling}function yp(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:ce||ti(a,n),Oi(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ce||ti(a,n);var l=te,f=tn;cr(a.type)&&(te=a.stateNode,tn=!1),Oi(t,n,a),xl(a.stateNode),te=l,tn=f;break;case 5:ce||ti(a,n);case 6:if(l=te,f=tn,te=null,Oi(t,n,a),te=l,tn=f,te!==null)if(tn)try{(te.nodeType===9?te.body:te.nodeName==="HTML"?te.ownerDocument.body:te).removeChild(a.stateNode)}catch(h){Kt(a,n,h)}else try{te.removeChild(a.stateNode)}catch(h){Kt(a,n,h)}break;case 18:te!==null&&(tn?(t=te,ay(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),ql(t)):ay(te,a.stateNode));break;case 4:l=te,f=tn,te=a.stateNode.containerInfo,tn=!0,Oi(t,n,a),te=l,tn=f;break;case 0:case 11:case 14:case 15:ce||nr(2,a,n),ce||nr(4,a,n),Oi(t,n,a);break;case 1:ce||(ti(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&cp(a,n,l)),Oi(t,n,a);break;case 21:Oi(t,n,a);break;case 22:ce=(l=ce)||a.memoizedState!==null,Oi(t,n,a),ce=l;break;default:Oi(t,n,a)}}function vp(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{ql(t)}catch(a){Kt(n,n.return,a)}}function LE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new mp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new mp),n;default:throw Error(s(435,t.tag))}}function th(t,n){var a=LE(t);n.forEach(function(l){var f=GE.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function un(t,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],h=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(cr(T.type)){te=T.stateNode,tn=!1;break t}break;case 5:te=T.stateNode,tn=!1;break t;case 3:case 4:te=T.stateNode.containerInfo,tn=!0;break t}T=T.return}if(te===null)throw Error(s(160));yp(h,_,f),te=null,tn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)_p(n,t),n=n.sibling}var Ln=null;function _p(t,n){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:un(n,t),cn(t),l&4&&(nr(3,t,t.return),bl(3,t),nr(5,t,t.return));break;case 1:un(n,t),cn(t),l&512&&(ce||a===null||ti(a,a.return)),l&64&&Ni&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Ln;if(un(n,t),cn(t),l&512&&(ce||a===null||ti(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){t:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":h=f.getElementsByTagName("title")[0],(!h||h[kr]||h[_e]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(l),f.head.insertBefore(h,f.querySelector("head > title"))),ze(h,l,a),h[_e]=t,oe(h),l=h;break t;case"link":var _=dy("link","href",f).get(l+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(h=_[T],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}h=f.createElement(l),ze(h,l,a),f.head.appendChild(h);break;case"meta":if(_=dy("meta","content",f).get(l+(a.content||""))){for(T=0;T<_.length;T++)if(h=_[T],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}h=f.createElement(l),ze(h,l,a),f.head.appendChild(h);break;default:throw Error(s(468,l))}h[_e]=t,oe(h),l=h}t.stateNode=l}else my(f,t.type,t.stateNode);else t.stateNode=hy(f,l,t.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?my(f,t.type,t.stateNode):hy(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Zf(t,t.memoizedProps,a.memoizedProps)}break;case 27:un(n,t),cn(t),l&512&&(ce||a===null||ti(a,a.return)),a!==null&&l&4&&Zf(t,t.memoizedProps,a.memoizedProps);break;case 5:if(un(n,t),cn(t),l&512&&(ce||a===null||ti(a,a.return)),t.flags&32){f=t.stateNode;try{_n(f,"")}catch(H){Kt(t,t.return,H)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Zf(t,f,a!==null?a.memoizedProps:f)),l&1024&&($f=!0);break;case 6:if(un(n,t),cn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){Kt(t,t.return,H)}}break;case 3:if(Nu=null,f=Ln,Ln=Iu(n.containerInfo),un(n,t),Ln=f,cn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{ql(n.containerInfo)}catch(H){Kt(t,t.return,H)}$f&&($f=!1,Ep(t));break;case 4:l=Ln,Ln=Iu(t.stateNode.containerInfo),un(n,t),cn(t),Ln=l;break;case 12:un(n,t),cn(t);break;case 13:un(n,t),cn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(sh=yn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,th(t,l)));break;case 22:f=t.memoizedState!==null;var R=a!==null&&a.memoizedState!==null,P=Ni,G=ce;if(Ni=P||f,ce=G||R,un(n,t),ce=G,Ni=P,cn(t),l&8192)t:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||R||Ni||ce||fa(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){R=a=n;try{if(h=R.stateNode,f)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=R.stateNode;var Q=R.memoizedProps.style,k=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(H){Kt(R,R.return,H)}}}else if(n.tag===6){if(a===null){R=n;try{R.stateNode.nodeValue=f?"":R.memoizedProps}catch(H){Kt(R,R.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,th(t,a))));break;case 19:un(n,t),cn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,th(t,l)));break;case 30:break;case 21:break;default:un(n,t),cn(t)}}function cn(t){var n=t.flags;if(n&2){try{for(var a,l=t.return;l!==null;){if(hp(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,h=Wf(t);yu(t,h,f);break;case 5:var _=a.stateNode;a.flags&32&&(_n(_,""),a.flags&=-33);var T=Wf(t);yu(t,T,_);break;case 3:case 4:var R=a.stateNode.containerInfo,P=Wf(t);Jf(t,P,R);break;default:throw Error(s(161))}}catch(G){Kt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Ep(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Ep(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ir(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gp(t,n.alternate,n),n=n.sibling}function fa(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:nr(4,n,n.return),fa(n);break;case 1:ti(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&cp(n,n.return,a),fa(n);break;case 27:xl(n.stateNode);case 26:case 5:ti(n,n.return),fa(n);break;case 22:n.memoizedState===null&&fa(n);break;case 30:fa(n);break;default:fa(n)}t=t.sibling}}function rr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=t,h=n,_=h.flags;switch(h.tag){case 0:case 11:case 15:rr(f,h,a),bl(4,h);break;case 1:if(rr(f,h,a),l=h,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(P){Kt(l,l.return,P)}if(l=h,f=l.updateQueue,f!==null){var T=l.stateNode;try{var R=f.shared.hiddenCallbacks;if(R!==null)for(f.shared.hiddenCallbacks=null,f=0;f<R.length;f++)Km(R[f],T)}catch(P){Kt(l,l.return,P)}}a&&_&64&&up(h),Rl(h,h.return);break;case 27:dp(h);case 26:case 5:rr(f,h,a),a&&l===null&&_&4&&fp(h),Rl(h,h.return);break;case 12:rr(f,h,a);break;case 13:rr(f,h,a),a&&_&4&&vp(f,h);break;case 22:h.memoizedState===null&&rr(f,h,a),Rl(h,h.return);break;case 30:break;default:rr(f,h,a)}n=n.sibling}}function eh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function nh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t))}function ei(t,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Tp(t,n,a,l),n=n.sibling}function Tp(t,n,a,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ei(t,n,a,l),f&2048&&bl(9,n);break;case 1:ei(t,n,a,l);break;case 3:ei(t,n,a,l),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&cl(t)));break;case 12:if(f&2048){ei(t,n,a,l),t=n.stateNode;try{var h=n.memoizedProps,_=h.id,T=h.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else ei(t,n,a,l);break;case 13:ei(t,n,a,l);break;case 23:break;case 22:h=n.stateNode,_=n.alternate,n.memoizedState!==null?h._visibility&2?ei(t,n,a,l):wl(t,n):h._visibility&2?ei(t,n,a,l):(h._visibility|=2,$a(t,n,a,l,(n.subtreeFlags&10256)!==0)),f&2048&&eh(_,n);break;case 24:ei(t,n,a,l),f&2048&&nh(n.alternate,n);break;default:ei(t,n,a,l)}}function $a(t,n,a,l,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,_=n,T=a,R=l,P=_.flags;switch(_.tag){case 0:case 11:case 15:$a(h,_,T,R,f),bl(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?$a(h,_,T,R,f):wl(h,_):(G._visibility|=2,$a(h,_,T,R,f)),f&&P&2048&&eh(_.alternate,_);break;case 24:$a(h,_,T,R,f),f&&P&2048&&nh(_.alternate,_);break;default:$a(h,_,T,R,f)}n=n.sibling}}function wl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,l=n,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&eh(l.alternate,l);break;case 24:wl(a,l),f&2048&&nh(l.alternate,l);break;default:wl(a,l)}n=n.sibling}}var Cl=8192;function ts(t){if(t.subtreeFlags&Cl)for(t=t.child;t!==null;)Ap(t),t=t.sibling}function Ap(t){switch(t.tag){case 26:ts(t),t.flags&Cl&&t.memoizedState!==null&&ET(Ln,t.memoizedState,t.memoizedProps);break;case 5:ts(t);break;case 3:case 4:var n=Ln;Ln=Iu(t.stateNode.containerInfo),ts(t),Ln=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Cl,Cl=16777216,ts(t),Cl=n):ts(t));break;default:ts(t)}}function Sp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Dl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,Rp(l,t)}Sp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bp(t),t=t.sibling}function bp(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&nr(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,vu(t)):Dl(t);break;default:Dl(t)}}function vu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];Ie=l,Rp(l,t)}Sp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:nr(8,n,n.return),vu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,vu(n));break;default:vu(n)}t=t.sibling}}function Rp(t,n){for(;Ie!==null;){var a=Ie;switch(a.tag){case 0:case 11:case 15:nr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ie=l;else t:for(a=t;Ie!==null;){l=Ie;var f=l.sibling,h=l.return;if(pp(l),l===a){Ie=null;break t}if(f!==null){f.return=h,Ie=f;break t}Ie=h}}}var UE={getCacheForType:function(t){var n=qe(Ae),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},zE=typeof WeakMap=="function"?WeakMap:Map,jt=0,Wt=null,Dt=null,Ot=0,Gt=0,fn=null,ar=!1,es=!1,ih=!1,xi=0,le=0,sr=0,ha=0,rh=0,Dn=0,ns=0,Vl=null,en=null,ah=!1,sh=0,_u=1/0,Eu=null,lr=null,Ue=0,or=null,is=null,rs=0,lh=0,oh=null,wp=null,Il=0,uh=null;function hn(){if((jt&2)!==0&&Ot!==0)return Ot&-Ot;if(j.T!==null){var t=Fa;return t!==0?t:ph()}return ji()}function Cp(){Dn===0&&(Dn=(Ot&536870912)===0||Pt?ks():536870912);var t=Cn.current;return t!==null&&(t.flags|=32),Dn}function dn(t,n,a){(t===Wt&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(as(t,0),ur(t,Ot,Dn,!1)),hi(t,a),((jt&2)===0||t!==Wt)&&(t===Wt&&((jt&2)===0&&(ha|=a),le===4&&ur(t,Ot,Dn,!1)),ni(t))}function Dp(t,n,a){if((jt&6)!==0)throw Error(s(327));var l=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Pr(t,n),f=l?BE(t,n):hh(t,n,!0),h=l;do{if(f===0){es&&!l&&ur(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!PE(a)){f=hh(t,n,!1),h=!1;continue}if(f===2){if(h=n,t.errorRecoveryDisabledLanes&h)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;f=Vl;var R=T.current.memoizedState.isDehydrated;if(R&&(as(T,_).flags|=256),_=hh(T,_,!1),_!==2){if(ih&&!R){T.errorRecoveryDisabledLanes|=h,ha|=h,f=4;break t}h=en,en=f,h!==null&&(en===null?en=h:en.push.apply(en,h))}f=_}if(h=!1,f!==2)continue}}if(f===1){as(t,0),ur(t,n,0,!0);break}t:{switch(l=t,h=f,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:ur(l,n,Dn,!ar);break t;case 2:en=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=sh+300-yn(),10<f)){if(ur(l,n,Dn,!ar),Aa(l,0,!0)!==0)break t;l.timeoutHandle=iy(Vp.bind(null,l,a,en,Eu,ah,n,Dn,ha,ns,ar,h,2,-0,0),f);break t}Vp(l,a,en,Eu,ah,n,Dn,ha,ns,ar,h,0,-0,0)}}break}while(!0);ni(t)}function Vp(t,n,a,l,f,h,_,T,R,P,G,Q,k,H){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(zl={stylesheets:null,count:0,unsuspend:_T},Ap(n),Q=TT(),Q!==null)){t.cancelPendingCommit=Q(Up.bind(null,t,n,h,a,l,f,_,T,R,G,1,k,H)),ur(t,h,_,!P);return}Up(t,n,h,a,l,f,_,T,R)}function PE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],h=f.getSnapshot;f=f.value;try{if(!ln(h(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ur(t,n,a,l){n&=~rh,n&=~ha,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var f=n;0<f;){var h=31-He(f),_=1<<h;l[h]=-1,f&=~_}a!==0&&Hn(t,a,n)}function Tu(){return(jt&6)===0?(Ml(0),!1):!0}function ch(){if(Dt!==null){if(Gt===0)var t=Dt.return;else t=Dt,wi=sa=null,Cf(t),Wa=null,Tl=0,t=Dt;for(;t!==null;)op(t.alternate,t),t=t.return;Dt=null}}function as(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,nT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ch(),Wt=t,Dt=a=Si(t.current,null),Ot=n,Gt=0,fn=null,ar=!1,es=Pr(t,n),ih=!1,ns=Dn=rh=ha=sr=le=0,en=Vl=null,ah=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var f=31-He(l),h=1<<f;n|=t[f],l&=~h}return xi=n,jo(),a}function Ip(t,n){bt=null,j.H=ou,n===hl||n===Jo?(n=Qm(),Gt=3):n===Gm?(n=Qm(),Gt=4):Gt=n===Xg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,fn=n,Dt===null&&(le=1,du(t,Sn(n,t.current)))}function Mp(){var t=j.H;return j.H=ou,t===null?ou:t}function Np(){var t=j.A;return j.A=UE,t}function fh(){le=4,ar||(Ot&4194048)!==Ot&&Cn.current!==null||(es=!0),(sr&134217727)===0&&(ha&134217727)===0||Wt===null||ur(Wt,Ot,Dn,!1)}function hh(t,n,a){var l=jt;jt|=2;var f=Mp(),h=Np();(Wt!==t||Ot!==n)&&(Eu=null,as(t,n)),n=!1;var _=le;t:do try{if(Gt!==0&&Dt!==null){var T=Dt,R=fn;switch(Gt){case 8:ch(),_=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var P=Gt;if(Gt=0,fn=null,ss(t,T,R,P),a&&es){_=0;break t}break;default:P=Gt,Gt=0,fn=null,ss(t,T,R,P)}}kE(),_=le;break}catch(G){Ip(t,G)}while(!0);return n&&t.shellSuspendCounter++,wi=sa=null,jt=l,j.H=f,j.A=h,Dt===null&&(Wt=null,Ot=0,jo()),_}function kE(){for(;Dt!==null;)Op(Dt)}function BE(t,n){var a=jt;jt|=2;var l=Mp(),f=Np();Wt!==t||Ot!==n?(Eu=null,_u=yn()+500,as(t,n)):es=Pr(t,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var h=fn;e:switch(Gt){case 1:Gt=0,fn=null,ss(t,n,h,1);break;case 2:case 9:if(Fm(h)){Gt=0,fn=null,xp(n);break}n=function(){Gt!==2&&Gt!==9||Wt!==t||(Gt=7),ni(t)},h.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:Fm(h)?(Gt=0,fn=null,xp(n)):(Gt=0,fn=null,ss(t,n,h,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(!_||gy(_)){Gt=0,fn=null;var R=T.sibling;if(R!==null)Dt=R;else{var P=T.return;P!==null?(Dt=P,Au(P)):Dt=null}break e}}Gt=0,fn=null,ss(t,n,h,5);break;case 6:Gt=0,fn=null,ss(t,n,h,6);break;case 8:ch(),le=6;break t;default:throw Error(s(462))}}HE();break}catch(G){Ip(t,G)}while(!0);return wi=sa=null,j.H=l,j.A=f,jt=a,Dt!==null?0:(Wt=null,Ot=0,jo(),le)}function HE(){for(;Dt!==null&&!Ls();)Op(Dt)}function Op(t){var n=sp(t.alternate,t,xi);t.memoizedProps=t.pendingProps,n===null?Au(t):Dt=n}function xp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=tp(a,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=tp(a,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:Cf(n);default:op(a,n),n=Dt=Lm(n,xi),n=sp(a,n,xi)}t.memoizedProps=t.pendingProps,n===null?Au(t):Dt=n}function ss(t,n,a,l){wi=sa=null,Cf(n),Wa=null,Tl=0;var f=n.return;try{if(IE(t,f,n,a,Ot)){le=1,du(t,Sn(a,t.current)),Dt=null;return}}catch(h){if(f!==null)throw Dt=f,h;le=1,du(t,Sn(a,t.current)),Dt=null;return}n.flags&32768?(Pt||l===1?t=!0:es||(Ot&536870912)!==0?t=!1:(ar=t=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Lp(n,t)):Au(n)}function Au(t){var n=t;do{if((n.flags&32768)!==0){Lp(n,ar);return}t=n.return;var a=NE(n.alternate,n,xi);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);le===0&&(le=5)}function Lp(t,n){do{var a=OE(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);le=6,Dt=null}function Up(t,n,a,l,f,h,_,T,R){t.cancelPendingCommit=null;do Su();while(Ue!==0);if((jt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=ef,Hs(t,a,h,_,T,R),t===Wt&&(Dt=Wt=null,Ot=0),is=n,or=t,rs=a,lh=h,oh=f,wp=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,FE(xr,function(){return Hp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=j.T,j.T=null,f=et.p,et.p=2,_=jt,jt|=4;try{xE(t,n,a)}finally{jt=_,et.p=f,j.T=l}}Ue=1,zp(),Pp(),kp()}}function zp(){if(Ue===1){Ue=0;var t=or,n=is,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=j.T,j.T=null;var l=et.p;et.p=2;var f=jt;jt|=4;try{_p(n,t);var h=bh,_=Rm(t.containerInfo),T=h.focusedElem,R=h.selectionRange;if(_!==T&&T&&T.ownerDocument&&bm(T.ownerDocument.documentElement,T)){if(R!==null&&Zc(T)){var P=R.start,G=R.end;if(G===void 0&&(G=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(G,T.value.length);else{var Q=T.ownerDocument||document,k=Q&&Q.defaultView||window;if(k.getSelection){var H=k.getSelection(),pt=T.textContent.length,dt=Math.min(R.start,pt),Xt=R.end===void 0?dt:Math.min(R.end,pt);!H.extend&&dt>Xt&&(_=Xt,Xt=dt,dt=_);var x=Sm(T,dt),I=Sm(T,Xt);if(x&&I&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==I.node||H.focusOffset!==I.offset)){var z=Q.createRange();z.setStart(x.node,x.offset),H.removeAllRanges(),dt>Xt?(H.addRange(z),H.extend(I.node,I.offset)):(z.setEnd(I.node,I.offset),H.addRange(z))}}}}for(Q=[],H=T;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var F=Q[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Lu=!!Sh,bh=Sh=null}finally{jt=f,et.p=l,j.T=a}}t.current=n,Ue=2}}function Pp(){if(Ue===2){Ue=0;var t=or,n=is,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=j.T,j.T=null;var l=et.p;et.p=2;var f=jt;jt|=4;try{gp(t,n.alternate,n)}finally{jt=f,et.p=l,j.T=a}}Ue=3}}function kp(){if(Ue===4||Ue===3){Ue=0,vo();var t=or,n=is,a=rs,l=wp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,is=or=null,Bp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(lr=null),Sa(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=j.T,f=et.p,et.p=2,j.T=null;try{for(var h=t.onRecoverableError,_=0;_<l.length;_++){var T=l[_];h(T.value,{componentStack:T.stack})}}finally{j.T=n,et.p=f}}(rs&3)!==0&&Su(),ni(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===uh?Il++:(Il=0,uh=t):Il=0,Ml(0)}}function Bp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,cl(n)))}function Su(t){return zp(),Pp(),kp(),Hp()}function Hp(){if(Ue!==5)return!1;var t=or,n=lh;lh=0;var a=Sa(rs),l=j.T,f=et.p;try{et.p=32>a?32:a,j.T=null,a=oh,oh=null;var h=or,_=rs;if(Ue=0,is=or=null,rs=0,(jt&6)!==0)throw Error(s(331));var T=jt;if(jt|=4,bp(h.current),Tp(h,h.current,_,a),jt=T,Ml(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(ae,h)}catch{}return!0}finally{et.p=f,j.T=l,Bp(t,n)}}function qp(t,n,a){n=Sn(a,n),n=Hf(t.stateNode,n,2),t=Ji(t,n,2),t!==null&&(hi(t,2),ni(t))}function Kt(t,n,a){if(t.tag===3)qp(t,t,a);else for(;n!==null;){if(n.tag===3){qp(n,t,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(lr===null||!lr.has(l))){t=Sn(a,t),a=Yg(2),l=Ji(n,a,2),l!==null&&(Qg(a,l,n,t),hi(l,2),ni(l));break}}n=n.return}}function dh(t,n,a){var l=t.pingCache;if(l===null){l=t.pingCache=new zE;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(a)||(ih=!0,f.add(a),t=qE.bind(null,t,n,a),n.then(t,t))}function qE(t,n,a){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Wt===t&&(Ot&a)===a&&(le===4||le===3&&(Ot&62914560)===Ot&&300>yn()-sh?(jt&2)===0&&as(t,0):rh|=a,ns===Ot&&(ns=0)),ni(t)}function jp(t,n){n===0&&(n=Bs()),t=Ha(t,n),t!==null&&(hi(t,n),ni(t))}function jE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),jp(t,a)}function GE(t,n){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(n),jp(t,a)}function FE(t,n){return Nr(t,n)}var bu=null,ls=null,mh=!1,Ru=!1,gh=!1,da=0;function ni(t){t!==ls&&t.next===null&&(ls===null?bu=ls=t:ls=ls.next=t),Ru=!0,mh||(mh=!0,QE())}function Ml(t,n){if(!gh&&Ru){gh=!0;do for(var a=!1,l=bu;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var h=0;else{var _=l.suspendedLanes,T=l.pingedLanes;h=(1<<31-He(42|t)+1)-1,h&=f&~(_&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Qp(l,h))}else h=Ot,h=Aa(l,l===Wt?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||Pr(l,h)||(a=!0,Qp(l,h));l=l.next}while(a);gh=!1}}function YE(){Gp()}function Gp(){Ru=mh=!1;var t=0;da!==0&&(eT()&&(t=da),da=0);for(var n=yn(),a=null,l=bu;l!==null;){var f=l.next,h=Fp(l,n);h===0?(l.next=null,a===null?bu=f:a.next=f,f===null&&(ls=a)):(a=l,(t!==0||(h&3)!==0)&&(Ru=!0)),l=f}Ml(t)}function Fp(t,n){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var _=31-He(h),T=1<<_,R=f[_];R===-1?((T&a)===0||(T&l)!==0)&&(f[_]=Ps(T,n)):R<=n&&(t.expiredLanes|=T),h&=~T}if(n=Wt,a=Ot,a=Aa(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Or(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Pr(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(l!==null&&Or(l),Sa(a)){case 2:case 8:a=Ea;break;case 32:a=xr;break;case 268435456:a=Ta;break;default:a=xr}return l=Yp.bind(null,t),a=Nr(a,l),t.callbackPriority=n,t.callbackNode=a,n}return l!==null&&l!==null&&Or(l),t.callbackPriority=2,t.callbackNode=null,2}function Yp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Su()&&t.callbackNode!==a)return null;var l=Ot;return l=Aa(t,t===Wt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Dp(t,l,n),Fp(t,yn()),t.callbackNode!=null&&t.callbackNode===a?Yp.bind(null,t):null)}function Qp(t,n){if(Su())return null;Dp(t,n,!0)}function QE(){iT(function(){(jt&6)!==0?Nr(Us,YE):Gp()})}function ph(){return da===0&&(da=ks()),da}function Xp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Va(""+t)}function Kp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function XE(t,n,a,l,f){if(n==="submit"&&a&&a.stateNode===f){var h=Xp((f[he]||null).action),_=l.submitter;_&&(n=(n=_[he]||null)?Xp(n.formAction):_.getAttribute("formAction"),n!==null&&(h=n,_=null));var T=new Ia("action","action",null,l,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(da!==0){var R=_?Kp(f,_):new FormData(f);Uf(a,{pending:!0,data:R,method:f.method,action:h},null,R)}}else typeof h=="function"&&(T.preventDefault(),R=_?Kp(f,_):new FormData(f),Uf(a,{pending:!0,data:R,method:f.method,action:h},h,R))},currentTarget:f}]})}}for(var yh=0;yh<tf.length;yh++){var vh=tf[yh],KE=vh.toLowerCase(),ZE=vh[0].toUpperCase()+vh.slice(1);xn(KE,"on"+ZE)}xn(Dm,"onAnimationEnd"),xn(Vm,"onAnimationIteration"),xn(Im,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(dE,"onTransitionRun"),xn(mE,"onTransitionStart"),xn(gE,"onTransitionCancel"),xn(Mm,"onTransitionEnd"),mi("onMouseEnter",["mouseout","mouseover"]),mi("onMouseLeave",["mouseout","mouseover"]),mi("onPointerEnter",["pointerout","pointerover"]),mi("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function Zp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;t:{var h=void 0;if(n)for(var _=l.length-1;0<=_;_--){var T=l[_],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==h&&f.isPropagationStopped())break t;h=T,f.currentTarget=P;try{h(f)}catch(G){hu(G)}f.currentTarget=null,h=R}else for(_=0;_<l.length;_++){if(T=l[_],R=T.instance,P=T.currentTarget,T=T.listener,R!==h&&f.isPropagationStopped())break t;h=T,f.currentTarget=P;try{h(f)}catch(G){hu(G)}f.currentTarget=null,h=R}}}}function Vt(t,n){var a=n[js];a===void 0&&(a=n[js]=new Set);var l=t+"__bubble";a.has(l)||(Wp(n,t,2,!1),a.add(l))}function _h(t,n,a){var l=0;n&&(l|=4),Wp(a,t,l,n)}var wu="_reactListening"+Math.random().toString(36).slice(2);function Eh(t){if(!t[wu]){t[wu]=!0,Gs.forEach(function(a){a!=="selectionchange"&&(WE.has(a)||_h(a,!1,t),_h(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[wu]||(n[wu]=!0,_h("selectionchange",!1,n))}}function Wp(t,n,a,l){switch(Ty(n)){case 2:var f=bT;break;case 8:f=RT;break;default:f=xh}a=f.bind(null,n,a,t),f=void 0,!Tn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(n,a,{capture:!0,passive:f}):t.addEventListener(n,a,!0):f!==void 0?t.addEventListener(n,a,{passive:f}):t.addEventListener(n,a,!1)}function Th(t,n,a,l,f){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var T=l.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=l.return;_!==null;){var R=_.tag;if((R===3||R===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=di(T),_===null)return;if(R=_.tag,R===5||R===6||R===26||R===27){l=h=_;continue t}T=T.parentNode}}l=l.return}Do(function(){var P=h,G=En(a),Q=[];t:{var k=Nm.get(t);if(k!==void 0){var H=Ia,pt=t;switch(t){case"keypress":if(Qn(a)===0)break t;case"keydown":case"keyup":H=Ua;break;case"focusin":pt="focus",H=Oa;break;case"focusout":pt="blur",H=Oa;break;case"beforeblur":case"afterblur":H=Oa;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=An;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Yc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Uo;break;case Dm:case Vm:case Im:H=xa;break;case Mm:H=Po;break;case"scroll":case"scrollend":H=Vo;break;case"wheel":H=za;break;case"copy":case"cut":case"paste":H=La;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=nl;break;case"toggle":case"beforetoggle":H=Bo}var dt=(n&4)!==0,Xt=!dt&&(t==="scroll"||t==="scrollend"),x=dt?k!==null?k+"Capture":null:k;dt=[];for(var I=P,z;I!==null;){var F=I;if(z=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||z===null||x===null||(F=Yr(I,x),F!=null&&dt.push(Ol(I,F,z))),Xt)break;I=I.return}0<dt.length&&(k=new H(k,pt,null,a,G),Q.push({event:k,listeners:dt}))}}if((n&7)===0){t:{if(k=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",k&&a!==yi&&(pt=a.relatedTarget||a.fromElement)&&(di(pt)||pt[vn]))break t;if((H||k)&&(k=G.window===G?G:(k=G.ownerDocument)?k.defaultView||k.parentWindow:window,H?(pt=a.relatedTarget||a.toElement,H=P,pt=pt?di(pt):null,pt!==null&&(Xt=c(pt),dt=pt.tag,pt!==Xt||dt!==5&&dt!==27&&dt!==6)&&(pt=null)):(H=null,pt=P),H!==pt)){if(dt=An,F="onMouseLeave",x="onMouseEnter",I="mouse",(t==="pointerout"||t==="pointerover")&&(dt=nl,F="onPointerLeave",x="onPointerEnter",I="pointer"),Xt=H==null?k:jn(H),z=pt==null?k:jn(pt),k=new dt(F,I+"leave",H,a,G),k.target=Xt,k.relatedTarget=z,F=null,di(G)===P&&(dt=new dt(x,I+"enter",pt,a,G),dt.target=z,dt.relatedTarget=Xt,F=dt),Xt=F,H&&pt)e:{for(dt=H,x=pt,I=0,z=dt;z;z=os(z))I++;for(z=0,F=x;F;F=os(F))z++;for(;0<I-z;)dt=os(dt),I--;for(;0<z-I;)x=os(x),z--;for(;I--;){if(dt===x||x!==null&&dt===x.alternate)break e;dt=os(dt),x=os(x)}dt=null}else dt=null;H!==null&&Jp(Q,k,H,dt,!1),pt!==null&&Xt!==null&&Jp(Q,Xt,pt,dt,!0)}}t:{if(k=P?jn(P):window,H=k.nodeName&&k.nodeName.toLowerCase(),H==="select"||H==="input"&&k.type==="file")var at=ym;else if(Te(k))if(vm)at=cE;else{at=oE;var Ct=lE}else H=k.nodeName,!H||H.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?P&&Ks(P.elementType)&&(at=ym):at=uE;if(at&&(at=at(t,P))){Ai(Q,at,a,G);break t}Ct&&Ct(t,k,P),t==="focusout"&&P&&k.type==="number"&&P.memoizedProps.value!=null&&Qi(k,"number",k.value)}switch(Ct=P?jn(P):window,t){case"focusin":(Te(Ct)||Ct.contentEditable==="true")&&(Pa=Ct,Wc=P,al=null);break;case"focusout":al=Wc=Pa=null;break;case"mousedown":Jc=!0;break;case"contextmenu":case"mouseup":case"dragend":Jc=!1,wm(Q,a,G);break;case"selectionchange":if(hE)break;case"keydown":case"keyup":wm(Q,a,G)}var ut;if(Zn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Mt?q(t,a)&&(gt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(v&&a.locale!=="ko"&&(Mt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Mt&&(ut=Ws()):(Yn=G,Xi="value"in Yn?Yn.value:Yn.textContent,Mt=!0)),Ct=Cu(P,gt),0<Ct.length&&(gt=new tl(gt,t,null,a,G),Q.push({event:gt,listeners:Ct}),ut?gt.data=ut:(ut=tt(a),ut!==null&&(gt.data=ut)))),(ut=m?Ee(t,a):Nt(t,a))&&(gt=Cu(P,"onBeforeInput"),0<gt.length&&(Ct=new tl("onBeforeInput","beforeinput",null,a,G),Q.push({event:Ct,listeners:gt}),Ct.data=ut)),XE(Q,t,P,a,G)}Zp(Q,n)})}function Ol(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Cu(t,n){for(var a=n+"Capture",l=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Yr(t,a),f!=null&&l.unshift(Ol(t,f,h)),f=Yr(t,n),f!=null&&l.push(Ol(t,f,h))),t.tag===3)return l;t=t.return}return[]}function os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Jp(t,n,a,l,f){for(var h=n._reactName,_=[];a!==null&&a!==l;){var T=a,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,f?(P=Yr(a,h),P!=null&&_.unshift(Ol(a,P,R))):f||(P=Yr(a,h),P!=null&&_.push(Ol(a,P,R)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var JE=/\r\n?/g,$E=/\u0000|\uFFFD/g;function $p(t){return(typeof t=="string"?t:""+t).replace(JE,`
`).replace($E,"")}function ty(t,n){return n=$p(n),$p(t)===n}function Du(){}function Qt(t,n,a,l,f,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(t,""+l);break;case"className":Gn(t,"class",l);break;case"tabIndex":Gn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(t,a,l);break;case"style":Xs(t,l,h);break;case"data":if(n!=="object"){Gn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Va(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Qt(t,n,"name",f.name,f,null),Qt(t,n,"formEncType",f.formEncType,f,null),Qt(t,n,"formMethod",f.formMethod,f,null),Qt(t,n,"formTarget",f.formTarget,f,null)):(Qt(t,n,"encType",f.encType,f,null),Qt(t,n,"method",f.method,f,null),Qt(t,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Va(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Du);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Va(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Yi(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Yi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Gc.get(a)||a,Yi(t,a,l))}}function Ah(t,n,a,l,f,h){switch(a){case"style":Xs(t,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?_n(t,l):(typeof l=="number"||typeof l=="bigint")&&_n(t,""+l);break;case"onScroll":l!=null&&Vt("scroll",t);break;case"onScrollEnd":l!=null&&Vt("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Du);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),h=t[he]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,f),typeof l=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,l,f);break t}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Yi(t,a,l)}}}function ze(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var l=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var _=a[h];if(_!=null)switch(h){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,h,_,a,null)}}f&&Qt(t,n,"srcSet",a.srcSet,a,null),l&&Qt(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var T=h=_=f=null,R=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":f=G;break;case"type":_=G;break;case"checked":R=G;break;case"defaultChecked":P=G;break;case"value":h=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Qt(t,n,l,G,a,null)}}jr(t,h,T,R,P,_,f,!1),Da(t);return;case"select":Vt("invalid",t),l=_=h=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":h=T;break;case"defaultValue":_=T;break;case"multiple":l=T;default:Qt(t,n,f,T,a,null)}n=h,a=_,t.multiple=!!l,n!=null?pi(t,!!l,n,!1):a!=null&&pi(t,!!l,a,!0);return;case"textarea":Vt("invalid",t),h=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":l=T;break;case"defaultValue":f=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Qt(t,n,_,T,a,null)}Gr(t,l,f,h),Da(t);return;case"option":for(R in a)if(a.hasOwnProperty(R)&&(l=a[R],l!=null))switch(R){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Qt(t,n,R,l,a,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Vt(Nl[l],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(t,n,P,l,a,null)}return;default:if(Ks(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Ah(t,n,G,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&Qt(t,n,T,l,a,null))}function tT(t,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,_=null,T=null,R=null,P=null,G=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=Q;default:l.hasOwnProperty(H)||Qt(t,n,H,null,l,Q)}}for(var k in l){var H=l[k];if(Q=a[k],l.hasOwnProperty(k)&&(H!=null||Q!=null))switch(k){case"type":h=H;break;case"name":f=H;break;case"checked":P=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==Q&&Qt(t,n,k,H,l,Q)}}sn(t,_,T,R,P,G,h,f);return;case"select":H=_=T=k=null;for(h in a)if(R=a[h],a.hasOwnProperty(h)&&R!=null)switch(h){case"value":break;case"multiple":H=R;default:l.hasOwnProperty(h)||Qt(t,n,h,null,l,R)}for(f in l)if(h=l[f],R=a[f],l.hasOwnProperty(f)&&(h!=null||R!=null))switch(f){case"value":k=h;break;case"defaultValue":T=h;break;case"multiple":_=h;default:h!==R&&Qt(t,n,f,h,l,R)}n=T,a=_,l=H,k!=null?pi(t,!!a,k,!1):!!l!=!!a&&(n!=null?pi(t,!!a,n,!0):pi(t,!!a,a?[]:"",!1));return;case"textarea":H=k=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Qt(t,n,T,null,l,f)}for(_ in l)if(f=l[_],h=a[_],l.hasOwnProperty(_)&&(f!=null||h!=null))switch(_){case"value":k=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==h&&Qt(t,n,_,f,l,h)}Ft(t,k,H);return;case"option":for(var pt in a)if(k=a[pt],a.hasOwnProperty(pt)&&k!=null&&!l.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:Qt(t,n,pt,null,l,k)}for(R in l)if(k=l[R],H=a[R],l.hasOwnProperty(R)&&k!==H&&(k!=null||H!=null))switch(R){case"selected":t.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Qt(t,n,R,k,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var dt in a)k=a[dt],a.hasOwnProperty(dt)&&k!=null&&!l.hasOwnProperty(dt)&&Qt(t,n,dt,null,l,k);for(P in l)if(k=l[P],H=a[P],l.hasOwnProperty(P)&&k!==H&&(k!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,n));break;default:Qt(t,n,P,k,l,H)}return;default:if(Ks(n)){for(var Xt in a)k=a[Xt],a.hasOwnProperty(Xt)&&k!==void 0&&!l.hasOwnProperty(Xt)&&Ah(t,n,Xt,void 0,l,k);for(G in l)k=l[G],H=a[G],!l.hasOwnProperty(G)||k===H||k===void 0&&H===void 0||Ah(t,n,G,k,l,H);return}}for(var x in a)k=a[x],a.hasOwnProperty(x)&&k!=null&&!l.hasOwnProperty(x)&&Qt(t,n,x,null,l,k);for(Q in l)k=l[Q],H=a[Q],!l.hasOwnProperty(Q)||k===H||k==null&&H==null||Qt(t,n,Q,k,l,H)}var Sh=null,bh=null;function Vu(t){return t.nodeType===9?t:t.ownerDocument}function ey(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ny(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Rh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wh=null;function eT(){var t=window.event;return t&&t.type==="popstate"?t===wh?!1:(wh=t,!0):(wh=null,!1)}var iy=typeof setTimeout=="function"?setTimeout:void 0,nT=typeof clearTimeout=="function"?clearTimeout:void 0,ry=typeof Promise=="function"?Promise:void 0,iT=typeof queueMicrotask=="function"?queueMicrotask:typeof ry<"u"?function(t){return ry.resolve(null).then(t).catch(rT)}:iy;function rT(t){setTimeout(function(){throw t})}function cr(t){return t==="head"}function ay(t,n){var a=n,l=0,f=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&xl(_.documentElement),a&2&&xl(_.body),a&4)for(a=_.head,xl(a),_=a.firstChild;_;){var T=_.nextSibling,R=_.nodeName;_[kr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(f===0){t.removeChild(h),ql(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=h}while(a);ql(n)}function Ch(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ch(a),Fi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aT(t,n,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[kr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=Un(t.nextSibling),t===null)break}return null}function sT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Un(t.nextSibling),t===null))return null;return t}function Dh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function lT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Un(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Vh=null;function sy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function ly(t,n,a){switch(n=Vu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function xl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Fi(t)}var Vn=new Map,oy=new Set;function Iu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Li=et.d;et.d={f:oT,r:uT,D:cT,C:fT,L:hT,m:dT,X:gT,S:mT,M:pT};function oT(){var t=Li.f(),n=Tu();return t||n}function uT(t){var n=qn(t);n!==null&&n.tag===5&&n.type==="form"?Dg(n):Li.r(t)}var us=typeof document>"u"?null:document;function uy(t,n,a){var l=us;if(l&&typeof n=="string"&&n){var f=de(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),oy.has(f)||(oy.add(f),t={rel:t,crossOrigin:a,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),ze(n,"link",t),oe(n),l.head.appendChild(n)))}}function cT(t){Li.D(t),uy("dns-prefetch",t,null)}function fT(t,n){Li.C(t,n),uy("preconnect",t,n)}function hT(t,n,a){Li.L(t,n,a);var l=us;if(l&&t&&n){var f='link[rel="preload"][as="'+de(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+de(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+de(a.imageSizes)+'"]')):f+='[href="'+de(t)+'"]';var h=f;switch(n){case"style":h=cs(t);break;case"script":h=fs(t)}Vn.has(h)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Vn.set(h,t),l.querySelector(f)!==null||n==="style"&&l.querySelector(Ll(h))||n==="script"&&l.querySelector(Ul(h))||(n=l.createElement("link"),ze(n,"link",t),oe(n),l.head.appendChild(n)))}}function dT(t,n){Li.m(t,n);var a=us;if(a&&t){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+de(l)+'"][href="'+de(t)+'"]',h=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=fs(t)}if(!Vn.has(h)&&(t=E({rel:"modulepreload",href:t},n),Vn.set(h,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(h)))return}l=a.createElement("link"),ze(l,"link",t),oe(l),a.head.appendChild(l)}}}function mT(t,n,a){Li.S(t,n,a);var l=us;if(l&&t){var f=Qe(l).hoistableStyles,h=cs(t);n=n||"default";var _=f.get(h);if(!_){var T={loading:0,preload:null};if(_=l.querySelector(Ll(h)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Vn.get(h))&&Ih(t,a);var R=_=l.createElement("link");oe(R),ze(R,"link",t),R._p=new Promise(function(P,G){R.onload=P,R.onerror=G}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Mu(_,n,l)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(h,_)}}}function gT(t,n){Li.X(t,n);var a=us;if(a&&t){var l=Qe(a).hoistableScripts,f=fs(t),h=l.get(f);h||(h=a.querySelector(Ul(f)),h||(t=E({src:t,async:!0},n),(n=Vn.get(f))&&Mh(t,n),h=a.createElement("script"),oe(h),ze(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function pT(t,n){Li.M(t,n);var a=us;if(a&&t){var l=Qe(a).hoistableScripts,f=fs(t),h=l.get(f);h||(h=a.querySelector(Ul(f)),h||(t=E({src:t,async:!0,type:"module"},n),(n=Vn.get(f))&&Mh(t,n),h=a.createElement("script"),oe(h),ze(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(f,h))}}function cy(t,n,a,l){var f=(f=vt.current)?Iu(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=cs(a.href),a=Qe(f).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=cs(a.href);var h=Qe(f).hoistableStyles,_=h.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,_),(h=f.querySelector(Ll(t)))&&!h._p&&(_.instance=h,_.state.loading=5),Vn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Vn.set(t,a),h||yT(f,t,a,_.state))),n&&l===null)throw Error(s(528,""));return _}if(n&&l!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=fs(a),a=Qe(f).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function cs(t){return'href="'+de(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function fy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function yT(t,n,a,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",a),oe(n),t.head.appendChild(n))}function fs(t){return'[src="'+de(t)+'"]'}function Ul(t){return"script[async]"+t}function hy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+de(a.href)+'"]');if(l)return n.instance=l,oe(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),oe(l),ze(l,"style",f),Mu(l,a.precedence,t),n.instance=l;case"stylesheet":f=cs(a.href);var h=t.querySelector(Ll(f));if(h)return n.state.loading|=4,n.instance=h,oe(h),h;l=fy(a),(f=Vn.get(f))&&Ih(l,f),h=(t.ownerDocument||t).createElement("link"),oe(h);var _=h;return _._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),ze(h,"link",l),n.state.loading|=4,Mu(h,a.precedence,t),n.instance=h;case"script":return h=fs(a.src),(f=t.querySelector(Ul(h)))?(n.instance=f,oe(f),f):(l=a,(f=Vn.get(h))&&(l=E({},a),Mh(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),oe(f),ze(f,"link",l),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Mu(l,a.precedence,t));return n.instance}function Mu(t,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,h=f,_=0;_<l.length;_++){var T=l[_];if(T.dataset.precedence===n)h=T;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Ih(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Mh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Nu=null;function dy(t,n,a){if(Nu===null){var l=new Map,f=Nu=new Map;f.set(a,l)}else f=Nu,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var h=a[f];if(!(h[kr]||h[_e]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(n)||"";_=t+_;var T=l.get(_);T?T.push(h):l.set(_,[h])}}return l}function my(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function vT(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function gy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var zl=null;function _T(){}function ET(t,n,a){if(zl===null)throw Error(s(475));var l=zl;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=cs(a.href),h=t.querySelector(Ll(f));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ou.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=h,oe(h);return}h=t.ownerDocument||t,a=fy(a),(f=Vn.get(f))&&Ih(a,f),h=h.createElement("link"),oe(h);var _=h;_._p=new Promise(function(T,R){_.onload=T,_.onerror=R}),ze(h,"link",a),n.instance=h}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Ou.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function TT(){if(zl===null)throw Error(s(475));var t=zl;return t.stylesheets&&t.count===0&&Nh(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Nh(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ou(){if(this.count--,this.count===0){if(this.stylesheets)Nh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xu=null;function Nh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xu=new Map,n.forEach(AT,t),xu=null,Ou.call(t))}function AT(t,n){if(!(n.state.loading&4)){var a=xu.get(t);if(a)var l=a.get(null);else{a=new Map,xu.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var _=f[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=n.instance,_=f.getAttribute("data-precedence"),h=a.get(_)||l,h===l&&a.set(null,f),a.set(_,f),this.count++,l=Ou.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Pl={$$typeof:lt,Provider:null,Consumer:null,_currentValue:ct,_currentValue2:ct,_threadCount:0};function ST(t,n,a,l,f,h,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function py(t,n,a,l,f,h,_,T,R,P,G,Q){return t=new ST(t,n,a,_,T,R,P,Q),n=1,h===!0&&(n|=24),h=on(3,null,null,n),t.current=h,h.stateNode=t,n=df(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},yf(h),t}function yy(t){return t?(t=qa,t):qa}function vy(t,n,a,l,f,h){f=yy(f),l.context===null?l.context=f:l.pendingContext=f,l=Wi(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=Ji(t,l,n),a!==null&&(dn(a,t,n),ml(a,t,n))}function _y(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Oh(t,n){_y(t,n),(t=t.alternate)&&_y(t,n)}function Ey(t){if(t.tag===13){var n=Ha(t,67108864);n!==null&&dn(n,t,67108864),Oh(t,67108864)}}var Lu=!0;function bT(t,n,a,l){var f=j.T;j.T=null;var h=et.p;try{et.p=2,xh(t,n,a,l)}finally{et.p=h,j.T=f}}function RT(t,n,a,l){var f=j.T;j.T=null;var h=et.p;try{et.p=8,xh(t,n,a,l)}finally{et.p=h,j.T=f}}function xh(t,n,a,l){if(Lu){var f=Lh(l);if(f===null)Th(t,n,l,Uu,a),Ay(t,l);else if(CT(f,t,n,a,l))l.stopPropagation();else if(Ay(t,l),n&4&&-1<wT.indexOf(t)){for(;f!==null;){var h=qn(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=Mn(h.pendingLanes);if(_!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var R=1<<31-He(_);T.entanglements[1]|=R,_&=~R}ni(h),(jt&6)===0&&(_u=yn()+500,Ml(0))}}break;case 13:T=Ha(h,2),T!==null&&dn(T,h,2),Tu(),Oh(h,2)}if(h=Lh(l),h===null&&Th(t,n,l,Uu,a),h===f)break;f=h}f!==null&&l.stopPropagation()}else Th(t,n,l,null,a)}}function Lh(t){return t=En(t),Uh(t)}var Uu=null;function Uh(t){if(Uu=null,t=di(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Uu=t,null}function Ty(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pc()){case Us:return 2;case Ea:return 8;case xr:case kc:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var zh=!1,fr=null,hr=null,dr=null,kl=new Map,Bl=new Map,mr=[],wT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(t,n){switch(t){case"focusin":case"focusout":fr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":kl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(n.pointerId)}}function Hl(t,n,a,l,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[f]},n!==null&&(n=qn(n),n!==null&&Ey(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function CT(t,n,a,l,f){switch(n){case"focusin":return fr=Hl(fr,t,n,a,l,f),!0;case"dragenter":return hr=Hl(hr,t,n,a,l,f),!0;case"mouseover":return dr=Hl(dr,t,n,a,l,f),!0;case"pointerover":var h=f.pointerId;return kl.set(h,Hl(kl.get(h)||null,t,n,a,l,f)),!0;case"gotpointercapture":return h=f.pointerId,Bl.set(h,Hl(Bl.get(h)||null,t,n,a,l,f)),!0}return!1}function Sy(t){var n=di(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,To(t.priority,function(){if(a.tag===13){var l=hn();l=qi(l);var f=Ha(a,l);f!==null&&dn(f,a,l),Oh(a,l)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=Lh(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);yi=l,a.target.dispatchEvent(l),yi=null}else return n=qn(a),n!==null&&Ey(n),t.blockedOn=a,!1;n.shift()}return!0}function by(t,n,a){zu(t)&&a.delete(n)}function DT(){zh=!1,fr!==null&&zu(fr)&&(fr=null),hr!==null&&zu(hr)&&(hr=null),dr!==null&&zu(dr)&&(dr=null),kl.forEach(by),Bl.forEach(by)}function Pu(t,n){t.blockedOn===n&&(t.blockedOn=null,zh||(zh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DT)))}var ku=null;function Ry(t){ku!==t&&(ku=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){ku===t&&(ku=null);for(var n=0;n<t.length;n+=3){var a=t[n],l=t[n+1],f=t[n+2];if(typeof l!="function"){if(Uh(l||a)===null)continue;break}var h=qn(a);h!==null&&(t.splice(n,3),n-=3,Uf(h,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function ql(t){function n(R){return Pu(R,t)}fr!==null&&Pu(fr,t),hr!==null&&Pu(hr,t),dr!==null&&Pu(dr,t),kl.forEach(n),Bl.forEach(n);for(var a=0;a<mr.length;a++){var l=mr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<mr.length&&(a=mr[0],a.blockedOn===null);)Sy(a),a.blockedOn===null&&mr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],h=a[l+1],_=f[he]||null;if(typeof h=="function")_||Ry(a);else if(_){var T=null;if(h&&h.hasAttribute("formAction")){if(f=h,_=h[he]||null)T=_.formAction;else if(Uh(f)!==null)continue}else T=_.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Ry(a)}}}function Ph(t){this._internalRoot=t}Bu.prototype.render=Ph.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,l=hn();vy(a,l,t,n,null,null)},Bu.prototype.unmount=Ph.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;vy(t.current,2,null,t,null,null),Tu(),n[vn]=null}};function Bu(t){this._internalRoot=t}Bu.prototype.unstable_scheduleHydration=function(t){if(t){var n=ji();t={blockedOn:null,target:t,priority:n};for(var a=0;a<mr.length&&n!==0&&n<mr[a].priority;a++);mr.splice(a,0,t),a===0&&Sy(t)}};var wy=e.version;if(wy!=="19.1.0")throw Error(s(527,wy,"19.1.0"));et.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var VT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hu.isDisabled&&Hu.supportsFiber)try{ae=Hu.inject(VT),qt=Hu}catch{}}return Gl.createRoot=function(t,n){if(!o(t))throw Error(s(299));var a=!1,l="",f=qg,h=jg,_=Gg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=py(t,1,!1,null,null,a,l,f,h,_,T,null),t[vn]=n.current,Eh(t),new Ph(n)},Gl.hydrateRoot=function(t,n,a){if(!o(t))throw Error(s(299));var l=!1,f="",h=qg,_=jg,T=Gg,R=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(R=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),n=py(t,1,!0,n,a??null,l,f,h,_,T,R,P),n.context=yy(null),a=n.current,l=hn(),l=qi(l),f=Wi(l),f.callback=null,Ji(a,f,l),a=l,n.current.lanes=a,hi(n,a),ni(n),t[vn]=n.current,Eh(t),new Bu(n)},Gl.version="19.1.0",Gl}var Uy;function kT(){if(Uy)return Hh.exports;Uy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hh.exports=PT(),Hh.exports}var BT=kT();const HT=()=>{};var zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[i++]=o:o<2048?(e[i++]=o>>6|192,e[i++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=o>>18|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128,e[i++]=o&63|128):(e[i++]=o>>12|224,e[i++]=o>>6&63|128,e[i++]=o&63|128)}return e},qT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const o=r[i++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];e[s++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},l_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let D=(g&15)<<2|y>>6,B=y&63;p||(B=64,d||(D=64)),s.push(i[E],i[S],i[D],i[B])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(s_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):qT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const y=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||y==null||S==null)throw new jT;const D=c<<2|g>>4;if(s.push(D),y!==64){const B=g<<4&240|y>>2;if(s.push(B),S!==64){const Y=y<<6&192|S;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class jT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GT=function(r){const e=s_(r);return l_.encodeByteArray(e,!0)},rc=function(r){return GT(r).replace(/\./g,"")},FT=function(r){try{return l_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=()=>YT().__FIREBASE_DEFAULTS__,XT=()=>{if(typeof process>"u"||typeof zy>"u")return;const r=zy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},KT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&FT(r[1]);return e&&JSON.parse(e)},Od=()=>{try{return HT()||QT()||XT()||KT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ZT=r=>{var e,i;return(i=(e=Od())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},WT=r=>{const e=ZT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},o_=()=>{var r;return(r=Od())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[rc(JSON.stringify(i)),rc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function e1(){var r;const e=(r=Od())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function n1(){return!e1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function i1(){try{return typeof indexedDB=="object"}catch{return!1}}function r1(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1="FirebaseError";class Vs extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=a1,Object.setPrototypeOf(this,Vs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,u_.prototype.create)}}class u_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?s1(c,s):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new Vs(o,g,s)}}function s1(r,e){return r.replace(l1,(i,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const l1=/\{\$([^}]+)}/g;function ac(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const o of i){if(!s.includes(o))return!1;const c=r[o],d=e[o];if(Py(c)&&Py(d)){if(!ac(c,d))return!1}else if(c!==d)return!1}for(const o of s)if(!i.includes(o))return!1;return!0}function Py(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(r){return r&&r._delegate?r._delegate:r}class $l{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new JT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c1(e))try{this.getOrInitializeService({instanceIdentifier:ma})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});s.resolve(c)}catch{}}}}clearInstance(e=ma){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ma){return this.instances.has(e)}getOptions(e=ma){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(o)}return o}onInit(e,i){var s;const o=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const o of s)try{o(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:u1(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ma){return this.component?this.component.multipleInstances?e:ma:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function u1(r){return r===ma?void 0:r}function c1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new o1(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const h1={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},d1=Lt.INFO,m1={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},g1=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=m1[e];if(o)console[o](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class c_{constructor(e){this.name=e,this._logLevel=d1,this._logHandler=g1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Lt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?h1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...e),this._logHandler(this,Lt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...e),this._logHandler(this,Lt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...e),this._logHandler(this,Lt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...e),this._logHandler(this,Lt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...e),this._logHandler(this,Lt.ERROR,...e)}}const p1=(r,e)=>e.some(i=>r instanceof i);let ky,By;function y1(){return ky||(ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v1(){return By||(By=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f_=new WeakMap,sd=new WeakMap,h_=new WeakMap,Fh=new WeakMap,xd=new WeakMap;function _1(r){const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(vr(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&f_.set(i,r)}).catch(()=>{}),xd.set(e,r),e}function E1(r){if(sd.has(r))return;const e=new Promise((i,s)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});sd.set(r,e)}let ld={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return sd.get(r);if(e==="objectStoreNames")return r.objectStoreNames||h_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return vr(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function T1(r){ld=r(ld)}function A1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Yh(this),e,...i);return h_.set(s,e.sort?e.sort():[e]),vr(s)}:v1().includes(r)?function(...e){return r.apply(Yh(this),e),vr(f_.get(this))}:function(...e){return vr(r.apply(Yh(this),e))}}function S1(r){return typeof r=="function"?A1(r):(r instanceof IDBTransaction&&E1(r),p1(r,y1())?new Proxy(r,ld):r)}function vr(r){if(r instanceof IDBRequest)return _1(r);if(Fh.has(r))return Fh.get(r);const e=S1(r);return e!==r&&(Fh.set(r,e),xd.set(e,r)),e}const Yh=r=>xd.get(r);function b1(r,e,{blocked:i,upgrade:s,blocking:o,terminated:c}={}){const d=indexedDB.open(r,e),g=vr(d);return s&&d.addEventListener("upgradeneeded",p=>{s(vr(d.result),p.oldVersion,p.newVersion,vr(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const R1=["get","getKey","getAll","getAllKeys","count"],w1=["put","add","delete","clear"],Qh=new Map;function Hy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qh.get(e))return Qh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,o=w1.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(o||R1.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),o&&p.done]))[0]};return Qh.set(e,c),c}T1(r=>({...r,get:(e,i,s)=>Hy(e,i)||r.get(e,i,s),has:(e,i)=>!!Hy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(D1(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function D1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const od="@firebase/app",qy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pi=new c_("@firebase/app"),V1="@firebase/app-compat",I1="@firebase/analytics-compat",M1="@firebase/analytics",N1="@firebase/app-check-compat",O1="@firebase/app-check",x1="@firebase/auth",L1="@firebase/auth-compat",U1="@firebase/database",z1="@firebase/data-connect",P1="@firebase/database-compat",k1="@firebase/functions",B1="@firebase/functions-compat",H1="@firebase/installations",q1="@firebase/installations-compat",j1="@firebase/messaging",G1="@firebase/messaging-compat",F1="@firebase/performance",Y1="@firebase/performance-compat",Q1="@firebase/remote-config",X1="@firebase/remote-config-compat",K1="@firebase/storage",Z1="@firebase/storage-compat",W1="@firebase/firestore",J1="@firebase/vertexai",$1="@firebase/firestore-compat",tA="firebase",eA="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud="[DEFAULT]",nA={[od]:"fire-core",[V1]:"fire-core-compat",[M1]:"fire-analytics",[I1]:"fire-analytics-compat",[O1]:"fire-app-check",[N1]:"fire-app-check-compat",[x1]:"fire-auth",[L1]:"fire-auth-compat",[U1]:"fire-rtdb",[z1]:"fire-data-connect",[P1]:"fire-rtdb-compat",[k1]:"fire-fn",[B1]:"fire-fn-compat",[H1]:"fire-iid",[q1]:"fire-iid-compat",[j1]:"fire-fcm",[G1]:"fire-fcm-compat",[F1]:"fire-perf",[Y1]:"fire-perf-compat",[Q1]:"fire-rc",[X1]:"fire-rc-compat",[K1]:"fire-gcs",[Z1]:"fire-gcs-compat",[W1]:"fire-fst",[$1]:"fire-fst-compat",[J1]:"fire-vertex","fire-js":"fire-js",[tA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sc=new Map,iA=new Map,cd=new Map;function jy(r,e){try{r.container.addComponent(e)}catch(i){Pi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function lc(r){const e=r.name;if(cd.has(e))return Pi.debug(`There were multiple attempts to register component ${e}.`),!1;cd.set(e,r);for(const i of sc.values())jy(i,r);for(const i of iA.values())jy(i,r);return!0}function rA(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function aA(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new u_("app","Firebase",sA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new $l("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA=eA;function d_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:ud,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw _r.create("bad-app-name",{appName:String(o)});if(i||(i=o_()),!i)throw _r.create("no-options");const c=sc.get(o);if(c){if(ac(i,c.options)&&ac(s,c.config))return c;throw _r.create("duplicate-app",{appName:o})}const d=new f1(o);for(const p of cd.values())d.addComponent(p);const g=new lA(i,s,d);return sc.set(o,g),g}function uA(r=ud){const e=sc.get(r);if(!e&&r===ud&&o_())return d_();if(!e)throw _r.create("no-app",{appName:r});return e}function _s(r,e,i){var s;let o=(s=nA[r])!==null&&s!==void 0?s:r;i&&(o+=`-${i}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${o}" with version "${e}":`];c&&g.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pi.warn(g.join(" "));return}lc(new $l(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="firebase-heartbeat-database",fA=1,to="firebase-heartbeat-store";let Xh=null;function m_(){return Xh||(Xh=b1(cA,fA,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(to)}catch(i){console.warn(i)}}}}).catch(r=>{throw _r.create("idb-open",{originalErrorMessage:r.message})})),Xh}async function hA(r){try{const i=(await m_()).transaction(to),s=await i.objectStore(to).get(g_(r));return await i.done,s}catch(e){if(e instanceof Vs)Pi.warn(e.message);else{const i=_r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pi.warn(i.message)}}}async function Gy(r,e){try{const s=(await m_()).transaction(to,"readwrite");await s.objectStore(to).put(e,g_(r)),await s.done}catch(i){if(i instanceof Vs)Pi.warn(i.message);else{const s=_r.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Pi.warn(s.message)}}}function g_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dA=1024,mA=30;class gA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new yA(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Fy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>mA){const d=vA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Pi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Fy(),{heartbeatsToSend:s,unsentEntries:o}=pA(this._heartbeatsCache.heartbeats),c=rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Pi.warn(i),""}}}function Fy(){return new Date().toISOString().substring(0,10)}function pA(r,e=dA){const i=[];let s=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),Yy(i)>e){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),Yy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class yA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return i1()?r1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await hA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return Gy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Yy(r){return rc(JSON.stringify({version:2,heartbeats:r})).length}function vA(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(r){lc(new $l("platform-logger",e=>new C1(e),"PRIVATE")),lc(new $l("heartbeat",e=>new gA(e),"PRIVATE")),_s(od,qy,r),_s(od,qy,"esm2017"),_s("fire-js","")}_A("");var Qy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Er,p_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,b){function C(){}C.prototype=b.prototype,N.D=b.prototype,N.prototype=new C,N.prototype.constructor=N,N.C=function(M,O,L){for(var w=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)w[ve-2]=arguments[ve];return b.prototype[O].apply(M,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,b,C){C||(C=0);var M=Array(16);if(typeof b=="string")for(var O=0;16>O;++O)M[O]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(O=0;16>O;++O)M[O]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=N.g[0],C=N.g[1],O=N.g[2];var L=N.g[3],w=b+(L^C&(O^L))+M[0]+3614090360&4294967295;b=C+(w<<7&4294967295|w>>>25),w=L+(O^b&(C^O))+M[1]+3905402710&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(C^L&(b^C))+M[2]+606105819&4294967295,O=L+(w<<17&4294967295|w>>>15),w=C+(b^O&(L^b))+M[3]+3250441966&4294967295,C=O+(w<<22&4294967295|w>>>10),w=b+(L^C&(O^L))+M[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(O^b&(C^O))+M[5]+1200080426&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(C^L&(b^C))+M[6]+2821735955&4294967295,O=L+(w<<17&4294967295|w>>>15),w=C+(b^O&(L^b))+M[7]+4249261313&4294967295,C=O+(w<<22&4294967295|w>>>10),w=b+(L^C&(O^L))+M[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(O^b&(C^O))+M[9]+2336552879&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(C^L&(b^C))+M[10]+4294925233&4294967295,O=L+(w<<17&4294967295|w>>>15),w=C+(b^O&(L^b))+M[11]+2304563134&4294967295,C=O+(w<<22&4294967295|w>>>10),w=b+(L^C&(O^L))+M[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=L+(O^b&(C^O))+M[13]+4254626195&4294967295,L=b+(w<<12&4294967295|w>>>20),w=O+(C^L&(b^C))+M[14]+2792965006&4294967295,O=L+(w<<17&4294967295|w>>>15),w=C+(b^O&(L^b))+M[15]+1236535329&4294967295,C=O+(w<<22&4294967295|w>>>10),w=b+(O^L&(C^O))+M[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^O&(b^C))+M[6]+3225465664&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^C&(L^b))+M[11]+643717713&4294967295,O=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(O^L))+M[0]+3921069994&4294967295,C=O+(w<<20&4294967295|w>>>12),w=b+(O^L&(C^O))+M[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^O&(b^C))+M[10]+38016083&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^C&(L^b))+M[15]+3634488961&4294967295,O=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(O^L))+M[4]+3889429448&4294967295,C=O+(w<<20&4294967295|w>>>12),w=b+(O^L&(C^O))+M[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^O&(b^C))+M[14]+3275163606&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^C&(L^b))+M[3]+4107603335&4294967295,O=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(O^L))+M[8]+1163531501&4294967295,C=O+(w<<20&4294967295|w>>>12),w=b+(O^L&(C^O))+M[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=L+(C^O&(b^C))+M[2]+4243563512&4294967295,L=b+(w<<9&4294967295|w>>>23),w=O+(b^C&(L^b))+M[7]+1735328473&4294967295,O=L+(w<<14&4294967295|w>>>18),w=C+(L^b&(O^L))+M[12]+2368359562&4294967295,C=O+(w<<20&4294967295|w>>>12),w=b+(C^O^L)+M[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^O)+M[8]+2272392833&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^C)+M[11]+1839030562&4294967295,O=L+(w<<16&4294967295|w>>>16),w=C+(O^L^b)+M[14]+4259657740&4294967295,C=O+(w<<23&4294967295|w>>>9),w=b+(C^O^L)+M[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^O)+M[4]+1272893353&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^C)+M[7]+4139469664&4294967295,O=L+(w<<16&4294967295|w>>>16),w=C+(O^L^b)+M[10]+3200236656&4294967295,C=O+(w<<23&4294967295|w>>>9),w=b+(C^O^L)+M[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^O)+M[0]+3936430074&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^C)+M[3]+3572445317&4294967295,O=L+(w<<16&4294967295|w>>>16),w=C+(O^L^b)+M[6]+76029189&4294967295,C=O+(w<<23&4294967295|w>>>9),w=b+(C^O^L)+M[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=L+(b^C^O)+M[12]+3873151461&4294967295,L=b+(w<<11&4294967295|w>>>21),w=O+(L^b^C)+M[15]+530742520&4294967295,O=L+(w<<16&4294967295|w>>>16),w=C+(O^L^b)+M[2]+3299628645&4294967295,C=O+(w<<23&4294967295|w>>>9),w=b+(O^(C|~L))+M[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~O))+M[7]+1126891415&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~C))+M[14]+2878612391&4294967295,O=L+(w<<15&4294967295|w>>>17),w=C+(L^(O|~b))+M[5]+4237533241&4294967295,C=O+(w<<21&4294967295|w>>>11),w=b+(O^(C|~L))+M[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~O))+M[3]+2399980690&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~C))+M[10]+4293915773&4294967295,O=L+(w<<15&4294967295|w>>>17),w=C+(L^(O|~b))+M[1]+2240044497&4294967295,C=O+(w<<21&4294967295|w>>>11),w=b+(O^(C|~L))+M[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~O))+M[15]+4264355552&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~C))+M[6]+2734768916&4294967295,O=L+(w<<15&4294967295|w>>>17),w=C+(L^(O|~b))+M[13]+1309151649&4294967295,C=O+(w<<21&4294967295|w>>>11),w=b+(O^(C|~L))+M[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=L+(C^(b|~O))+M[11]+3174756917&4294967295,L=b+(w<<10&4294967295|w>>>22),w=O+(b^(L|~C))+M[2]+718787259&4294967295,O=L+(w<<15&4294967295|w>>>17),w=C+(L^(O|~b))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+b&4294967295,N.g[1]=N.g[1]+(O+(w<<21&4294967295|w>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+L&4294967295}s.prototype.u=function(N,b){b===void 0&&(b=N.length);for(var C=b-this.blockSize,M=this.B,O=this.h,L=0;L<b;){if(O==0)for(;L<=C;)o(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<b;)if(M[O++]=N.charCodeAt(L++),O==this.blockSize){o(this,M),O=0;break}}else for(;L<b;)if(M[O++]=N[L++],O==this.blockSize){o(this,M),O=0;break}}this.h=O,this.o+=b},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var b=1;b<N.length-8;++b)N[b]=0;var C=8*this.o;for(b=N.length-8;b<N.length;++b)N[b]=C&255,C/=256;for(this.u(N),N=Array(16),b=C=0;4>b;++b)for(var M=0;32>M;M+=8)N[C++]=this.g[b]>>>M&255;return N};function c(N,b){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=b(N)}function d(N,b){this.h=b;for(var C=[],M=!0,O=N.length-1;0<=O;O--){var L=N[O]|0;M&&L==b||(C[O]=L,M=!1)}this.g=C}var g={};function p(N){return-128<=N&&128>N?c(N,function(b){return new d([b|0],0>b?-1:0)}):new d([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(0>N)return W(y(-N));for(var b=[],C=1,M=0;N>=C;M++)b[M]=N/C|0,C*=4294967296;return new d(b,0)}function E(N,b){if(N.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(N.charAt(0)=="-")return W(E(N.substring(1),b));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(b,8)),M=S,O=0;O<N.length;O+=8){var L=Math.min(8,N.length-O),w=parseInt(N.substring(O,O+L),b);8>L?(L=y(Math.pow(b,L)),M=M.j(L).add(y(w))):(M=M.j(C),M=M.add(y(w)))}return M}var S=p(0),D=p(1),B=p(16777216);r=d.prototype,r.m=function(){if(J(this))return-W(this).m();for(var N=0,b=1,C=0;C<this.g.length;C++){var M=this.i(C);N+=(0<=M?M:4294967296+M)*b,b*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(Y(this))return"0";if(J(this))return"-"+W(this).toString(N);for(var b=y(Math.pow(N,6)),C=this,M="";;){var O=At(C,b).g;C=rt(C,O.j(b));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(N);if(C=O,Y(C))return L+M;for(;6>L.length;)L="0"+L;M=L+M}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function Y(N){if(N.h!=0)return!1;for(var b=0;b<N.g.length;b++)if(N.g[b]!=0)return!1;return!0}function J(N){return N.h==-1}r.l=function(N){return N=rt(this,N),J(N)?-1:Y(N)?0:1};function W(N){for(var b=N.g.length,C=[],M=0;M<b;M++)C[M]=~N.g[M];return new d(C,~N.h).add(D)}r.abs=function(){return J(this)?W(this):this},r.add=function(N){for(var b=Math.max(this.g.length,N.g.length),C=[],M=0,O=0;O<=b;O++){var L=M+(this.i(O)&65535)+(N.i(O)&65535),w=(L>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);M=w>>>16,L&=65535,w&=65535,C[O]=w<<16|L}return new d(C,C[C.length-1]&-2147483648?-1:0)};function rt(N,b){return N.add(W(b))}r.j=function(N){if(Y(this)||Y(N))return S;if(J(this))return J(N)?W(this).j(W(N)):W(W(this).j(N));if(J(N))return W(this.j(W(N)));if(0>this.l(B)&&0>N.l(B))return y(this.m()*N.m());for(var b=this.g.length+N.g.length,C=[],M=0;M<2*b;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(var O=0;O<N.g.length;O++){var L=this.i(M)>>>16,w=this.i(M)&65535,ve=N.i(O)>>>16,re=N.i(O)&65535;C[2*M+2*O]+=w*re,ot(C,2*M+2*O),C[2*M+2*O+1]+=L*re,ot(C,2*M+2*O+1),C[2*M+2*O+1]+=w*ve,ot(C,2*M+2*O+1),C[2*M+2*O+2]+=L*ve,ot(C,2*M+2*O+2)}for(M=0;M<b;M++)C[M]=C[2*M+1]<<16|C[2*M];for(M=b;M<2*b;M++)C[M]=0;return new d(C,0)};function ot(N,b){for(;(N[b]&65535)!=N[b];)N[b+1]+=N[b]>>>16,N[b]&=65535,b++}function lt(N,b){this.g=N,this.h=b}function At(N,b){if(Y(b))throw Error("division by zero");if(Y(N))return new lt(S,S);if(J(N))return b=At(W(N),b),new lt(W(b.g),W(b.h));if(J(b))return b=At(N,W(b)),new lt(W(b.g),b.h);if(30<N.g.length){if(J(N)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var C=D,M=b;0>=M.l(N);)C=mt(C),M=mt(M);var O=St(C,1),L=St(M,1);for(M=St(M,2),C=St(C,2);!Y(M);){var w=L.add(M);0>=w.l(N)&&(O=O.add(C),L=w),M=St(M,1),C=St(C,1)}return b=rt(N,O.j(b)),new lt(O,b)}for(O=S;0<=N.l(b);){for(C=Math.max(1,Math.floor(N.m()/b.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),L=y(C),w=L.j(b);J(w)||0<w.l(N);)C-=M,L=y(C),w=L.j(b);Y(L)&&(L=D),O=O.add(L),N=rt(N,w)}return new lt(O,N)}r.A=function(N){return At(this,N).h},r.and=function(N){for(var b=Math.max(this.g.length,N.g.length),C=[],M=0;M<b;M++)C[M]=this.i(M)&N.i(M);return new d(C,this.h&N.h)},r.or=function(N){for(var b=Math.max(this.g.length,N.g.length),C=[],M=0;M<b;M++)C[M]=this.i(M)|N.i(M);return new d(C,this.h|N.h)},r.xor=function(N){for(var b=Math.max(this.g.length,N.g.length),C=[],M=0;M<b;M++)C[M]=this.i(M)^N.i(M);return new d(C,this.h^N.h)};function mt(N){for(var b=N.g.length+1,C=[],M=0;M<b;M++)C[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(C,N.h)}function St(N,b){var C=b>>5;b%=32;for(var M=N.g.length-C,O=[],L=0;L<M;L++)O[L]=0<b?N.i(L+C)>>>b|N.i(L+C+1)<<32-b:N.i(L+C);return new d(O,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,p_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Er=d}).apply(typeof Qy<"u"?Qy:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var y_,Fl,v_,Wu,fd,__,E_,T_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function o(u,m){if(m)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in v))break t;v=v[U]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var v=0,A=!1,U={next:function(){if(!A&&v<u.length){var q=v++;return{value:m(q,u[q]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(u){return u||function(){return c(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function D(u,m,v){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,D.apply(null,arguments)}function B(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Y(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,U,q){for(var tt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)tt[Mt-2]=arguments[Mt];return m.prototype[U].apply(A,tt)}}function J(u){const m=u.length;if(0<m){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function W(u,m){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const U=u.length||0,q=A.length||0;u.length=U+q;for(let tt=0;tt<q;tt++)u[U+tt]=A[tt]}else u.push(A)}}class rt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function ot(u){return/^[\s\xa0]*$/.test(u)}function lt(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function At(u){return At[" "](u),u}At[" "]=function(){};var mt=lt().indexOf("Gecko")!=-1&&!(lt().toLowerCase().indexOf("webkit")!=-1&&lt().indexOf("Edge")==-1)&&!(lt().indexOf("Trident")!=-1||lt().indexOf("MSIE")!=-1)&&lt().indexOf("Edge")==-1;function St(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function N(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function b(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(u,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)u[v]=A[v];for(let q=0;q<C.length;q++)v=C[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function O(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function L(u){g.setTimeout(()=>{throw u},0)}function w(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ve{constructor(){this.h=this.g=null}add(m,v){const A=re.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var re=new rt(()=>new j,u=>u.reset());class j{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let et,ct=!1,zt=new ve,V=()=>{const u=g.Promise.resolve(void 0);et=()=>{u.then(Z)}};var Z=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(v){L(v)}var m=re;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ct=!1};function nt(){this.s=this.s,this.C=this.C}nt.prototype.s=!1,nt.prototype.ma=function(){this.s||(this.s=!0,this.N())},nt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ht=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u}();function wt(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(mt){t:{try{At(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}Y(wt,$);var vt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var we="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Bn(u,m,v,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Hi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ci(u){this.src=u,this.g={},this.h=0}ci.prototype.add=function(u,m,v,A,U){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var tt=Nr(u,m,A,U);return-1<tt?(m=u[tt],v||(m.fa=!1)):(m=new Bn(m,this.src,q,!!A,U),m.fa=v,u.push(m)),m};function Mr(u,m){var v=m.type;if(v in u.g){var A=u.g[v],U=Array.prototype.indexOf.call(A,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(A,U,1),q&&(Hi(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Nr(u,m,v,A){for(var U=0;U<u.length;++U){var q=u[U];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return U}return-1}var Or="closure_lm_"+(1e6*Math.random()|0),Ls={};function vo(u,m,v,A,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)vo(u,m[q],v,A,U);return null}return v=_o(v),u&&u[we]?u.K(m,v,y(A)?!!A.capture:!1,U):yn(u,m,v,!1,A,U)}function yn(u,m,v,A,U,q){if(!m)throw Error("Invalid event type");var tt=y(U)?!!U.capture:!!U,Mt=Ta(u);if(Mt||(u[Or]=Mt=new ci(u)),v=Mt.add(m,v,A,tt,q),v.proxy)return v;if(A=Pc(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)ht||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(xr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Pc(){function u(v){return m.call(u.src,u.listener,v)}const m=kc;return u}function Us(u,m,v,A,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Us(u,m[q],v,A,U);else A=y(A)?!!A.capture:!!A,v=_o(v),u&&u[we]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],v=Nr(q,v,A,U),-1<v&&(Hi(q[v]),Array.prototype.splice.call(q,v,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ta(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Nr(m,v,A,U)),(v=-1<u?m[u]:null)&&Ea(v))}function Ea(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[we])Mr(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(xr(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Ta(m))?(Mr(v,u),v.h==0&&(v.src=null,m[Or]=null)):Hi(u)}}}function xr(u){return u in Ls?Ls[u]:Ls[u]="on"+u}function kc(u,m){if(u.da)u=!0;else{m=new wt(m,this);var v=u.listener,A=u.ha||u.src;u.fa&&Ea(u),u=v.call(A,m)}return u}function Ta(u){return u=u[Or],u instanceof ci?u:null}var zs="__closure_events_fn_"+(1e9*Math.random()>>>0);function _o(u){return typeof u=="function"?u:(u[zs]||(u[zs]=function(m){return u.handleEvent(m)}),u[zs])}function ae(){nt.call(this),this.i=new ci(this),this.M=this,this.F=null}Y(ae,nt),ae.prototype[we]=!0,ae.prototype.removeEventListener=function(u,m,v,A){Us(this,u,m,v,A)};function qt(u,m){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var U=m;m=new $(A,u),M(m,U)}if(U=!0,v)for(var q=v.length-1;0<=q;q--){var tt=m.g=v[q];U=an(tt,A,!0,m)&&U}if(tt=m.g=u,U=an(tt,A,!0,m)&&U,U=an(tt,A,!1,m)&&U,v)for(q=0;q<v.length;q++)tt=m.g=v[q],U=an(tt,A,!1,m)&&U}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],A=0;A<v.length;A++)Hi(v[A]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},ae.prototype.L=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function an(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var tt=m[q];if(tt&&!tt.da&&tt.capture==v){var Mt=tt.listener,Ee=tt.ha||tt.src;tt.fa&&Mr(u.i,tt),U=Mt.call(Ee,A)!==!1&&U}}return U&&!A.defaultPrevented}function He(u,m,v){if(typeof u=="function")v&&(u=D(u,v));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Eo(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,Eo(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Bc extends nt{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Eo(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lr(u){nt.call(this),this.h=u,this.g={}}Y(Lr,nt);var Ur=[];function zr(u){St(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ea(m)},u),u.g={}}Lr.prototype.N=function(){Lr.aa.N.call(this),zr(this)},Lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=g.JSON.stringify,Aa=g.JSON.parse,Pr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Ps(){}Ps.prototype.h=null;function ks(u){return u.h||(u.h=u.i())}function Bs(){}var fi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hi(){$.call(this,"d")}Y(hi,$);function Hs(){$.call(this,"c")}Y(Hs,$);var Hn={},qs=null;function qi(){return qs=qs||new ae}Hn.La="serverreachability";function Sa(u){$.call(this,Hn.La,u)}Y(Sa,$);function ji(u){const m=qi();qt(m,new Sa(m))}Hn.STAT_EVENT="statevent";function To(u,m){$.call(this,Hn.STAT_EVENT,u),this.stat=m}Y(To,$);function $t(u){const m=qi();qt(m,new To(m,u))}Hn.Ma="timingevent";function _e(u,m){$.call(this,Hn.Ma,u),this.size=m}Y(_e,$);function he(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function js(u,m,v,A,U,q){u.info(function(){if(u.g)if(q)for(var tt="",Mt=q.split("&"),Ee=0;Ee<Mt.length;Ee++){var Nt=Mt[Ee].split("=");if(1<Nt.length){var De=Nt[0];Nt=Nt[1];var Te=De.split("_");tt=2<=Te.length&&Te[1]=="type"?tt+(De+"="+Nt+"&"):tt+(De+"=redacted&")}}else tt=null;else tt=q;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function Hc(u,m,v,A,U,q,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+q+" "+tt})}function Gi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+kr(u,v)+(A?" "+A:"")})}function Ao(u,m){u.info(function(){return"TIMEOUT: "+m})}vn.prototype.info=function(){};function kr(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var tt=1;tt<U.length;tt++)U[tt]=""}}}}return Mn(v)}catch{return m}}var Fi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},di={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function jn(){}Y(jn,Ps),jn.prototype.g=function(){return new XMLHttpRequest},jn.prototype.i=function(){return{}},qn=new jn;function Qe(u,m,v,A){this.j=u,this.i=m,this.l=v,this.R=A||1,this.U=new Lr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oe}function oe(){this.i=null,this.g="",this.h=!1}var Gs={},ba={};function Nn(u,m,v){u.L=1,u.v=Gr(sn(m)),u.m=v,u.P=!0,mi(u,null)}function mi(u,m){u.F=Date.now(),Br(u),u.A=sn(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Zs(v.i,"t",A),u.C=0,v=u.j.J,u.h=new oe,u.g=Po(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Bc(D(u.Y,u,u.g),u.O)),m=u.U,v=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(Ur[0]=U.toString()),U=Ur);for(var q=0;q<U.length;q++){var tt=vo(v,U[q],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),ji(),js(u.i,u.u,u.A,u.l,u.R,u.m)}Qe.prototype.ca=function(u){u=u.target;const m=this.M;m&&An(u)==3?m.j():this.Y(u)},Qe.prototype.Y=function(u){try{if(u==this.g)t:{const Te=An(this.g);var m=this.g.Ba();const Ai=this.g.Z();if(!(3>Te)&&(Te!=3||this.g&&(this.h.h||this.g.oa()||Io(this.g)))){this.J||Te!=4||m==7||(m==8||0>=Ai?ji(3):ji(2)),Yi(this);var v=this.g.Z();this.X=v;e:if(So(this)){var A=Io(this.g);u="";var U=A.length,q=An(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),Gn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(q&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=v==200,Hc(this.i,this.u,this.A,this.l,this.R,Te,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Ee=this.g;if((Mt=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ot(Mt)){var Nt=Mt;break e}}Nt=null}if(v=Nt)Gi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hr(this,v);else{this.o=!1,this.s=3,$t(12),Oe(this),Gn(this);break t}}if(this.P){v=!0;let xe;for(;!this.J&&this.C<tt.length;)if(xe=bo(this,tt),xe==ba){Te==4&&(this.s=4,$t(14),v=!1),Gi(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Gs){this.s=4,$t(15),Gi(this.i,this.l,tt,"[Invalid Chunk]"),v=!1;break}else Gi(this.i,this.l,xe,null),Hr(this,xe);if(So(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Te!=4||tt.length!=0||this.h.h||(this.s=1,$t(16),v=!1),this.o=this.o&&v,!v)Gi(this.i,this.l,tt,"[Invalid Chunked Response]"),Oe(this),Gn(this);else if(0<tt.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),Jr(De),De.M=!0,$t(11))}}else Gi(this.i,this.l,tt,null),Hr(this,tt);Te==4&&Oe(this),this.o&&!this.J&&(Te==4?Lo(this.j,this):(this.o=!1,Br(this)))}else Yc(this.g),v==400&&0<tt.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Oe(this),Gn(this)}}}catch{}finally{}};function So(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function bo(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?ba:(v=Number(m.substring(v,A)),isNaN(v)?Gs:(A+=1,A+v>m.length?ba:(m=m.slice(A,A+v),u.C=A+v,m)))}Qe.prototype.cancel=function(){this.J=!0,Oe(this)};function Br(u){u.S=Date.now()+u.I,Ro(u,u.I)}function Ro(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=he(D(u.ba,u),m)}function Yi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Qe.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Ao(this.i,this.A),this.L!=2&&(ji(),$t(17)),Oe(this),this.s=2,Gn(this)):Ro(this,this.S-u)};function Gn(u){u.j.G==0||u.J||Lo(u.j,u)}function Oe(u){Yi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,zr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function Hr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Fs(v.h,u))){if(!u.K&&Fs(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)Ua(v),xa(v);else break t;el(v),$t(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=he(D(v.Za,v),6e3));if(1>=wa(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ti(v,11)}else if((u.K||v.g==u)&&Ua(v),!ot(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Nt=U[m];if(v.T=Nt[0],Nt=Nt[1],v.G==2)if(Nt[0]=="c"){v.K=Nt[1],v.ia=Nt[2];const De=Nt[3];De!=null&&(v.la=De,v.j.info("VER="+v.la));const Te=Nt[4];Te!=null&&(v.Aa=Te,v.j.info("SVER="+v.Aa));const Ai=Nt[5];Ai!=null&&typeof Ai=="number"&&0<Ai&&(A=1.5*Ai,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const xe=u.g;if(xe){const Wn=xe.g?xe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Wn){var q=A.h;q.g||Wn.indexOf("spdy")==-1&&Wn.indexOf("quic")==-1&&Wn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ca(q,q.h),q.h=null))}if(A.D){const il=xe.g?xe.g.getResponseHeader("X-HTTP-Session-Id"):null;il&&(A.ya=il,Ft(A.I,A.D,il))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var tt=u;if(A.qa=zo(A,A.J?A.ia:null,A.W),tt.K){Xe(A.h,tt);var Mt=tt,Ee=A.L;Ee&&(Mt.I=Ee),Mt.B&&(Yi(Mt),Br(Mt)),A.g=tt}else Oo(A);0<v.i.length&&La(v)}else Nt[0]!="stop"&&Nt[0]!="close"||Ti(v,7);else v.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?Ti(v,7):$s(v):Nt[0]!="noop"&&v.l&&v.l.ta(Nt),v.v=0)}}ji(4)}catch{}}var wo=class{constructor(u,m){this.g=u,this.map=m}};function gi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ra(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function wa(u){return u.h?1:u.g?u.g.size:0}function Fs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ca(u,m){u.g?u.g.add(m):u.h=m}function Xe(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}gi.prototype.cancel=function(){if(this.i=Ys(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ys(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return J(u.i)}function qc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,A=0;A<v;A++)m.push(u[A]);return m}m=[],v=0;for(A in u)m[v++]=u[A];return m}function Da(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const A in u)m[v++]=A;return m}}}function Qs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Da(u),A=qc(u),U=A.length,q=0;q<U;q++)m.call(void 0,A[q],v&&v[q],u)}var qr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jc(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),U=null;if(0<=A){var q=u[v].substring(0,A);U=u[v].substring(A+1)}else q=u[v];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function de(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof de){this.h=u.h,jr(this,u.j),this.o=u.o,this.g=u.g,Qi(this,u.s),this.l=u.l;var m=u.i,v=new yi;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),pi(this,v),this.m=u.m}else u&&(m=String(u).match(qr))?(this.h=!1,jr(this,m[1]||"",!0),this.o=_n(m[2]||""),this.g=_n(m[3]||"",!0),Qi(this,m[4]),this.l=_n(m[5]||"",!0),pi(this,m[6]||"",!0),this.m=_n(m[7]||"")):(this.h=!1,this.i=new yi(null,this.h))}de.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Fr(m,Xs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Fr(m,Xs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Fr(v,v.charAt(0)=="/"?Gc:Ks,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Fr(v,Va)),u.join("")};function sn(u){return new de(u)}function jr(u,m,v){u.j=v?_n(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qi(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function pi(u,m,v){m instanceof yi?(u.i=m,Do(u.i,u.h)):(v||(m=Fr(m,Fc)),u.i=new yi(m,u.h))}function Ft(u,m,v){u.i.set(m,v)}function Gr(u){return Ft(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function _n(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Fr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Co),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Co(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xs=/[#\/\?@]/g,Ks=/[#\?:]/g,Gc=/[#\?]/g,Fc=/[#\?@]/g,Va=/#/g;function yi(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&jc(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=yi.prototype,r.add=function(u,m){En(this),this.i=null,u=Fn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vi(u,m){En(u),m=Fn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function _i(u,m){return En(u),m=Fn(u,m),u.g.has(m)}r.forEach=function(u,m){En(this),this.g.forEach(function(v,A){v.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let A=0;A<m.length;A++){const U=u[A];for(let q=0;q<U.length;q++)v.push(m[A])}return v},r.V=function(u){En(this);let m=[];if(typeof u=="string")_i(this,u)&&(m=m.concat(this.g.get(Fn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},r.set=function(u,m){return En(this),this.i=null,u=Fn(this,u),_i(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Zs(u,m,v){vi(u,m),0<v.length&&(u.i=null,u.g.set(Fn(u,m),J(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var A=m[v];const q=encodeURIComponent(String(A)),tt=this.V(A);for(A=0;A<tt.length;A++){var U=q;tt[A]!==""&&(U+="="+encodeURIComponent(String(tt[A]))),u.push(U)}}return this.i=u.join("&")};function Fn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Do(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(v,A){var U=A.toLowerCase();A!=U&&(vi(this,A),Zs(this,U,v))},u)),u.j=m}function Yr(u,m){const v=new vn;if(g.Image){const A=new Image;A.onload=B(Tn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=B(Tn,v,"TestLoadImage: error",!1,m,A),A.onabort=B(Tn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=B(Tn,v,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function On(u,m){const v=new vn,A=new AbortController,U=setTimeout(()=>{A.abort(),Tn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(U),q.ok?Tn(v,"TestPingServer: ok",!0,m):Tn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Tn(v,"TestPingServer: error",!1,m)})}function Tn(u,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Qr(){this.g=new Pr}function Yn(u,m,v){const A=v||"";try{Qs(u,function(U,q){let tt=U;y(U)&&(tt=Mn(U)),m.push(A+q+"="+encodeURIComponent(tt))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function Xi(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(Xi,Ps),Xi.prototype.g=function(){return new Ei(this.l,this.j)},Xi.prototype.i=function(u){return function(){return u}}({});function Ei(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(Ei,ae),r=Ei.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ws(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ws(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Qn(this):Xn(this),this.readyState==3&&Ws(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Qn(this))},r.Qa=function(u){this.g&&(this.response=u,Qn(this))},r.ga=function(){this.g&&Qn(this)};function Qn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ei.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Js(u){let m="";return St(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Ce(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Js(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Ft(u,m,v))}function kt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(kt,ae);var Ia=/^https?$/i,Xr=["POST","PUT"];r=kt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?ks(this.o):ks(qn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Vo(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Xr,m,void 0))||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,tt]of v)this.g.setRequestHeader(q,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kr(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){Vo(this,q)}};function Vo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ma(u),Kn(u)}function Ma(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Kn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kn(this,!0)),kt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},r.bb=function(){Na(this)};function Na(u){if(u.h&&typeof d<"u"&&(!u.v[1]||An(u)!=4||u.Z()!=2)){if(u.u&&An(u)==4)He(u.Ea,0,u);else if(qt(u,"readystatechange"),An(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=tt===0){var U=String(u.D).match(qr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),A=!Ia.test(U?U.toLowerCase():"")}v=A}if(v)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var q=2<An(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Ma(u)}}finally{Kn(u)}}}}function Kn(u,m){if(u.g){Kr(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{v.onreadystatechange=A}catch{}}}function Kr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function An(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<An(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Aa(m)}};function Io(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Yc(u){const m={};u=(u.g&&2<=An(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(ot(u[A]))continue;var v=O(u[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[U]||[];m[U]=q,q.push(v)}N(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Oa(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zr("baseRetryDelayMs",5e3,u),this.cb=Zr("retryDelaySeedMs",1e4,u),this.Wa=Zr("forwardChannelMaxRetries",2,u),this.wa=Zr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(u&&u.concurrentRequestLimit),this.Da=new Qr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Oa.prototype,r.la=8,r.G=1,r.connect=function(u,m,v,A){$t(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=zo(this,null,this.W),La(this)};function $s(u){if(Mo(u),u.G==3){var m=u.U++,v=sn(u.I);if(Ft(v,"SID",u.K),Ft(v,"RID",m),Ft(v,"TYPE","terminate"),Wr(u,v),m=new Qe(u,u.j,m),m.L=2,m.v=Gr(sn(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=Po(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Br(m)}Uo(u)}function xa(u){u.g&&(Jr(u),u.g.cancel(),u.g=null)}function Mo(u){xa(u),u.u&&(g.clearTimeout(u.u),u.u=null),Ua(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function La(u){if(!Ra(u.h)&&!u.s){u.s=!0;var m=u.Ga;et||V(),ct||(et(),ct=!0),zt.add(m,u),u.B=0}}function Qc(u,m){return wa(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=he(D(u.Ga,u,m),nl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Qe(this,this.j,u);let q=this.o;if(this.S&&(q?(q=b(q),M(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=No(this,U,m),v=sn(this.I),Ft(v,"RID",u),Ft(v,"CVER",22),this.D&&Ft(v,"X-HTTP-Session-Id",this.D),Wr(this,v),q&&(this.O?m="headers="+encodeURIComponent(String(Js(q)))+"&"+m:this.m&&Ce(v,this.m,q)),Ca(this.h,U),this.Ua&&Ft(v,"TYPE","init"),this.P?(Ft(v,"$req",m),Ft(v,"SID","null"),U.T=!0,Nn(U,v,null)):Nn(U,v,m),this.G=2}}else this.G==3&&(u?tl(this,u):this.i.length==0||Ra(this.h)||tl(this))};function tl(u,m){var v;m?v=m.l:v=u.U++;const A=sn(u.I);Ft(A,"SID",u.K),Ft(A,"RID",v),Ft(A,"AID",u.T),Wr(u,A),u.m&&u.o&&Ce(A,u.m,u.o),v=new Qe(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=No(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ca(u.h,v),Nn(v,A,m)}function Wr(u,m){u.H&&St(u.H,function(v,A){Ft(m,A,v)}),u.l&&Qs({},function(v,A){Ft(m,A,v)})}function No(u,m,v){v=Math.min(u.i.length,v);var A=u.l?D(u.l.Na,u.l,u):null;t:{var U=u.i;let q=-1;for(;;){const tt=["count="+v];q==-1?0<v?(q=U[0].g,tt.push("ofs="+q)):q=0:tt.push("ofs="+q);let Mt=!0;for(let Ee=0;Ee<v;Ee++){let Nt=U[Ee].g;const De=U[Ee].map;if(Nt-=q,0>Nt)q=Math.max(0,U[Ee].g-100),Mt=!1;else try{Yn(De,tt,"req"+Nt+"_")}catch{A&&A(De)}}if(Mt){A=tt.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,A}function Oo(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;et||V(),ct||(et(),ct=!0),zt.add(m,u),u.v=0}}function el(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=he(D(u.Fa,u),nl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,xo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=he(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),xa(this),xo(this))};function Jr(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function xo(u){u.g=new Qe(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=sn(u.qa);Ft(m,"RID","rpc"),Ft(m,"SID",u.K),Ft(m,"AID",u.T),Ft(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Ft(m,"TO",u.ja),Ft(m,"TYPE","xmlhttp"),Wr(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Gr(sn(m)),v.m=null,v.P=!0,mi(v,u)}r.Za=function(){this.C!=null&&(this.C=null,xa(this),el(this),$t(19))};function Ua(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Lo(u,m){var v=null;if(u.g==m){Ua(u),Jr(u),u.g=null;var A=2}else if(Fs(u.h,m))v=m.D,Xe(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=qi(),qt(A,new _e(A,v)),La(u)}else Oo(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Qc(u,m)||A==2&&el(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Ti(u,5);break;case 4:Ti(u,10);break;case 3:Ti(u,6);break;default:Ti(u,2)}}}function nl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Ti(u,m){if(u.j.info("Error code "+m),m==2){var v=D(u.fb,u),A=u.Xa;const U=!A;A=new de(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||jr(A,"https"),Gr(A),U?Yr(A.toString(),v):On(A.toString(),v)}else $t(2);u.G=0,u.l&&u.l.sa(m),Uo(u),Mo(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function Uo(u){if(u.G=0,u.ka=[],u.l){const m=Ys(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ka,m),W(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function zo(u,m,v){var A=v instanceof de?sn(v):new de(v);if(A.g!="")m&&(A.g=m+"."+A.g),Qi(A,A.s);else{var U=g.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new de(null);A&&jr(q,A),m&&(q.g=m),U&&Qi(q,U),v&&(q.l=v),A=q}return v=u.D,m=u.ya,v&&m&&Ft(A,v,m),Ft(A,"VER",u.la),Wr(u,A),A}function Po(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new kt(new Xi({eb:v})):new kt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ko(){}r=ko.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function za(){}za.prototype.g=function(u,m){return new Ke(u,m)};function Ke(u,m){ae.call(this),this.g=new Oa(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!ot(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!ot(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}Y(Ke,ae),Ke.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ke.prototype.close=function(){$s(this.g)},Ke.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Mn(u),u=v);m.i.push(new wo(m.Ya++,u)),m.G==3&&La(m)},Ke.prototype.N=function(){this.g.l=null,delete this.j,$s(this.g),delete this.g,Ke.aa.N.call(this)};function Bo(u){hi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(Bo,hi);function Ho(){Hs.call(this),this.status=1}Y(Ho,Hs);function Zn(u){this.g=u}Y(Zn,ko),Zn.prototype.ua=function(){qt(this.g,"a")},Zn.prototype.ta=function(u){qt(this.g,new Bo(u))},Zn.prototype.sa=function(u){qt(this.g,new Ho)},Zn.prototype.ra=function(){qt(this.g,"b")},za.prototype.createWebChannel=za.prototype.g,Ke.prototype.send=Ke.prototype.o,Ke.prototype.open=Ke.prototype.m,Ke.prototype.close=Ke.prototype.close,T_=function(){return new za},E_=function(){return qi()},__=Hn,fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fi.NO_ERROR=0,Fi.TIMEOUT=8,Fi.HTTP_ERROR=6,Wu=Fi,di.COMPLETE="complete",v_=di,Bs.EventType=fi,fi.OPEN="a",fi.CLOSE="b",fi.ERROR="c",fi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,Fl=Bs,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,y_=kt}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const Xy="@firebase/firestore",Ky="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Fe.UNAUTHENTICATED=new Fe(null),Fe.GOOGLE_CREDENTIALS=new Fe("google-credentials-uid"),Fe.FIRST_PARTY=new Fe("first-party-uid"),Fe.MOCK_USER=new Fe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=new c_("@firebase/firestore");function gs(){return pa.logLevel}function it(r,...e){if(pa.logLevel<=Lt.DEBUG){const i=e.map(Ld);pa.debug(`Firestore (${Is}): ${r}`,...i)}}function ki(r,...e){if(pa.logLevel<=Lt.ERROR){const i=e.map(Ld);pa.error(`Firestore (${Is}): ${r}`,...i)}}function Ts(r,...e){if(pa.logLevel<=Lt.WARN){const i=e.map(Ld);pa.warn(`Firestore (${Is}): ${r}`,...i)}}function Ld(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r="Unexpected state"){const e=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: `+r;throw ki(e),new Error(e)}function Ht(r,e){r||yt()}function Et(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Vs{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Fe.UNAUTHENTICATED))}shutdown(){}}class TA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class AA{constructor(e){this.t=e,this.currentUser=Fe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){Ht(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Tr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Tr,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},g=p=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Tr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ht(typeof s.accessToken=="string"),new A_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ht(e===null||typeof e=="string"),new Fe(e)}}class SA{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Fe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class bA{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new SA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Fe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Zy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class RA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,aA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){Ht(this.o===void 0);const s=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const o=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Zy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(Ht(typeof i.token=="string"),this.R=i.token,new Zy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=wA(40);for(let c=0;c<o.length;++c)s.length<20&&o[c]<i&&(s+=e.charAt(o[c]%62))}return s}}function Rt(r,e){return r<e?-1:r>e?1:0}function hd(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),o=e.codePointAt(i);if(s!==o){if(s<128&&o<128)return Rt(s,o);{const c=S_(),d=CA(c.encode(Wy(r,i)),c.encode(Wy(e,i)));return d!==0?d:Rt(s,o)}}i+=s>65535?2:1}return Rt(r.length,e.length)}function Wy(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function CA(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return Rt(r[i],e[i]);return Rt(r.length,e.length)}function As(r,e,i){return r.length===e.length&&r.every((s,o)=>i(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jy=-62135596800,$y=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(e){return be.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*$y);return new be(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new st(K.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<Jy)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(K.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$y}_compareTo(e){return this.seconds===e.seconds?Rt(this.nanoseconds,e.nanoseconds):Rt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Jy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{static fromTimestamp(e){return new _t(e)}static min(){return new _t(new be(0,0))}static max(){return new _t(new be(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="__name__";class ii{constructor(e,i,s){i===void 0?i=0:i>e.length&&yt(),s===void 0?s=e.length-i:s>e.length-i&&yt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ii.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ii?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let o=0;o<s;o++){const c=ii.compareSegments(e.get(o),i.get(o));if(c!==0)return c}return Rt(e.length,i.length)}static compareSegments(e,i){const s=ii.isNumericId(e),o=ii.isNumericId(i);return s&&!o?-1:!s&&o?1:s&&o?ii.extractNumericId(e).compare(ii.extractNumericId(i)):hd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Er.fromString(e.substring(4,e.length-2))}}class Jt extends ii{construct(e,i,s){return new Jt(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new st(K.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(o=>o.length>0))}return new Jt(i)}static emptyPath(){return new Jt([])}}const DA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ke extends ii{construct(e,i,s){return new ke(e,i,s)}static isValidIdentifier(e){return DA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ke.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===tv}static keyField(){return new ke([tv])}static fromServerFormat(e){const i=[];let s="",o=0;const c=()=>{if(s.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;o<e.length;){const g=e[o];if(g==="\\"){if(o+1===e.length)throw new st(K.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new st(K.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(s+=g,o++):(c(),o++)}if(c(),d)throw new st(K.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ke(i)}static emptyPath(){return new ke([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.path=e}static fromPath(e){return new ft(Jt.fromString(e))}static fromName(e){return new ft(Jt.fromString(e).popFirst(5))}static empty(){return new ft(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return Jt.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ft(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eo=-1;function VA(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=_t.fromTimestamp(s===1e9?new be(i+1,0):new be(i,s));return new Sr(o,ft.empty(),e)}function IA(r){return new Sr(r.readTime,r.key,eo)}class Sr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new Sr(_t.min(),ft.empty(),eo)}static max(){return new Sr(_t.max(),ft.empty(),eo)}}function MA(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ft.comparator(r.documentKey,e.documentKey),i!==0?i:Rt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class OA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ms(r){if(r.code!==K.FAILED_PRECONDITION||r.message!==NA)throw r;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((s,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,o)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,s)=>{i(e)})}static reject(e){return new X((i,s)=>{s(e)})}static waitFor(e){return new X((i,s)=>{let o=0,c=0,d=!1;e.forEach(g=>{++o,g.next(()=>{++c,d&&c===o&&i()},p=>s(p))}),d=!0,c===o&&i()})}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next(o=>o?X.resolve(o):s());return i}static forEach(e,i){const s=[];return e.forEach((o,c)=>{s.push(i.call(this,o,c))}),this.waitFor(s)}static mapArray(e,i){return new X((s,o)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(E=>{d[y]=E,++g,g===c&&s(d)},E=>o(E))}})}static doWhile(e,i){return new X((s,o)=>{const c=()=>{e()===!0?i().next(()=>{c()},o):s()};c()})}}function xA(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Ns(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Tc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ud=-1;function Ac(r){return r==null}function oc(r){return r===0&&1/r==-1/0}function LA(r){return typeof r=="number"&&Number.isInteger(r)&&!oc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_="";function UA(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=ev(e)),e=zA(r.get(i),e);return ev(e)}function zA(r,e){let i=e;const s=r.length;for(let o=0;o<s;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case R_:i+="";break;default:i+=c}}return i}function ev(r){return r+R_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Vr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function w_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e,i){this.comparator=e,this.root=i||Pe.EMPTY}insert(e,i){return new ie(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(e){return new ie(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return i+s.left.size;o<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ju(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ju(this.root,e,this.comparator,!1)}getReverseIterator(){return new ju(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ju(this.root,e,this.comparator,!0)}}class ju{constructor(e,i,s,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pe{constructor(e,i,s,o,c){this.key=e,this.value=i,this.color=s??Pe.RED,this.left=o??Pe.EMPTY,this.right=c??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,o,c){return new Pe(e??this.key,i??this.value,s??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let o=this;const c=s(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,i,s),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(e,i,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,o=this;if(i(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(e,o.key)===0){if(o.right.isEmpty())return Pe.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,i,s,o,c){return this}insert(e,i,s){return new Pe(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.comparator=e,this.data=new ie(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;i(o.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new iv(this.data.getIterator())}getIteratorFrom(e){return new iv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Re)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Re(this.comparator);return i.data=e,i}}class iv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(ke.comparator)}static empty(){return new gn([])}unionWith(e){let i=new Re(ke.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new gn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return As(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new C_("Invalid base64 string: "+c):c}}(e);return new Be(i)}static fromUint8Array(e){const i=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let o=0;o<i.length;o++)s[o]=i.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Rt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const PA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function br(r){if(Ht(!!r),typeof r=="string"){let e=0;const i=PA.exec(r);if(Ht(!!i),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Rr(r){return typeof r=="string"?Be.fromBase64String(r):Be.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_="server_timestamp",V_="__type__",I_="__previous_value__",M_="__local_write_time__";function zd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[V_])===null||i===void 0?void 0:i.stringValue)===D_}function Sc(r){const e=r.mapValue.fields[I_];return zd(e)?Sc(e):e}function no(r){const e=br(r.mapValue.fields[M_].timestampValue);return new be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{constructor(e,i,s,o,c,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const uc="(default)";class io{constructor(e,i){this.projectId=e,this.database=i||uc}static empty(){return new io("","")}get isDefaultDatabase(){return this.database===uc}isEqual(e){return e instanceof io&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_="__type__",BA="__max__",Gu={mapValue:{}},O_="__vector__",cc="value";function wr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zd(r)?4:qA(r)?9007199254740991:HA(r)?10:11:yt()}function li(r,e){if(r===e)return!0;const i=wr(r);if(i!==wr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return no(r).isEqual(no(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=br(o.timestampValue),g=br(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,c){return Rr(o.bytesValue).isEqual(Rr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,c){return fe(o.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(o.geoPointValue.longitude)===fe(c.geoPointValue.longitude)}(r,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return fe(o.integerValue)===fe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=fe(o.doubleValue),g=fe(c.doubleValue);return d===g?oc(d)===oc(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return As(r.arrayValue.values||[],e.arrayValue.values||[],li);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(nv(d)!==nv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!li(d[p],g[p])))return!1;return!0}(r,e);default:return yt()}}function ro(r,e){return(r.values||[]).find(i=>li(i,e))!==void 0}function Ss(r,e){if(r===e)return 0;const i=wr(r),s=wr(e);if(i!==s)return Rt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Rt(r.booleanValue,e.booleanValue);case 2:return function(c,d){const g=fe(c.integerValue||c.doubleValue),p=fe(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,e);case 3:return rv(r.timestampValue,e.timestampValue);case 4:return rv(no(r),no(e));case 5:return hd(r.stringValue,e.stringValue);case 6:return function(c,d){const g=Rr(c),p=Rr(d);return g.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=Rt(g[y],p[y]);if(E!==0)return E}return Rt(g.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const g=Rt(fe(c.latitude),fe(d.latitude));return g!==0?g:Rt(fe(c.longitude),fe(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return av(r.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,y,E;const S=c.fields||{},D=d.fields||{},B=(g=S[cc])===null||g===void 0?void 0:g.arrayValue,Y=(p=D[cc])===null||p===void 0?void 0:p.arrayValue,J=Rt(((y=B==null?void 0:B.values)===null||y===void 0?void 0:y.length)||0,((E=Y==null?void 0:Y.values)===null||E===void 0?void 0:E.length)||0);return J!==0?J:av(B,Y)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===Gu.mapValue&&d===Gu.mapValue)return 0;if(c===Gu.mapValue)return 1;if(d===Gu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const D=hd(p[S],E[S]);if(D!==0)return D;const B=Ss(g[p[S]],y[E[S]]);if(B!==0)return B}return Rt(p.length,E.length)}(r.mapValue,e.mapValue);default:throw yt()}}function rv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Rt(r,e);const i=br(r),s=br(e),o=Rt(i.seconds,s.seconds);return o!==0?o:Rt(i.nanos,s.nanos)}function av(r,e){const i=r.values||[],s=e.values||[];for(let o=0;o<i.length&&o<s.length;++o){const c=Ss(i[o],s[o]);if(c)return c}return Rt(i.length,s.length)}function bs(r){return dd(r)}function dd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=br(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Rr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ft.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",o=!0;for(const c of i.values||[])o?o=!1:s+=",",s+=dd(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of s)c?c=!1:o+=",",o+=`${d}:${dd(i.fields[d])}`;return o+"}"}(r.mapValue):yt()}function Ju(r){switch(wr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sc(r);return e?16+Ju(e):16;case 5:return 2*r.stringValue.length;case 6:return Rr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,c)=>o+Ju(c),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Vr(s.fields,(c,d)=>{o+=c.length+Ju(d)}),o}(r.mapValue);default:throw yt()}}function sv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function md(r){return!!r&&"integerValue"in r}function Pd(r){return!!r&&"arrayValue"in r}function lv(r){return!!r&&"nullValue"in r}function ov(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function $u(r){return!!r&&"mapValue"in r}function HA(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[N_])===null||i===void 0?void 0:i.stringValue)===O_}function Kl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Vr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Kl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Kl(r.arrayValue.values[i]);return e}return Object.assign({},r)}function qA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===BA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.value=e}static empty(){return new rn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!$u(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Kl(i)}setAll(e){let i=ke.emptyPath(),s={},o=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,o),s={},o=[],i=g.popLast()}d?s[g.lastSegment()]=Kl(d):o.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,o)}delete(e){const i=this.field(e.popLast());$u(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return li(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=i.mapValue.fields[e.get(s)];$u(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=o),i=o}return i.mapValue.fields}applyChanges(e,i,s){Vr(i,(o,c)=>e[o]=c);for(const o of s)delete e[o]}clone(){return new rn(Kl(this.value))}}function x_(r){const e=[];return Vr(r.fields,(i,s)=>{const o=new ke([i]);if($u(s)){const c=x_(s.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,i,s,o,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Ye(e,0,_t.min(),_t.min(),_t.min(),rn.empty(),0)}static newFoundDocument(e,i,s,o){return new Ye(e,1,i,_t.min(),s,o,0)}static newNoDocument(e,i){return new Ye(e,2,i,_t.min(),_t.min(),rn.empty(),0)}static newUnknownDocument(e,i){return new Ye(e,3,i,_t.min(),_t.min(),rn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=rn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=rn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ye&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ye(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,i){this.position=e,this.inclusive=i}}function uv(r,e,i){let s=0;for(let o=0;o<r.position.length;o++){const c=e[o],d=r.position[o];if(c.field.isKeyField()?s=ft.comparator(ft.fromName(d.referenceValue),i.key):s=Ss(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function cv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!li(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i="asc"){this.field=e,this.dir=i}}function jA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{}class ye extends L_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new FA(e,i,s):i==="array-contains"?new XA(e,s):i==="in"?new KA(e,s):i==="not-in"?new ZA(e,s):i==="array-contains-any"?new WA(e,s):new ye(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new YA(e,s):new QA(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(Ss(i,this.value)):i!==null&&wr(this.value)===wr(i)&&this.matchesComparison(Ss(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pn extends L_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new Pn(e,i)}matches(e){return U_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function U_(r){return r.op==="and"}function z_(r){return GA(r)&&U_(r)}function GA(r){for(const e of r.filters)if(e instanceof Pn)return!1;return!0}function gd(r){if(r instanceof ye)return r.field.canonicalString()+r.op.toString()+bs(r.value);if(z_(r))return r.filters.map(e=>gd(e)).join(",");{const e=r.filters.map(i=>gd(i)).join(",");return`${r.op}(${e})`}}function P_(r,e){return r instanceof ye?function(s,o){return o instanceof ye&&s.op===o.op&&s.field.isEqual(o.field)&&li(s.value,o.value)}(r,e):r instanceof Pn?function(s,o){return o instanceof Pn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((c,d,g)=>c&&P_(d,o.filters[g]),!0):!1}(r,e):void yt()}function k_(r){return r instanceof ye?function(i){return`${i.field.canonicalString()} ${i.op} ${bs(i.value)}`}(r):r instanceof Pn?function(i){return i.op.toString()+" {"+i.getFilters().map(k_).join(" ,")+"}"}(r):"Filter"}class FA extends ye{constructor(e,i,s){super(e,i,s),this.key=ft.fromName(s.referenceValue)}matches(e){const i=ft.comparator(e.key,this.key);return this.matchesComparison(i)}}class YA extends ye{constructor(e,i){super(e,"in",i),this.keys=B_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class QA extends ye{constructor(e,i){super(e,"not-in",i),this.keys=B_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function B_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ft.fromName(s.referenceValue))}class XA extends ye{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return Pd(i)&&ro(i.arrayValue,this.value)}}class KA extends ye{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&ro(this.value.arrayValue,i)}}class ZA extends ye{constructor(e,i){super(e,"not-in",i)}matches(e){if(ro(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!ro(this.value.arrayValue,i)}}class WA extends ye{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!Pd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>ro(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,i=null,s=[],o=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function fv(r,e=null,i=[],s=[],o=null,c=null,d=null){return new JA(r,e,i,s,o,c,d)}function kd(r){const e=Et(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>gd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),Ac(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>bs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>bs(s)).join(",")),e.le=i}return e.le}function Bd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!jA(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!P_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!cv(r.startAt,e.startAt)&&cv(r.endAt,e.endAt)}function pd(r){return ft.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(e,i=null,s=[],o=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function $A(r,e,i,s,o,c,d,g){return new oo(r,e,i,s,o,c,d,g)}function H_(r){return new oo(r)}function hv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function q_(r){return r.collectionGroup!==null}function Zl(r){const e=Et(r);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(ke.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new hc(c,s))}),i.has(ke.keyField().canonicalString())||e.he.push(new hc(ke.keyField(),s))}return e.he}function ri(r){const e=Et(r);return e.Pe||(e.Pe=tS(e,Zl(r))),e.Pe}function tS(r,e){if(r.limitType==="F")return fv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new hc(o.field,c)});const i=r.endAt?new fc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new fc(r.startAt.position,r.startAt.inclusive):null;return fv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function yd(r,e){const i=r.filters.concat([e]);return new oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function vd(r,e,i){return new oo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function bc(r,e){return Bd(ri(r),ri(e))&&r.limitType===e.limitType}function j_(r){return`${kd(ri(r))}|lt:${r.limitType}`}function ps(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(o=>k_(o)).join(", ")}]`),Ac(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(o=>bs(o)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(o=>bs(o)).join(",")),`Target(${s})`}(ri(r))}; limitType=${r.limitType})`}function Rc(r,e){return e.isFoundDocument()&&function(s,o){const c=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ft.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,o){for(const c of Zl(s))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const c of s.filters)if(!c.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,g,p){const y=uv(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,Zl(s),o)||s.endAt&&!function(d,g,p){const y=uv(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,Zl(s),o))}(r,e)}function eS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function G_(r){return(e,i)=>{let s=!1;for(const o of Zl(r)){const c=nS(o,e,i);if(c!==0)return c;s=s||o.field.isKeyField()}return 0}}function nS(r,e,i){const s=r.field.isKeyField()?ft.comparator(e.key,i.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?Ss(p,y):yt()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[o,c]of s)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,i]);o.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[i]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Vr(this.inner,(i,s)=>{for(const[o,c]of s)e(o,c)})}isEmpty(){return w_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS=new ie(ft.comparator);function Bi(){return iS}const F_=new ie(ft.comparator);function Yl(...r){let e=F_;for(const i of r)e=e.insert(i.key,i);return e}function Y_(r){let e=F_;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ga(){return Wl()}function Q_(){return Wl()}function Wl(){return new va(r=>r.toString(),(r,e)=>r.isEqual(e))}const rS=new ie(ft.comparator),aS=new Re(ft.comparator);function It(...r){let e=aS;for(const i of r)e=e.add(i);return e}const sS=new Re(Rt);function lS(){return sS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oc(e)?"-0":e}}function X_(r){return{integerValue:""+r}}function oS(r,e){return LA(e)?X_(e):Hd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wc{constructor(){this._=void 0}}function uS(r,e,i){return r instanceof dc?function(o,c){const d={fields:{[V_]:{stringValue:D_},[M_]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&zd(c)&&(c=Sc(c)),c&&(d.fields[I_]=c),{mapValue:d}}(i,e):r instanceof ao?Z_(r,e):r instanceof so?W_(r,e):function(o,c){const d=K_(o,c),g=dv(d)+dv(o.Ie);return md(d)&&md(o.Ie)?X_(g):Hd(o.serializer,g)}(r,e)}function cS(r,e,i){return r instanceof ao?Z_(r,e):r instanceof so?W_(r,e):i}function K_(r,e){return r instanceof mc?function(s){return md(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class dc extends wc{}class ao extends wc{constructor(e){super(),this.elements=e}}function Z_(r,e){const i=J_(e);for(const s of r.elements)i.some(o=>li(o,s))||i.push(s);return{arrayValue:{values:i}}}class so extends wc{constructor(e){super(),this.elements=e}}function W_(r,e){let i=J_(e);for(const s of r.elements)i=i.filter(o=>!li(o,s));return{arrayValue:{values:i}}}class mc extends wc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function dv(r){return fe(r.integerValue||r.doubleValue)}function J_(r){return Pd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function fS(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof ao&&o instanceof ao||s instanceof so&&o instanceof so?As(s.elements,o.elements,li):s instanceof mc&&o instanceof mc?li(s.Ie,o.Ie):s instanceof dc&&o instanceof dc}(r.transform,e.transform)}class hS{constructor(e,i){this.version=e,this.transformResults=i}}class ai{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new ai}static exists(e){return new ai(void 0,e)}static updateTime(e){return new ai(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function tc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Cc{}function $_(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new e0(r.key,ai.none()):new uo(r.key,r.data,ai.none());{const i=r.data,s=rn.empty();let o=new Re(ke.comparator);for(let c of e.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),o=o.add(c)}return new Ir(r.key,s,new gn(o.toArray()),ai.none())}}function dS(r,e,i){r instanceof uo?function(o,c,d){const g=o.value.clone(),p=gv(o.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Ir?function(o,c,d){if(!tc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=gv(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(t0(o)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Jl(r,e,i,s){return r instanceof uo?function(c,d,g,p){if(!tc(c.precondition,d))return g;const y=c.value.clone(),E=pv(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,e,i,s):r instanceof Ir?function(c,d,g,p){if(!tc(c.precondition,d))return g;const y=pv(c.fieldTransforms,p,d),E=d.data;return E.setAll(t0(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,e,i,s):function(c,d,g){return tc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function mS(r,e){let i=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),c=K_(s.transform,o||null);c!=null&&(i===null&&(i=rn.empty()),i.set(s.field,c))}return i||null}function mv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&As(s,o,(c,d)=>fS(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class uo extends Cc{constructor(e,i,s,o=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ir extends Cc{constructor(e,i,s,o,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function t0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function gv(r,e,i){const s=new Map;Ht(r.length===i.length);for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=e.data.field(c.field);s.set(c.field,cS(d,g,i[o]))}return s}function pv(r,e,i){const s=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);s.set(o.field,uS(c,d,e))}return s}class e0 extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gS extends Cc{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,i,s,o){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&dS(c,e,s[o])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=Jl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=Q_();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const p=$_(d,g);p!==null&&s.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(_t.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&As(this.mutations,e.mutations,(i,s)=>mv(i,s))&&As(this.baseMutations,e.baseMutations,(i,s)=>mv(i,s))}}class qd{constructor(e,i,s,o){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=o}static from(e,i,s){Ht(e.mutations.length===s.length);let o=function(){return rS}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,s[d].version);return new qd(e,i,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pe,xt;function _S(r){switch(r){case K.OK:return yt();case K.CANCELLED:case K.UNKNOWN:case K.DEADLINE_EXCEEDED:case K.RESOURCE_EXHAUSTED:case K.INTERNAL:case K.UNAVAILABLE:case K.UNAUTHENTICATED:return!1;case K.INVALID_ARGUMENT:case K.NOT_FOUND:case K.ALREADY_EXISTS:case K.PERMISSION_DENIED:case K.FAILED_PRECONDITION:case K.ABORTED:case K.OUT_OF_RANGE:case K.UNIMPLEMENTED:case K.DATA_LOSS:return!0;default:return yt()}}function n0(r){if(r===void 0)return ki("GRPC error has no .code"),K.UNKNOWN;switch(r){case pe.OK:return K.OK;case pe.CANCELLED:return K.CANCELLED;case pe.UNKNOWN:return K.UNKNOWN;case pe.DEADLINE_EXCEEDED:return K.DEADLINE_EXCEEDED;case pe.RESOURCE_EXHAUSTED:return K.RESOURCE_EXHAUSTED;case pe.INTERNAL:return K.INTERNAL;case pe.UNAVAILABLE:return K.UNAVAILABLE;case pe.UNAUTHENTICATED:return K.UNAUTHENTICATED;case pe.INVALID_ARGUMENT:return K.INVALID_ARGUMENT;case pe.NOT_FOUND:return K.NOT_FOUND;case pe.ALREADY_EXISTS:return K.ALREADY_EXISTS;case pe.PERMISSION_DENIED:return K.PERMISSION_DENIED;case pe.FAILED_PRECONDITION:return K.FAILED_PRECONDITION;case pe.ABORTED:return K.ABORTED;case pe.OUT_OF_RANGE:return K.OUT_OF_RANGE;case pe.UNIMPLEMENTED:return K.UNIMPLEMENTED;case pe.DATA_LOSS:return K.DATA_LOSS;default:return yt()}}(xt=pe||(pe={}))[xt.OK=0]="OK",xt[xt.CANCELLED=1]="CANCELLED",xt[xt.UNKNOWN=2]="UNKNOWN",xt[xt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xt[xt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xt[xt.NOT_FOUND=5]="NOT_FOUND",xt[xt.ALREADY_EXISTS=6]="ALREADY_EXISTS",xt[xt.PERMISSION_DENIED=7]="PERMISSION_DENIED",xt[xt.UNAUTHENTICATED=16]="UNAUTHENTICATED",xt[xt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xt[xt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xt[xt.ABORTED=10]="ABORTED",xt[xt.OUT_OF_RANGE=11]="OUT_OF_RANGE",xt[xt.UNIMPLEMENTED=12]="UNIMPLEMENTED",xt[xt.INTERNAL=13]="INTERNAL",xt[xt.UNAVAILABLE=14]="UNAVAILABLE",xt[xt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=new Er([4294967295,4294967295],0);function yv(r){const e=S_().encode(r),i=new p_;return i.update(e),new Uint8Array(i.digest())}function vv(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Er([i,s],0),new Er([o,c],0)]}class jd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Ql(`Invalid padding: ${i}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Er.fromNumber(this.Ee)}Ae(e,i,s){let o=e.add(i.multiply(Er.fromNumber(s)));return o.compare(ES)===1&&(o=new Er([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=yv(e),[s,o]=vv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);if(!this.Re(d))return!1}return!0}static create(e,i,s){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new jd(c,o,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=yv(e),[s,o]=vv(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,o,c);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(e,i,s,o,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const o=new Map;return o.set(e,co.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Dc(_t.min(),o,new ie(Rt),Bi(),It())}}class co{constructor(e,i,s,o,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new co(s,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i,s,o){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=o}}class i0{constructor(e,i){this.targetId=e,this.ge=i}}class r0{constructor(e,i,s=Be.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=o}}class _v{constructor(){this.pe=0,this.ye=Ev(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=It(),i=It(),s=It();return this.ye.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:i=i.add(o);break;case 1:s=s.add(o);break;default:yt()}}),new co(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=Ev()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ht(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class TS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Bi(),this.$e=Fu(),this.Ue=Fu(),this.Ke=new ie(Rt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:yt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,o)=>{this.Je(o)&&i(o)})}Ze(e){const i=e.targetId,s=e.ge.count,o=this.Xe(i);if(o){const c=o.target;if(pd(c))if(s===0){const d=new ft(c.path);this.ze(i,d,Ye.newNoDocument(d,_t.min()))}else Ht(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Rr(s).toUint8Array()}catch(p){if(p instanceof C_)return Ts("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new jd(d,o,c)}catch(p){return Ts(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let o=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,c,null),o++)}),o}ot(e){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&pd(g.target)){const p=new ft(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Ye.newNoDocument(p,e))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=It();this.Ue.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const o=new Dc(e,i,this.Ke,this.Qe,s);return this.Qe=Bi(),this.$e=Fu(),this.Ue=Fu(),this.Ke=new ie(Rt),o}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,i)?o.xe(i,1):o.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new _v,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Re(Rt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Re(Rt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new _v),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Fu(){return new ie(ft.comparator)}function Ev(){return new ie(ft.comparator)}const AS={asc:"ASCENDING",desc:"DESCENDING"},SS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bS={and:"AND",or:"OR"};class RS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function _d(r,e){return r.useProto3Json||Ac(e)?e:{value:e}}function gc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function a0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wS(r,e){return gc(r,e.toTimestamp())}function si(r){return Ht(!!r),_t.fromTimestamp(function(i){const s=br(i);return new be(s.seconds,s.nanos)}(r))}function Gd(r,e){return Ed(r,e).canonicalString()}function Ed(r,e){const i=function(o){return new Jt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?i:i.child(e)}function s0(r){const e=Jt.fromString(r);return Ht(f0(e)),e}function Td(r,e){return Gd(r.databaseId,e.path)}function Kh(r,e){const i=s0(e);if(i.get(1)!==r.databaseId.projectId)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new st(K.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ft(o0(i))}function l0(r,e){return Gd(r.databaseId,e)}function CS(r){const e=s0(r);return e.length===4?Jt.emptyPath():o0(e)}function Ad(r){return new Jt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function o0(r){return Ht(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Tv(r,e,i){return{name:Td(r,e),fields:i.value.mapValue.fields}}function DS(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(Ht(E===void 0||typeof E=="string"),Be.fromBase64String(E||"")):(Ht(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Be.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const E=y.code===void 0?K.UNKNOWN:n0(y.code);return new st(E,y.message||"")}(d);i=new r0(s,o,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Kh(r,s.document.name),c=si(s.document.updateTime),d=s.document.createTime?si(s.document.createTime):_t.min(),g=new rn({mapValue:{fields:s.document.fields}}),p=Ye.newFoundDocument(o,c,d,g),y=s.targetIds||[],E=s.removedTargetIds||[];i=new ec(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Kh(r,s.document),c=s.readTime?si(s.readTime):_t.min(),d=Ye.newNoDocument(o,c),g=s.removedTargetIds||[];i=new ec([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Kh(r,s.document),c=s.removedTargetIds||[];i=new ec([],c,o,null)}else{if(!("filter"in e))return yt();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:c}=s,d=new vS(o,c),g=s.targetId;i=new i0(g,d)}}return i}function VS(r,e){let i;if(e instanceof uo)i={update:Tv(r,e.key,e.value)};else if(e instanceof e0)i={delete:Td(r,e.key)};else if(e instanceof Ir)i={update:Tv(r,e.key,e.data),updateMask:PS(e.fieldMask)};else{if(!(e instanceof gS))return yt();i={verify:Td(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof dc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof so)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof mc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw yt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:wS(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt()}(r,e.precondition)),i}function IS(r,e){return r&&r.length>0?(Ht(e!==void 0),r.map(i=>function(o,c){let d=o.updateTime?si(o.updateTime):si(c);return d.isEqual(_t.min())&&(d=si(c)),new hS(d,o.transformResults||[])}(i,e))):[]}function MS(r,e){return{documents:[l0(r,e.path)]}}function NS(r,e){const i={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=l0(r,o);const c=function(y){if(y.length!==0)return c0(Pn.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(D){return{field:ys(D.field),direction:LS(D.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=_d(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:o}}function OS(r){let e=CS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let o=null;if(s>0){Ht(s===1);const E=i.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(S){const D=u0(S);return D instanceof Pn&&z_(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(D=>function(Y){return new hc(vs(Y.field),function(W){switch(W){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(S){let D;return D=typeof S=="object"?S.value:S,Ac(D)?null:D}(i.limit));let p=null;i.startAt&&(p=function(S){const D=!!S.before,B=S.values||[];return new fc(B,D)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const D=!S.before,B=S.values||[];return new fc(B,D)}(i.endAt)),$A(e,o,d,c,g,"F",p,y)}function xS(r,e){const i=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function u0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=vs(i.unaryFilter.field);return ye.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=vs(i.unaryFilter.field);return ye.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=vs(i.unaryFilter.field);return ye.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=vs(i.unaryFilter.field);return ye.create(d,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(r):r.fieldFilter!==void 0?function(i){return ye.create(vs(i.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Pn.create(i.compositeFilter.filters.map(s=>u0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return yt()}}(i.compositeFilter.op))}(r):yt()}function LS(r){return AS[r]}function US(r){return SS[r]}function zS(r){return bS[r]}function ys(r){return{fieldPath:r.canonicalString()}}function vs(r){return ke.fromServerFormat(r.fieldPath)}function c0(r){return r instanceof ye?function(i){if(i.op==="=="){if(ov(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NAN"}};if(lv(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(ov(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NAN"}};if(lv(i.value))return{unaryFilter:{field:ys(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ys(i.field),op:US(i.op),value:i.value}}}(r):r instanceof Pn?function(i){const s=i.getFilters().map(o=>c0(o));return s.length===1?s[0]:{compositeFilter:{op:zS(i.op),filters:s}}}(r):yt()}function PS(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function f0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,i,s,o,c=_t.min(),d=_t.min(),g=Be.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new yr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e){this.Tt=e}}function BS(r){const e=OS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(){this.Tn=new qS}addToCollectionParentIndex(e,i){return this.Tn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(Sr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(Sr.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class qS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i]||new Re(Jt.comparator),c=!o.has(s);return this.index[i]=o.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),o=this.index[i];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Re(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},h0=41943040;class nn{static withCacheSize(e){return new nn(e,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(h0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Rs(0)}static Kn(){return new Rs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="LruGarbageCollector",jS=1048576;function bv([r,e],[i,s]){const o=Rt(r,i);return o===0?Rt(e,s):o}class GS{constructor(e){this.Hn=e,this.buffer=new Re(bv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();bv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class FS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){it(Sv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Ns(i)?it(Sv,"Ignoring IndexedDB error during garbage collection: ",i):await Ms(i)}await this.er(3e5)})}}class YS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return X.resolve(Tc.ae);const s=new GS(i);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Av)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Av):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,o,c,d,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(e,o))).next(S=>(s=S,g=Date.now(),this.removeTargets(e,s,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),gs()<=Lt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S})))}}function QS(r,e){return new YS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(){this.changes=new va(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Ye.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,i,s,o){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,i))).next(o=>(s!==null&&Jl(s.mutation,o,gn.empty(),be.now()),o))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,It()).next(()=>s))}getLocalViewOfDocuments(e,i,s=It()){const o=ga();return this.populateOverlays(e,o,i).next(()=>this.computeViews(e,i,o,s).next(c=>{let d=Yl();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ga();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,It()))}populateOverlays(e,i,s){const o=[];return s.forEach(c=>{i.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,o){let c=Bi();const d=Wl(),g=function(){return Wl()}();return i.forEach((p,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Ir)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Jl(E.mutation,y,E.mutation.getFieldMask(),be.now())):d.set(y.key,gn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var S;return g.set(y,new KS(E,(S=d.get(y))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,i){const s=Wl();let o=new ie((d,g)=>d-g),c=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||gn.empty();E=g.applyToLocalView(y,E),s.set(p,E);const S=(o.get(g.batchId)||It()).add(p);o=o.insert(g.batchId,S)})}).next(()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,S=Q_();E.forEach(D=>{if(!c.has(D)){const B=$_(i.get(D),s.get(D));B!==null&&S.set(D,B),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return X.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,o){return function(d){return ft.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):q_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,o):this.getDocumentsMatchingCollectionQuery(e,i,s,o)}getNextDocuments(e,i,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,o-c.size):X.resolve(ga());let g=eo,p=c;return d.next(y=>X.forEach(y,(E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next(D=>{p=p.insert(E,D)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,It())).next(E=>({batchId:g,changes:Y_(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ft(i)).next(s=>{let o=Yl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,i,s,o){const c=i.collectionGroup;let d=Yl();return this.indexManager.getCollectionParents(e,c).next(g=>X.forEach(g,p=>{const y=function(S,D){return new oo(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((S,D)=>{d=d.insert(S,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,o))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Ye.newInvalidDocument(E)))});let g=Yl();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&Jl(E.mutation,y,gn.empty(),be.now()),Rc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return X.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(o){return{id:o.id,version:o.version,createTime:si(o.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(o){return{name:o.name,query:BS(o.bundledQuery),readTime:si(o.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(){this.overlays=new ie(ft.comparator),this.Rr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ga();return X.forEach(i,o=>this.getOverlay(e,o).next(c=>{c!==null&&s.set(o,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((o,c)=>{this.Et(e,i,c)}),X.resolve()}removeOverlaysForBatchId(e,i,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const o=ga(),c=i.length+1,d=new ft(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&o.set(p.getKey(),p)}return X.resolve(o)}getOverlaysForCollectionGroup(e,i,s,o){let c=new ie((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ga(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ga(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=o)););return X.resolve(g)}Et(e,i,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new yS(i,s));let c=this.Rr.get(i);c===void 0&&(c=It(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(){this.Vr=new Re(Ne.mr),this.gr=new Re(Ne.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new Ne(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new Ne(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new ft(new Jt([])),s=new Ne(i,e),o=new Ne(i,e+1),c=[];return this.gr.forEachInRange([s,o],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ft(new Jt([])),s=new Ne(i,e),o=new Ne(i,e+1);let c=It();return this.gr.forEachInRange([s,o],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new Ne(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class Ne{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ft.comparator(e.key,i.key)||Rt(e.Cr,i.Cr)}static pr(e,i){return Rt(e.Cr,i.Cr)||ft.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Re(Ne.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,o){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new pS(c,i,s,o);this.mutationQueue.push(d);for(const g of o)this.Mr=this.Mr.add(new Ne(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,o=this.Nr(s),c=o<0?0:o;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Ud:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new Ne(i,0),o=new Ne(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,o],d=>{const g=this.Or(d.Cr);c.push(g)}),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Re(Rt);return i.forEach(o=>{const c=new Ne(o,0),d=new Ne(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),X.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,o=s.length+1;let c=s;ft.isDocumentKey(c)||(c=c.child(""));const d=new Ne(new ft(c),0);let g=new Re(Rt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(g=g.add(p.Cr)),!0)},d),X.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&i.push(o)}),i}removeMutationBatch(e,i){Ht(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return X.forEach(i.mutations,o=>{const c=new Ne(o.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new Ne(i,0),o=this.Mr.firstAfterOrEqual(s);return X.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.kr=e,this.docs=function(){return new ie(ft.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,o=this.docs.get(s),c=o?o.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Ye.newInvalidDocument(i))}getEntries(e,i){let s=Bi();return i.forEach(o=>{const c=this.docs.get(o);s=s.insert(o,c?c.document.mutableCopy():Ye.newInvalidDocument(o))}),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,o){let c=Bi();const d=i.path,g=new ft(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||MA(IA(E),s)<=0||(o.has(E.key)||Rc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,s,o){yt()}qr(e,i){return X.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new nb(this)}getSize(e){return X.resolve(this.size)}}class nb extends XS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?i.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),X.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.persistence=e,this.Qr=new va(i=>kd(i),Bd),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Fd,this.targetCount=0,this.Kr=Rs.Un()}forEachTarget(e,i){return this.Qr.forEach((s,o)=>i(o)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),X.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Rs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.zn(i),X.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let o=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),o++)}),X.waitFor(c).next(()=>o)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Tc(0),this.zr=!1,this.zr=!0,this.jr=new $S,this.referenceDelegate=e(this),this.Hr=new ib(this),this.indexManager=new HS,this.remoteDocumentCache=function(o){return new eb(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new kS(i),this.Yr=new WS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new JS,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new tb(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){it("MemoryPersistence","Starting transaction:",e);const o=new rb(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(c=>this.referenceDelegate.Xr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}ei(e,i){return X.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class rb extends OA{constructor(e){super(),this.currentSequenceNumber=e}}class Yd{constructor(e){this.persistence=e,this.ti=new Fd,this.ni=null}static ri(e){return new Yd(e)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),X.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(o=>{o.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,s=>{const o=ft.fromPath(s);return this.si(e,o).next(c=>{c||i.removeEntry(o,_t.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return X.or([()=>X.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class pc{constructor(e,i){this.persistence=e,this.oi=new va(s=>UA(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=QS(this,i)}static ri(e,i){return new pc(e,i)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(o=>s+o))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return X.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(c=>c?X.resolve():i(o)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,c.removeEntry(d,_t.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=Ju(e.data.value)),i}ar(e,i,s){return X.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const o=this.oi.get(i);return X.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,i,s,o){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=o}static Yi(e,i){let s=It(),o=It();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Qd(e,i.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return n1()?8:xA(t1())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,o){const c={result:null};return this.rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,i,o,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new ab;return this._s(e,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>c.result)}us(e,i,s,o){return s.documentReadCount<this.es?(gs()<=Lt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",ps(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(gs()<=Lt.DEBUG&&it("QueryEngine","Query:",ps(i),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(gs()<=Lt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",ps(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ri(i))):X.resolve())}rs(e,i){if(hv(i))return X.resolve(null);let s=ri(i);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(i.limit!==null&&o===1&&(i=vd(i,null,"F"),s=ri(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=It(...c);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(e,vd(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,o){return hv(i)||o.isEqual(_t.min())?X.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,o)?X.resolve(null):(gs()<=Lt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ps(i)),this.hs(e,d,i,VA(o,eo)).next(g=>g))})}cs(e,i){let s=new Re(G_(e));return i.forEach((o,c)=>{Rc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,o){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}_s(e,i,s){return gs()<=Lt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",ps(i)),this.ns.getDocumentsMatchingQuery(e,i,Sr.min(),s)}hs(e,i,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xd="LocalStore",lb=3e8;class ob{constructor(e,i,s,o){this.persistence=e,this.Ps=i,this.serializer=o,this.Ts=new ie(Rt),this.Is=new va(c=>kd(c),Bd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ZS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function ub(r,e,i,s){return new ob(r,e,i,s)}async function m0(r,e){const i=Et(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let o;return i.mutationQueue.getAllMutationBatches(s).next(c=>(o=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=It();for(const y of o){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function cb(r,e){const i=Et(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const S=y.batch,D=S.keys();let B=X.resolve();return D.forEach(Y=>{B=B.next(()=>E.getEntry(p,Y)).next(J=>{const W=y.docVersions.get(Y);Ht(W!==null),J.version.compareTo(W)<0&&(S.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))})}),B.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=It();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,o))})}function g0(r){const e=Et(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function fb(r,e){const i=Et(r),s=e.snapshotVersion;let o=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});o=i.Ts;const g=[];e.targetChanges.forEach((E,S)=>{const D=o.get(S);if(!D)return;g.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,S)));let B=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?B=B.withResumeToken(Be.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):E.resumeToken.approximateByteSize()>0&&(B=B.withResumeToken(E.resumeToken,s)),o=o.insert(S,B),function(J,W,rt){return J.resumeToken.approximateByteSize()===0||W.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=lb?!0:rt.addedDocuments.size+rt.modifiedDocuments.size+rt.removedDocuments.size>0}(D,B,E)&&g.push(i.Hr.updateTargetData(c,B))});let p=Bi(),y=It();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(hb(c,d,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(_t.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(E)}return X.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=o,c))}function hb(r,e,i){let s=It(),o=It();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=Bi();return i.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(_t.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):it(Xd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:o}})}function db(r,e){const i=Et(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Ud),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function mb(r,e){const i=Et(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return i.Hr.getTargetData(s,e).next(c=>c?(o=c,X.resolve(o)):i.Hr.allocateTargetId(s).next(d=>(o=new yr(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=i.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function Sd(r,e,i){const s=Et(r),o=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!Ns(d))throw d;it(Xd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Rv(r,e,i){const s=Et(r);let o=_t.min(),c=It();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const S=Et(p),D=S.Is.get(E);return D!==void 0?X.resolve(S.Ts.get(D)):S.Hr.getTargetData(y,E)}(s,d,ri(e)).next(g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?o:_t.min(),i?c:It())).next(g=>(gb(s,eS(e),g),{documents:g,gs:c})))}function gb(r,e,i){let s=r.Es.get(e)||_t.min();i.forEach((o,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class wv{constructor(){this.activeTargetIds=lS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class pb{constructor(){this.ho=new wv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new wv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="ConnectivityMonitor";class Dv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(Cv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){it(Cv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yu=null;function bd(){return Yu===null?Yu=function(){return 268435456+Math.round(2147483648*Math.random())}():Yu++,"0x"+Yu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="RestConnection",vb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _b{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===uc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,i,s,o,c){const d=bd(),g=this.bo(e,i.toUriEncodedString());it(Zh,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,c),this.vo(e,g,p,s).then(y=>(it(Zh,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Ts(Zh,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(e,i,s,o,c,d){return this.So(e,i,s,o,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Is}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,c)=>e[c]=o),s&&s.headers.forEach((o,c)=>e[c]=o)}bo(e,i){const s=vb[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ge="WebChannelConnection";class Tb extends _b{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,o){const c=bd();return new Promise((d,g)=>{const p=new y_;p.setWithCredentials(!0),p.listenOnce(v_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Wu.NO_ERROR:const E=p.getResponseJson();it(Ge,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case Wu.TIMEOUT:it(Ge,`RPC '${e}' ${c} timed out`),g(new st(K.DEADLINE_EXCEEDED,"Request time out"));break;case Wu.HTTP_ERROR:const S=p.getStatus();if(it(Ge,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const B=D==null?void 0:D.error;if(B&&B.status&&B.message){const Y=function(W){const rt=W.toLowerCase().replace(/_/g,"-");return Object.values(K).indexOf(rt)>=0?rt:K.UNKNOWN}(B.status);g(new st(Y,B.message))}else g(new st(K.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new st(K.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{it(Ge,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);it(Ge,`RPC '${e}' ${c} sending request:`,o),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const o=bd(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=T_(),g=E_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");it(Ge,`Creating RPC '${e}' stream ${o}: ${E}`,p);const S=d.createWebChannel(E,p);let D=!1,B=!1;const Y=new Eb({Fo:W=>{B?it(Ge,`Not sending because RPC '${e}' stream ${o} is closed:`,W):(D||(it(Ge,`Opening RPC '${e}' stream ${o} transport.`),S.open(),D=!0),it(Ge,`RPC '${e}' stream ${o} sending:`,W),S.send(W))},Mo:()=>S.close()}),J=(W,rt,ot)=>{W.listen(rt,lt=>{try{ot(lt)}catch(At){setTimeout(()=>{throw At},0)}})};return J(S,Fl.EventType.OPEN,()=>{B||(it(Ge,`RPC '${e}' stream ${o} transport opened.`),Y.Qo())}),J(S,Fl.EventType.CLOSE,()=>{B||(B=!0,it(Ge,`RPC '${e}' stream ${o} transport closed`),Y.Uo())}),J(S,Fl.EventType.ERROR,W=>{B||(B=!0,Ts(Ge,`RPC '${e}' stream ${o} transport errored:`,W),Y.Uo(new st(K.UNAVAILABLE,"The operation could not be completed")))}),J(S,Fl.EventType.MESSAGE,W=>{var rt;if(!B){const ot=W.data[0];Ht(!!ot);const lt=ot,At=(lt==null?void 0:lt.error)||((rt=lt[0])===null||rt===void 0?void 0:rt.error);if(At){it(Ge,`RPC '${e}' stream ${o} received error:`,At);const mt=At.status;let St=function(C){const M=pe[C];if(M!==void 0)return n0(M)}(mt),N=At.message;St===void 0&&(St=K.INTERNAL,N="Unknown error status: "+mt+" with message "+At.message),B=!0,Y.Uo(new st(St,N)),S.close()}else it(Ge,`RPC '${e}' stream ${o} received:`,ot),Y.Ko(ot)}}),J(g,__.STAT_EVENT,W=>{W.stat===fd.PROXY?it(Ge,`RPC '${e}' stream ${o} detected buffering proxy`):W.stat===fd.NOPROXY&&it(Ge,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{Y.$o()},0),Y}}function Wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vc(r){return new RS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e,i,s=1e3,o=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=o,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,i-s);o>0&&it("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="PersistentStream";class y0{constructor(e,i,s,o,c,d,g,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new p0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===K.RESOURCE_EXHAUSTED?(ki(i.toString()),ki("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===K.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===i&&this.V_(s,o)},s=>{e(()=>{const o=new st(K.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return it(Vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(it(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ab extends y0{constructor(e,i,s,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=DS(this.serializer,e),s=function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?si(d.readTime):_t.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Ad(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=pd(p)?{documents:MS(c,p)}:{query:NS(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=a0(c,d.resumeToken);const y=_d(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=gc(c,d.snapshotVersion.toTimestamp());const y=_d(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=xS(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Ad(this.serializer),i.removeTarget=e,this.I_(i)}}class Sb extends y0{constructor(e,i,s,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,o,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,Ht(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=IS(e.writeResults,e.commitTime),s=si(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Ad(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>VS(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{}class Rb extends bb{constructor(e,i,s,o){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,Ed(i,s),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new st(K.UNKNOWN,c.toString())})}Co(e,i,s,o,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Ed(i,s),o,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===K.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new st(K.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class wb{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ki(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ya="RemoteStore";class Cb{constructor(e,i,s,o,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{_a(this)&&(it(ya,"Restarting streams for network reachability change."),await async function(p){const y=Et(p);y.W_.add(4),await fo(y),y.j_.set("Unknown"),y.W_.delete(4),await Ic(y)}(this))})}),this.j_=new wb(s,o)}}async function Ic(r){if(_a(r))for(const e of r.G_)await e(!0)}async function fo(r){for(const e of r.G_)await e(!1)}function v0(r,e){const i=Et(r);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),Jd(i)?Wd(i):Os(i).c_()&&Zd(i,e))}function Kd(r,e){const i=Et(r),s=Os(i);i.K_.delete(e),s.c_()&&_0(i,e),i.K_.size===0&&(s.c_()?s.P_():_a(i)&&i.j_.set("Unknown"))}function Zd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Os(r).y_(e)}function _0(r,e){r.H_.Ne(e),Os(r).w_(e)}function Wd(r){r.H_=new TS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Os(r).start(),r.j_.B_()}function Jd(r){return _a(r)&&!Os(r).u_()&&r.K_.size>0}function _a(r){return Et(r).W_.size===0}function E0(r){r.H_=void 0}async function Db(r){r.j_.set("Online")}async function Vb(r){r.K_.forEach((e,i)=>{Zd(r,e)})}async function Ib(r,e){E0(r),Jd(r)?(r.j_.q_(e),Wd(r)):r.j_.set("Unknown")}async function Mb(r,e,i){if(r.j_.set("Online"),e instanceof r0&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const g of c.targetIds)o.K_.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.K_.delete(g),o.H_.removeTarget(g))}(r,e)}catch(s){it(ya,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await yc(r,s)}else if(e instanceof ec?r.H_.We(e):e instanceof i0?r.H_.Ze(e):r.H_.je(e),!i.isEqual(_t.min()))try{const s=await g0(r.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const E=c.K_.get(p);if(!E)return;c.K_.set(p,E.withResumeToken(Be.EMPTY_BYTE_STRING,E.snapshotVersion)),_0(c,p);const S=new yr(E.target,p,y,E.sequenceNumber);Zd(c,S)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){it(ya,"Failed to raise snapshot:",s),await yc(r,s)}}async function yc(r,e,i){if(!Ns(e))throw e;r.W_.add(1),await fo(r),r.j_.set("Offline"),i||(i=()=>g0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{it(ya,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Ic(r)})}function T0(r,e){return e().catch(i=>yc(r,i,e))}async function Mc(r){const e=Et(r),i=Cr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Ud;for(;Nb(e);)try{const o=await db(e.localStore,s);if(o===null){e.U_.length===0&&i.P_();break}s=o.batchId,Ob(e,o)}catch(o){await yc(e,o)}A0(e)&&S0(e)}function Nb(r){return _a(r)&&r.U_.length<10}function Ob(r,e){r.U_.push(e);const i=Cr(r);i.c_()&&i.S_&&i.b_(e.mutations)}function A0(r){return _a(r)&&!Cr(r).u_()&&r.U_.length>0}function S0(r){Cr(r).start()}async function xb(r){Cr(r).C_()}async function Lb(r){const e=Cr(r);for(const i of r.U_)e.b_(i.mutations)}async function Ub(r,e,i){const s=r.U_.shift(),o=qd.from(s,e,i);await T0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Mc(r)}async function zb(r,e){e&&Cr(r).S_&&await async function(s,o){if(function(d){return _S(d)&&d!==K.ABORTED}(o.code)){const c=s.U_.shift();Cr(s).h_(),await T0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Mc(s)}}(r,e),A0(r)&&S0(r)}async function Iv(r,e){const i=Et(r);i.asyncQueue.verifyOperationInProgress(),it(ya,"RemoteStore received new credentials");const s=_a(i);i.W_.add(3),await fo(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Ic(i)}async function Pb(r,e){const i=Et(r);e?(i.W_.delete(2),await Ic(i)):e||(i.W_.add(2),await fo(i),i.j_.set("Unknown"))}function Os(r){return r.J_||(r.J_=function(i,s,o){const c=Et(i);return c.M_(),new Ab(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:Db.bind(null,r),No:Vb.bind(null,r),Lo:Ib.bind(null,r),p_:Mb.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Jd(r)?Wd(r):r.j_.set("Unknown")):(await r.J_.stop(),E0(r))})),r.J_}function Cr(r){return r.Y_||(r.Y_=function(i,s,o){const c=Et(i);return c.M_(),new Sb(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:xb.bind(null,r),Lo:zb.bind(null,r),D_:Lb.bind(null,r),v_:Ub.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Mc(r)):(await r.Y_.stop(),r.U_.length>0&&(it(ya,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,i,s,o,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=o,this.removalCallback=c,this.deferred=new Tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,o,c){const d=Date.now()+s,g=new $d(e,i,d,o,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new st(K.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tm(r,e){if(ki("AsyncQueue",`${e}: ${r}`),Ns(r))return new st(K.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ft.comparator(i.key,s.key):(i,s)=>ft.comparator(i.key,s.key),this.keyedMap=Yl(),this.sortedSet=new ie(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=s.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new Es;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv{constructor(){this.Z_=new ie(ft.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):yt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class ws{constructor(e,i,s,o,c,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,o,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ws(e,i,Es.emptySet(i),d,s,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==s[o].type||!i[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Bb{constructor(){this.queries=Nv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const o=Et(i),c=o.queries;o.queries=Nv(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new st(K.ABORTED,"Firestore shutting down"))}}function Nv(){return new va(r=>j_(r),bc)}async function Hb(r,e){const i=Et(r);let s=3;const o=e.query;let c=i.queries.get(o);c?!c.na()&&e.ra()&&(s=2):(c=new kb,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(o,!0);break;case 1:c.ea=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=tm(d,`Initialization of query '${ps(e.query)}' failed`);return void e.onError(g)}i.queries.set(o,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&em(i)}async function qb(r,e){const i=Et(r),s=e.query;let o=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?o=e.ra()?0:1:!c.na()&&e.ra()&&(o=2))}switch(o){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function jb(r,e){const i=Et(r);let s=!1;for(const o of e){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(o)&&(s=!0);d.ea=o}}s&&em(i)}function Gb(r,e,i){const s=Et(r),o=s.queries.get(e);if(o)for(const c of o.ta)c.onError(i);s.queries.delete(e)}function em(r){r.ia.forEach(e=>{e.next()})}var Rd,Ov;(Ov=Rd||(Rd={}))._a="default",Ov.Cache="cache";class Fb{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ws(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e){this.key=e}}class R0{constructor(e){this.key=e}}class Yb{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=It(),this.mutatedKeys=It(),this.ya=G_(e),this.wa=new Es(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new Mv,o=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,S)=>{const D=o.get(E),B=Rc(this.query,S)?S:null,Y=!!D&&this.mutatedKeys.has(D.key),J=!!B&&(B.hasLocalMutations||this.mutatedKeys.has(B.key)&&B.hasCommittedMutations);let W=!1;D&&B?D.data.isEqual(B.data)?Y!==J&&(s.track({type:3,doc:B}),W=!0):this.va(D,B)||(s.track({type:2,doc:B}),W=!0,(p&&this.ya(B,p)>0||y&&this.ya(B,y)<0)&&(g=!0)):!D&&B?(s.track({type:0,doc:B}),W=!0):D&&!B&&(s.track({type:1,doc:D}),W=!0,(p||y)&&(g=!0)),W&&(B?(d=d.add(B),c=J?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,o){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((E,S)=>function(B,Y){const J=W=>{switch(W){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return J(B)-J(Y)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),o=o!=null&&o;const g=i&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new ws(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Mv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=It(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new R0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new b0(s))}),i}Oa(e){this.fa=e.gs,this.pa=It();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ws.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const nm="SyncEngine";class Qb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Xb{constructor(e){this.key=e,this.Ba=!1}}class Kb{constructor(e,i,s,o,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new va(g=>j_(g),bc),this.qa=new Map,this.Qa=new Set,this.$a=new ie(ft.comparator),this.Ua=new Map,this.Ka=new Fd,this.Wa={},this.Ga=new Map,this.za=Rs.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Zb(r,e,i=!0){const s=M0(r);let o;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Na()):o=await w0(s,e,i,!0),o}async function Wb(r,e){const i=M0(r);await w0(i,e,!0,!1)}async function w0(r,e,i,s){const o=await mb(r.localStore,ri(e)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await Jb(r,e,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&v0(r.remoteStore,o),g}async function Jb(r,e,i,s,o){r.Ha=(S,D,B)=>async function(J,W,rt,ot){let lt=W.view.ba(rt);lt.ls&&(lt=await Rv(J.localStore,W.query,!1).then(({documents:N})=>W.view.ba(N,lt)));const At=ot&&ot.targetChanges.get(W.targetId),mt=ot&&ot.targetMismatches.get(W.targetId)!=null,St=W.view.applyChanges(lt,J.isPrimaryClient,At,mt);return Lv(J,W.targetId,St.Ma),St.snapshot}(r,S,D,B);const c=await Rv(r.localStore,e,!0),d=new Yb(e,c.gs),g=d.ba(c.documents),p=co.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",o),y=d.applyChanges(g,r.isPrimaryClient,p);Lv(r,i,y.Ma);const E=new Qb(e,i,d);return r.ka.set(e,E),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),y.snapshot}async function $b(r,e,i){const s=Et(r),o=s.ka.get(e),c=s.qa.get(o.targetId);if(c.length>1)return s.qa.set(o.targetId,c.filter(d=>!bc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sd(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),i&&Kd(s.remoteStore,o.targetId),wd(s,o.targetId)}).catch(Ms)):(wd(s,o.targetId),await Sd(s.localStore,o.targetId,!0))}async function t2(r,e){const i=Et(r),s=i.ka.get(e),o=i.qa.get(s.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Kd(i.remoteStore,s.targetId))}async function e2(r,e,i){const s=o2(r);try{const o=await function(d,g){const p=Et(d),y=be.now(),E=g.reduce((B,Y)=>B.add(Y.key),It());let S,D;return p.persistence.runTransaction("Locally write mutations","readwrite",B=>{let Y=Bi(),J=It();return p.ds.getEntries(B,E).next(W=>{Y=W,Y.forEach((rt,ot)=>{ot.isValidDocument()||(J=J.add(rt))})}).next(()=>p.localDocuments.getOverlayedDocuments(B,Y)).next(W=>{S=W;const rt=[];for(const ot of g){const lt=mS(ot,S.get(ot.key).overlayedDocument);lt!=null&&rt.push(new Ir(ot.key,lt,x_(lt.value.mapValue),ai.exists(!0)))}return p.mutationQueue.addMutationBatch(B,y,rt,g)}).next(W=>{D=W;const rt=W.applyToLocalDocumentSet(S,J);return p.documentOverlayCache.saveOverlays(B,W.batchId,rt)})}).then(()=>({batchId:D.batchId,changes:Y_(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ie(Rt)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,o.batchId,i),await ho(s,o.changes),await Mc(s.remoteStore)}catch(o){const c=tm(o,"Failed to persist write");i.reject(c)}}async function C0(r,e){const i=Et(r);try{const s=await fb(i.localStore,e);e.targetChanges.forEach((o,c)=>{const d=i.Ua.get(c);d&&(Ht(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.Ba=!0:o.modifiedDocuments.size>0?Ht(d.Ba):o.removedDocuments.size>0&&(Ht(d.Ba),d.Ba=!1))}),await ho(i,s,e)}catch(s){await Ms(s)}}function xv(r,e,i){const s=Et(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const o=[];s.ka.forEach((c,d)=>{const g=d.view.sa(e);g.snapshot&&o.push(g.snapshot)}),function(d,g){const p=Et(d);p.onlineState=g;let y=!1;p.queries.forEach((E,S)=>{for(const D of S.ta)D.sa(g)&&(y=!0)}),y&&em(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function n2(r,e,i){const s=Et(r);s.sharedClientState.updateQueryState(e,"rejected",i);const o=s.Ua.get(e),c=o&&o.key;if(c){let d=new ie(ft.comparator);d=d.insert(c,Ye.newNoDocument(c,_t.min()));const g=It().add(c),p=new Dc(_t.min(),new Map,new ie(Rt),d,g);await C0(s,p),s.$a=s.$a.remove(c),s.Ua.delete(e),im(s)}else await Sd(s.localStore,e,!1).then(()=>wd(s,e,i)).catch(Ms)}async function i2(r,e){const i=Et(r),s=e.batch.batchId;try{const o=await cb(i.localStore,e);V0(i,s,null),D0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ho(i,o)}catch(o){await Ms(o)}}async function r2(r,e,i){const s=Et(r);try{const o=await function(d,g){const p=Et(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(S=>(Ht(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);V0(s,e,i),D0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ho(s,o)}catch(o){await Ms(o)}}function D0(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function V0(r,e,i){const s=Et(r);let o=s.Wa[s.currentUser.toKey()];if(o){const c=o.get(e);c&&(i?c.reject(i):c.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function wd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||I0(r,s)})}function I0(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(Kd(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ua.delete(i),im(r))}function Lv(r,e,i){for(const s of i)s instanceof b0?(r.Ka.addReference(s.key,e),a2(r,s)):s instanceof R0?(it(nm,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||I0(r,s.key)):yt()}function a2(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(it(nm,"New document in limbo: "+i),r.Qa.add(s),im(r))}function im(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new ft(Jt.fromString(e)),s=r.za.next();r.Ua.set(s,new Xb(i)),r.$a=r.$a.insert(i,s),v0(r.remoteStore,new yr(ri(H_(i.path)),s,"TargetPurposeLimboResolution",Tc.ae))}}async function ho(r,e,i){const s=Et(r),o=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,e,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){o.push(y);const S=Qd.Yi(p.targetId,y);c.push(S)}}))}),await Promise.all(d),s.La.p_(o),await async function(p,y){const E=Et(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>X.forEach(y,D=>X.forEach(D.Hi,B=>E.persistence.referenceDelegate.addReference(S,D.targetId,B)).next(()=>X.forEach(D.Ji,B=>E.persistence.referenceDelegate.removeReference(S,D.targetId,B)))))}catch(S){if(!Ns(S))throw S;it(Xd,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const B=E.Ts.get(D),Y=B.snapshotVersion,J=B.withLastLimboFreeSnapshotVersion(Y);E.Ts=E.Ts.insert(D,J)}}}(s.localStore,c))}async function s2(r,e){const i=Et(r);if(!i.currentUser.isEqual(e)){it(nm,"User change. New user:",e.toKey());const s=await m0(i.localStore,e);i.currentUser=e,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new st(K.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ho(i,s.Rs)}}function l2(r,e){const i=Et(r),s=i.Ua.get(e);if(s&&s.Ba)return It().add(s.key);{let o=It();const c=i.qa.get(e);if(!c)return o;for(const d of c){const g=i.ka.get(d);o=o.unionWith(g.view.Sa)}return o}}function M0(r){const e=Et(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=C0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n2.bind(null,e),e.La.p_=jb.bind(null,e.eventManager),e.La.Ja=Gb.bind(null,e.eventManager),e}function o2(r){const e=Et(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=r2.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return ub(this.persistence,new sb,e.initialUser,this.serializer)}Xa(e){return new d0(Yd.ri,this.serializer)}Za(e){return new pb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class u2 extends vc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){Ht(this.persistence.referenceDelegate instanceof pc);const s=this.persistence.referenceDelegate.garbageCollector;return new FS(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new d0(s=>pc.ri(s,i),this.serializer)}}class Cd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>xv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=s2.bind(null,this.syncEngine),await Pb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Bb}()}createDatastore(e){const i=Vc(e.databaseInfo.databaseId),s=function(c){return new Tb(c)}(e.databaseInfo);return function(c,d,g,p){return new Rb(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,o,c,d,g){return new Cb(s,o,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>xv(this.syncEngine,i,0),function(){return Dv.D()?new Dv:new yb}())}createSyncEngine(e,i){return function(o,c,d,g,p,y,E){const S=new Kb(o,c,d,g,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(o){const c=Et(o);it(ya,"RemoteStore shutting down."),c.W_.add(5),await fo(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Cd.provider={build:()=>new Cd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ki("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dr="FirestoreClient";class f2{constructor(e,i,s,o,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=o,this.user=Fe.UNAUTHENTICATED,this.clientId=b_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{it(Dr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(it(Dr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=tm(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Jh(r,e){r.asyncQueue.verifyOperationInProgress(),it(Dr,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await m0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Uv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await h2(r);it(Dr,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>Iv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Iv(e.remoteStore,o)),r._onlineComponents=e}async function h2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){it(Dr,"Using user provided OfflineComponentProvider");try{await Jh(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(o){return o.name==="FirebaseError"?o.code===K.FAILED_PRECONDITION||o.code===K.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(i))throw i;Ts("Error using user provided cache. Falling back to memory cache: "+i),await Jh(r,new vc)}}else it(Dr,"Using default OfflineComponentProvider"),await Jh(r,new u2(void 0));return r._offlineComponents}async function N0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(it(Dr,"Using user provided OnlineComponentProvider"),await Uv(r,r._uninitializedComponentsProvider._online)):(it(Dr,"Using default OnlineComponentProvider"),await Uv(r,new Cd))),r._onlineComponents}function d2(r){return N0(r).then(e=>e.syncEngine)}async function m2(r){const e=await N0(r),i=e.eventManager;return i.onListen=Zb.bind(null,e.syncEngine),i.onUnlisten=$b.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=Wb.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=t2.bind(null,e.syncEngine),i}function g2(r,e,i={}){const s=new Tr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const E=new c2({next:D=>{E.su(),d.enqueueAndForget(()=>qb(c,S)),D.fromCache&&p.source==="server"?y.reject(new st(K.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new Fb(g,E,{includeMetadataChanges:!0,Ta:!0});return Hb(c,S)}(await m2(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(r,e,i){if(!i)throw new st(K.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function p2(r,e,i,s){if(e===!0&&s===!0)throw new st(K.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Pv(r){if(!ft.isDocumentKey(r))throw new st(K.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function kv(r){if(ft.isDocumentKey(r))throw new st(K.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Nc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yt()}function Cs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new st(K.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Nc(r);throw new st(K.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="firestore.googleapis.com",Bv=!0;class Hv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new st(K.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L0,this.ssl=Bv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Bv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=h0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<jS)throw new st(K.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}p2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=O0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new st(K.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Oc{constructor(e,i,s,o){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new st(K.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new st(K.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new EA;switch(s.type){case"firstParty":return new bA(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new st(K.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=zv.get(i);s&&(it("ComponentProvider","Removing Datastore"),zv.delete(i),s.terminate())}(this),Promise.resolve()}}function y2(r,e,i,s={}){var o;const c=(r=Cs(r,Oc))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${i}`;c.host!==L0&&c.host!==g&&Ts("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!ac(p,d)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Fe.MOCK_USER;else{y=$T(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new st(K.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Fe(S)}r._authCredentials=new TA(new A_(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new xs(this.firestore,e,this._query)}}class pn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class Ar extends xs{constructor(e,i,s){super(e,i,H_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new ft(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function qv(r,e,...i){if(r=zi(r),x0("collection","path",e),r instanceof Oc){const s=Jt.fromString(e,...i);return kv(s),new Ar(r,null,s)}{if(!(r instanceof pn||r instanceof Ar))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(e,...i));return kv(s),new Ar(r.firestore,null,s)}}function U0(r,e,...i){if(r=zi(r),arguments.length===1&&(e=b_.newId()),x0("doc","path",e),r instanceof Oc){const s=Jt.fromString(e,...i);return Pv(s),new pn(r,null,new ft(s))}{if(!(r instanceof pn||r instanceof Ar))throw new st(K.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Jt.fromString(e,...i));return Pv(s),new pn(r.firestore,r instanceof Ar?r.converter:null,new ft(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jv="AsyncQueue";class Gv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new p0(this,"async_queue_retry"),this.Su=()=>{const s=Wh();s&&it(jv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=Wh();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Wh();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Tr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ns(e))throw e;it(jv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw ki("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const o=$d.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(o),o}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class xc extends Oc{constructor(e,i,s,o){super(e,i,s,o),this.type="firestore",this._queue=new Gv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gv(e),this._firestoreClient=void 0,await e}}}function v2(r,e){const i=typeof r=="object"?r:uA(),s=typeof r=="string"?r:uc,o=rA(i,"firestore").getImmediate({identifier:s});if(!o._initialized){const c=WT("firestore");c&&y2(o,...c)}return o}function z0(r){if(r._terminated)throw new st(K.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||_2(r),r._firestoreClient}function _2(r){var e,i,s;const o=r._freezeSettings(),c=function(g,p,y,E){return new kA(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,O0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((i=o.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new f2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ds(Be.fromBase64String(e))}catch(i){throw new st(K.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Ds(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new st(K.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ke(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new st(K.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new st(K.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Rt(this._lat,e._lat)||Rt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^__.*__$/;class T2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms):new uo(e,this.data,i,this.fieldTransforms)}}class P0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Ir(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function k0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class lm{constructor(e,i,s,o,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=o,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new lm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return _c(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(k0(this.Lu)&&E2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class A2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Vc(e)}ju(e,i,s,o=!1){return new lm({Lu:e,methodName:i,zu:s,path:ke.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function om(r){const e=r._freezeSettings(),i=Vc(r._databaseId);return new A2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function S2(r,e,i,s,o,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,e,i,o);um("Data must be an object, but it was:",d,s);const g=B0(s,d);let p,y;if(c.merge)p=new gn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const D=Dd(e,S,i);if(!d.contains(D))throw new st(K.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);q0(E,D)||E.push(D)}p=new gn(E),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new T2(new rn(g),p,y)}class Uc extends rm{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Uc}}function b2(r,e,i,s){const o=r.ju(1,e,i);um("Data must be an object, but it was:",o,s);const c=[],d=rn.empty();Vr(s,(p,y)=>{const E=cm(e,p,i);y=zi(y);const S=o.Uu(E);if(y instanceof Uc)c.push(E);else{const D=mo(y,S);D!=null&&(c.push(E),d.set(E,D))}});const g=new gn(c);return new P0(d,g,o.fieldTransforms)}function R2(r,e,i,s,o,c){const d=r.ju(1,e,i),g=[Dd(e,s,i)],p=[o];if(c.length%2!=0)throw new st(K.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(Dd(e,c[D])),p.push(c[D+1]);const y=[],E=rn.empty();for(let D=g.length-1;D>=0;--D)if(!q0(y,g[D])){const B=g[D];let Y=p[D];Y=zi(Y);const J=d.Uu(B);if(Y instanceof Uc)y.push(B);else{const W=mo(Y,J);W!=null&&(y.push(B),E.set(B,W))}}const S=new gn(y);return new P0(E,S,d.fieldTransforms)}function w2(r,e,i,s=!1){return mo(i,r.ju(s?4:3,e))}function mo(r,e){if(H0(r=zi(r)))return um("Unsupported field value:",e,r),B0(r,e);if(r instanceof rm)return function(s,o){if(!k0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const c=[];let d=0;for(const g of s){let p=mo(g,o.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,o){if((s=zi(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return oS(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=be.fromDate(s);return{timestampValue:gc(o.serializer,c)}}if(s instanceof be){const c=new be(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:gc(o.serializer,c)}}if(s instanceof am)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ds)return{bytesValue:a0(o.serializer,s._byteString)};if(s instanceof pn){const c=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw o.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gd(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof sm)return function(d,g){return{mapValue:{fields:{[N_]:{stringValue:O_},[cc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return Hd(g.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Nc(s)}`)}(r,e)}function B0(r,e){const i={};return w_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Vr(r,(s,o)=>{const c=mo(o,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function H0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof be||r instanceof am||r instanceof Ds||r instanceof pn||r instanceof rm||r instanceof sm)}function um(r,e,i){if(!H0(i)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(i)){const s=Nc(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Dd(r,e,i){if((e=zi(e))instanceof Lc)return e._internalPath;if(typeof e=="string")return cm(r,e);throw _c("Field path arguments must be of type string or ",r,!1,void 0,i)}const C2=new RegExp("[~\\*/\\[\\]]");function cm(r,e,i){if(e.search(C2)>=0)throw _c(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Lc(...e.split("."))._internalPath}catch{throw _c(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function _c(r,e,i,s,o){const c=s&&!s.isEmpty(),d=o!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${o}`),p+=")"),new st(K.INVALID_ARGUMENT,g+r+p)}function q0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{constructor(e,i,s,o,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(fm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class D2 extends j0{data(){return super.data()}}function fm(r,e){return typeof e=="string"?cm(r,e):e instanceof Lc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new st(K.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class hm{}class I2 extends hm{}function $h(r,e,...i){let s=[];e instanceof hm&&s.push(e),s=s.concat(i),function(c){const d=c.filter(p=>p instanceof dm).length,g=c.filter(p=>p instanceof zc).length;if(d>1||d>0&&g>0)throw new st(K.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class zc extends I2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new zc(e,i,s)}_apply(e){const i=this._parse(e);return G0(e._query,i),new xs(e.firestore,e.converter,yd(e._query,i))}_parse(e){const i=om(e.firestore);return function(c,d,g,p,y,E,S){let D;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new st(K.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Yv(S,E);const Y=[];for(const J of S)Y.push(Fv(p,c,J));D={arrayValue:{values:Y}}}else D=Fv(p,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Yv(S,E),D=w2(g,d,S,E==="in"||E==="not-in");return ye.create(y,E,D)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function td(r,e,i){const s=e,o=fm("where",r);return zc._create(o,s,i)}class dm extends hm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new dm(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Pn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(o,c){let d=o;const g=c.getFlattenedFilters();for(const p of g)G0(d,p),d=yd(d,p)}(e._query,i),new xs(e.firestore,e.converter,yd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fv(r,e,i){if(typeof(i=zi(i))=="string"){if(i==="")throw new st(K.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!q_(e)&&i.indexOf("/")!==-1)throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child(Jt.fromString(i));if(!ft.isDocumentKey(s))throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return sv(r,new ft(s))}if(i instanceof pn)return sv(r,i._key);throw new st(K.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Nc(i)}.`)}function Yv(r,e){if(!Array.isArray(r)||r.length===0)throw new st(K.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function G0(r,e){const i=function(o,c){for(const d of o)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new st(K.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class M2{convertValue(e,i="none"){switch(wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Rr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Vr(e,(o,c)=>{s[o]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,o;const c=(o=(s=(i=e.fields)===null||i===void 0?void 0:i[cc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>fe(d.doubleValue));return new sm(c)}convertGeoPoint(e){return new am(fe(e.latitude),fe(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Sc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(no(e));default:return null}}convertTimestamp(e){const i=br(e);return new be(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=Jt.fromString(e);Ht(f0(s));const o=new io(s.get(1),s.get(3)),c=new ft(s.popFirst(5));return o.isEqual(i)||ki(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class O2 extends j0{constructor(e,i,s,o,c,d){super(e,i,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(fm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class nc extends O2{data(e={}){return super.data(e)}}class x2{constructor(e,i,s,o){this._firestore=e,this._userDataWriter=i,this._snapshot=o,this.metadata=new Qu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new nc(this._firestore,this._userDataWriter,s.key,s,new Qu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new st(K.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(g=>{const p=new nc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Qu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new nc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Qu(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:L2(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function L2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}class U2 extends M2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ds(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,i)}}function ed(r){r=Cs(r,xs);const e=Cs(r.firestore,xc),i=z0(e),s=new U2(e);return V2(r._query),g2(i,r._query).then(o=>new x2(e,s,r,o))}function z2(r,e,i,...s){r=Cs(r,pn);const o=Cs(r.firestore,xc),c=om(o);let d;return d=typeof(e=zi(e))=="string"||e instanceof Lc?R2(c,"updateDoc",r._key,e,i,s):b2(c,"updateDoc",r._key,e),F0(o,[d.toMutation(r._key,ai.exists(!0))])}function P2(r,e){const i=Cs(r.firestore,xc),s=U0(r),o=N2(r.converter,e);return F0(i,[S2(om(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ai.exists(!1))]).then(()=>s)}function F0(r,e){return function(s,o){const c=new Tr;return s.asyncQueue.enqueueAndForget(async()=>e2(await d2(s),o,c)),c.promise}(z0(r),e)}(function(e,i=!0){(function(o){Is=o})(oA),lc(new $l("firestore",(s,{instanceIdentifier:o,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new xc(new AA(s.getProvider("auth-internal")),new RA(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new st(K.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new io(y.options.projectId,E)}(d,o),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),_s(Xy,Ky,e),_s(Xy,Ky,"esm2017")})();var k2="firebase",B2="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_s(k2,B2,"app");const H2={apiKey:"AIzaSyCiDPHZEXAHbxXM5pBHVPsFsV3oh-BkNRI",authDomain:"shaffers-b329f.firebaseapp.com",projectId:"shaffers-b329f",storageBucket:"shaffers-b329f.firebasestorage.app",messagingSenderId:"513809891195",appId:"1:513809891195:web:9c15bd18f9f837b210c7de"},q2=d_(H2),nd=v2(q2);var Vd=function(){return Vd=Object.assign||function(e){for(var i,s=1,o=arguments.length;s<o;s++){i=arguments[s];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},Vd.apply(this,arguments)};function oi(r,e,i,s){function o(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function g(E){try{y(s.next(E))}catch(S){d(S)}}function p(E){try{y(s.throw(E))}catch(S){d(S)}}function y(E){E.done?c(E.value):o(E.value).then(g,p)}y((s=s.apply(r,e||[])).next())})}function ui(r,e){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,o,c,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=g(0),d.throw=g(1),d.return=g(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(y){return function(E){return p([y,E])}}function p(y){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(i=0)),i;)try{if(s=1,o&&(c=y[0]&2?o.return:y[0]?o.throw||((c=o.return)&&c.call(o),0):o.next)&&!(c=c.call(o,y[1])).done)return c;switch(o=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,o=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){i.label=y[1];break}if(y[0]===6&&i.label<c[1]){i.label=c[1],c=y;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(y);break}c[2]&&i.ops.pop(),i.trys.pop();continue}y=e.call(r,i)}catch(E){y=[6,E],o=0}finally{s=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function Y0(r,e,i){if(i||arguments.length===2)for(var s=0,o=e.length,c;s<o;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return r.concat(c||Array.prototype.slice.call(e))}var Q0="4.6.1";function Ec(r,e){return new Promise(function(i){return setTimeout(i,r,e)})}function j2(){return new Promise(function(r){var e=new MessageChannel;e.port1.onmessage=function(){return r()},e.port2.postMessage(null)})}function G2(r,e){e===void 0&&(e=1/0);var i=window.requestIdleCallback;return i?new Promise(function(s){return i.call(window,function(){return s()},{timeout:e})}):Ec(Math.min(r,e))}function X0(r){return!!r&&typeof r.then=="function"}function Qv(r,e){try{var i=r();X0(i)?i.then(function(s){return e(!0,s)},function(s){return e(!1,s)}):e(!0,i)}catch(s){e(!1,s)}}function Xv(r,e,i){return i===void 0&&(i=16),oi(this,void 0,void 0,function(){var s,o,c,d;return ui(this,function(g){switch(g.label){case 0:s=Array(r.length),o=Date.now(),c=0,g.label=1;case 1:return c<r.length?(s[c]=e(r[c],c),d=Date.now(),d>=o+i?(o=d,[4,j2()]):[3,3]):[3,4];case 2:g.sent(),g.label=3;case 3:return++c,[3,1];case 4:return[2,s]}})})}function lo(r){return r.then(void 0,function(){}),r}function F2(r,e){for(var i=0,s=r.length;i<s;++i)if(r[i]===e)return!0;return!1}function Y2(r,e){return!F2(r,e)}function mm(r){return parseInt(r)}function zn(r){return parseFloat(r)}function Ui(r,e){return typeof r=="number"&&isNaN(r)?e:r}function Je(r){return r.reduce(function(e,i){return e+(i?1:0)},0)}function K0(r,e){if(e===void 0&&(e=1),Math.abs(e)>=1)return Math.round(r/e)*e;var i=1/e;return Math.round(r*i)/i}function Q2(r){for(var e,i,s="Unexpected syntax '".concat(r,"'"),o=/^\s*([a-z-]*)(.*)$/i.exec(r),c=o[1]||void 0,d={},g=/([.:#][\w-]+|\[.+?\])/gi,p=function(D,B){d[D]=d[D]||[],d[D].push(B)};;){var y=g.exec(o[2]);if(!y)break;var E=y[0];switch(E[0]){case".":p("class",E.slice(1));break;case"#":p("id",E.slice(1));break;case"[":{var S=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(E);if(S)p(S[1],(i=(e=S[4])!==null&&e!==void 0?e:S[5])!==null&&i!==void 0?i:"");else throw new Error(s);break}default:throw new Error(s)}}return[c,d]}function X2(r){for(var e=new Uint8Array(r.length),i=0;i<r.length;i++){var s=r.charCodeAt(i);if(s>127)return new TextEncoder().encode(r);e[i]=s}return e}function pr(r,e){var i=r[0]>>>16,s=r[0]&65535,o=r[1]>>>16,c=r[1]&65535,d=e[0]>>>16,g=e[0]&65535,p=e[1]>>>16,y=e[1]&65535,E=0,S=0,D=0,B=0;B+=c+y,D+=B>>>16,B&=65535,D+=o+p,S+=D>>>16,D&=65535,S+=s+g,E+=S>>>16,S&=65535,E+=i+d,E&=65535,r[0]=E<<16|S,r[1]=D<<16|B}function In(r,e){var i=r[0]>>>16,s=r[0]&65535,o=r[1]>>>16,c=r[1]&65535,d=e[0]>>>16,g=e[0]&65535,p=e[1]>>>16,y=e[1]&65535,E=0,S=0,D=0,B=0;B+=c*y,D+=B>>>16,B&=65535,D+=o*y,S+=D>>>16,D&=65535,D+=c*p,S+=D>>>16,D&=65535,S+=s*y,E+=S>>>16,S&=65535,S+=o*p,E+=S>>>16,S&=65535,S+=c*g,E+=S>>>16,S&=65535,E+=i*y+s*p+o*g+c*d,E&=65535,r[0]=E<<16|S,r[1]=D<<16|B}function hs(r,e){var i=r[0];e%=64,e===32?(r[0]=r[1],r[1]=i):e<32?(r[0]=i<<e|r[1]>>>32-e,r[1]=r[1]<<e|i>>>32-e):(e-=32,r[0]=r[1]<<e|i>>>32-e,r[1]=i<<e|r[1]>>>32-e)}function mn(r,e){e%=64,e!==0&&(e<32?(r[0]=r[1]>>>32-e,r[1]=r[1]<<e):(r[0]=r[1]<<e-32,r[1]=0))}function ee(r,e){r[0]^=e[0],r[1]^=e[1]}var K2=[4283543511,3981806797],Z2=[3301882366,444984403];function Kv(r){var e=[0,r[0]>>>1];ee(r,e),In(r,K2),e[1]=r[0]>>>1,ee(r,e),In(r,Z2),e[1]=r[0]>>>1,ee(r,e)}var Xu=[2277735313,289559509],Ku=[1291169091,658871167],Zv=[0,5],W2=[0,1390208809],J2=[0,944331445];function $2(r,e){var i=X2(r);e=e||0;var s=[0,i.length],o=s[1]%16,c=s[1]-o,d=[0,e],g=[0,e],p=[0,0],y=[0,0],E;for(E=0;E<c;E=E+16)p[0]=i[E+4]|i[E+5]<<8|i[E+6]<<16|i[E+7]<<24,p[1]=i[E]|i[E+1]<<8|i[E+2]<<16|i[E+3]<<24,y[0]=i[E+12]|i[E+13]<<8|i[E+14]<<16|i[E+15]<<24,y[1]=i[E+8]|i[E+9]<<8|i[E+10]<<16|i[E+11]<<24,In(p,Xu),hs(p,31),In(p,Ku),ee(d,p),hs(d,27),pr(d,g),In(d,Zv),pr(d,W2),In(y,Ku),hs(y,33),In(y,Xu),ee(g,y),hs(g,31),pr(g,d),In(g,Zv),pr(g,J2);p[0]=0,p[1]=0,y[0]=0,y[1]=0;var S=[0,0];switch(o){case 15:S[1]=i[E+14],mn(S,48),ee(y,S);case 14:S[1]=i[E+13],mn(S,40),ee(y,S);case 13:S[1]=i[E+12],mn(S,32),ee(y,S);case 12:S[1]=i[E+11],mn(S,24),ee(y,S);case 11:S[1]=i[E+10],mn(S,16),ee(y,S);case 10:S[1]=i[E+9],mn(S,8),ee(y,S);case 9:S[1]=i[E+8],ee(y,S),In(y,Ku),hs(y,33),In(y,Xu),ee(g,y);case 8:S[1]=i[E+7],mn(S,56),ee(p,S);case 7:S[1]=i[E+6],mn(S,48),ee(p,S);case 6:S[1]=i[E+5],mn(S,40),ee(p,S);case 5:S[1]=i[E+4],mn(S,32),ee(p,S);case 4:S[1]=i[E+3],mn(S,24),ee(p,S);case 3:S[1]=i[E+2],mn(S,16),ee(p,S);case 2:S[1]=i[E+1],mn(S,8),ee(p,S);case 1:S[1]=i[E],ee(p,S),In(p,Xu),hs(p,31),In(p,Ku),ee(d,p)}return ee(d,s),ee(g,s),pr(d,g),pr(g,d),Kv(d),Kv(g),pr(d,g),pr(g,d),("00000000"+(d[0]>>>0).toString(16)).slice(-8)+("00000000"+(d[1]>>>0).toString(16)).slice(-8)+("00000000"+(g[0]>>>0).toString(16)).slice(-8)+("00000000"+(g[1]>>>0).toString(16)).slice(-8)}function tR(r){var e;return Vd({name:r.name,message:r.message,stack:(e=r.stack)===null||e===void 0?void 0:e.split(`
`)},r)}function eR(r){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(r))}function nR(r){return typeof r!="function"}function iR(r,e){var i=lo(new Promise(function(s){var o=Date.now();Qv(r.bind(null,e),function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var g=Date.now()-o;if(!c[0])return s(function(){return{error:c[1],duration:g}});var p=c[1];if(nR(p))return s(function(){return{value:p,duration:g}});s(function(){return new Promise(function(y){var E=Date.now();Qv(p,function(){for(var S=[],D=0;D<arguments.length;D++)S[D]=arguments[D];var B=g+Date.now()-E;if(!S[0])return y({error:S[1],duration:B});y({value:S[1],duration:B})})})})})}));return function(){return i.then(function(o){return o()})}}function rR(r,e,i,s){var o=Object.keys(r).filter(function(d){return Y2(i,d)}),c=lo(Xv(o,function(d){return iR(r[d],e)},s));return function(){return oi(this,void 0,void 0,function(){var g,p,y,E,S;return ui(this,function(D){switch(D.label){case 0:return[4,c];case 1:return g=D.sent(),[4,Xv(g,function(B){return lo(B())},s)];case 2:return p=D.sent(),[4,Promise.all(p)];case 3:for(y=D.sent(),E={},S=0;S<o.length;++S)E[o[S]]=y[S];return[2,E]}})})}}function Z0(){var r=window,e=navigator;return Je(["MSCSSMatrix"in r,"msSetImmediate"in r,"msIndexedDB"in r,"msMaxTouchPoints"in e,"msPointerEnabled"in e])>=4}function aR(){var r=window,e=navigator;return Je(["msWriteProfilerMark"in r,"MSStream"in r,"msLaunchUri"in e,"msSaveBlob"in e])>=3&&!Z0()}function go(){var r=window,e=navigator;return Je(["webkitPersistentStorage"in e,"webkitTemporaryStorage"in e,(e.vendor||"").indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in r,"BatteryManager"in r,"webkitMediaStream"in r,"webkitSpeechGrammar"in r])>=5}function kn(){var r=window,e=navigator;return Je(["ApplePayError"in r,"CSSPrimitiveValue"in r,"Counter"in r,e.vendor.indexOf("Apple")===0,"RGBColor"in r,"WebKitMediaKeys"in r])>=4}function gm(){var r=window,e=r.HTMLElement,i=r.Document;return Je(["safari"in r,!("ongestureend"in r),!("TouchEvent"in r),!("orientation"in r),e&&!("autocapitalize"in e.prototype),i&&"pointerLockElement"in i.prototype])>=4}function po(){var r=window;return eR(r.print)&&String(r.browser)==="[object WebPageNamespace]"}function W0(){var r,e,i=window;return Je(["buildID"in navigator,"MozAppearance"in((e=(r=document.documentElement)===null||r===void 0?void 0:r.style)!==null&&e!==void 0?e:{}),"onmozfullscreenchange"in i,"mozInnerScreenX"in i,"CSSMozDocumentRule"in i,"CanvasCaptureMediaStream"in i])>=4}function sR(){var r=window;return Je([!("MediaSettingsRange"in r),"RTCEncodedAudioFrame"in r,""+r.Intl=="[object Intl]",""+r.Reflect=="[object Reflect]"])>=3}function lR(){var r=window,e=r.URLPattern;return Je(["union"in Set.prototype,"Iterator"in r,e&&"hasRegExpGroups"in e.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function oR(){var r=window;return Je(["DOMRectList"in r,"RTCPeerConnectionIceEvent"in r,"SVGGeometryElement"in r,"ontransitioncancel"in r])>=3}function yo(){var r=window,e=navigator,i=r.CSS,s=r.HTMLButtonElement;return Je([!("getStorageUpdates"in e),s&&"popover"in s.prototype,"CSSCounterStyleRule"in r,i.supports("font-size-adjust: ex-height 0.5"),i.supports("text-transform: full-width")])>=4}function uR(){if(navigator.platform==="iPad")return!0;var r=screen,e=r.width/r.height;return Je(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,e>.65&&e<1.53])>=2}function cR(){var r=document;return r.fullscreenElement||r.msFullscreenElement||r.mozFullScreenElement||r.webkitFullscreenElement||null}function fR(){var r=document;return(r.exitFullscreen||r.msExitFullscreen||r.mozCancelFullScreen||r.webkitExitFullscreen).call(r)}function pm(){var r=go(),e=W0(),i=window,s=navigator,o="connection";return r?Je([!("SharedWorker"in i),s[o]&&"ontypechange"in s[o],!("sinkId"in new Audio)])>=2:e?Je(["onorientationchange"in i,"orientation"in i,/android/i.test(s.appVersion)])>=2:!1}function hR(){var r=navigator,e=window,i=Audio.prototype,s=e.visualViewport;return Je(["srLatency"in i,"srChannelCount"in i,"devicePosture"in r,s&&"segments"in s,"getTextInformation"in Image.prototype])>=3}function dR(){return pR()?-4:mR()}function mR(){var r=window,e=r.OfflineAudioContext||r.webkitOfflineAudioContext;if(!e)return-2;if(gR())return-1;var i=4500,s=5e3,o=new e(1,s,44100),c=o.createOscillator();c.type="triangle",c.frequency.value=1e4;var d=o.createDynamicsCompressor();d.threshold.value=-50,d.knee.value=40,d.ratio.value=12,d.attack.value=0,d.release.value=.25,c.connect(d),d.connect(o.destination),c.start(0);var g=yR(o),p=g[0],y=g[1],E=lo(p.then(function(S){return vR(S.getChannelData(0).subarray(i))},function(S){if(S.name==="timeout"||S.name==="suspended")return-3;throw S}));return function(){return y(),E}}function gR(){return kn()&&!gm()&&!oR()}function pR(){return kn()&&yo()&&po()||go()&&hR()&&lR()}function yR(r){var e=3,i=500,s=500,o=5e3,c=function(){},d=new Promise(function(g,p){var y=!1,E=0,S=0;r.oncomplete=function(Y){return g(Y.renderedBuffer)};var D=function(){setTimeout(function(){return p(Wv("timeout"))},Math.min(s,S+o-Date.now()))},B=function(){try{var Y=r.startRendering();switch(X0(Y)&&lo(Y),r.state){case"running":S=Date.now(),y&&D();break;case"suspended":document.hidden||E++,y&&E>=e?p(Wv("suspended")):setTimeout(B,i);break}}catch(J){p(J)}};B(),c=function(){y||(y=!0,S>0&&D())}});return[d,c]}function vR(r){for(var e=0,i=0;i<r.length;++i)e+=Math.abs(r[i]);return e}function Wv(r){var e=new Error(r);return e.name=r,e}function J0(r,e,i){var s,o,c;return i===void 0&&(i=50),oi(this,void 0,void 0,function(){var d,g;return ui(this,function(p){switch(p.label){case 0:d=document,p.label=1;case 1:return d.body?[3,3]:[4,Ec(i)];case 2:return p.sent(),[3,1];case 3:g=d.createElement("iframe"),p.label=4;case 4:return p.trys.push([4,,10,11]),[4,new Promise(function(y,E){var S=!1,D=function(){S=!0,y()},B=function(W){S=!0,E(W)};g.onload=D,g.onerror=B;var Y=g.style;Y.setProperty("display","block","important"),Y.position="absolute",Y.top="0",Y.left="0",Y.visibility="hidden",e&&"srcdoc"in g?g.srcdoc=e:g.src="about:blank",d.body.appendChild(g);var J=function(){var W,rt;S||(((rt=(W=g.contentWindow)===null||W===void 0?void 0:W.document)===null||rt===void 0?void 0:rt.readyState)==="complete"?D():setTimeout(J,10))};J()})];case 5:p.sent(),p.label=6;case 6:return!((o=(s=g.contentWindow)===null||s===void 0?void 0:s.document)===null||o===void 0)&&o.body?[3,8]:[4,Ec(i)];case 7:return p.sent(),[3,6];case 8:return[4,r(g,g.contentWindow)];case 9:return[2,p.sent()];case 10:return(c=g.parentNode)===null||c===void 0||c.removeChild(g),[7];case 11:return[2]}})})}function _R(r){for(var e=Q2(r),i=e[0],s=e[1],o=document.createElement(i??"div"),c=0,d=Object.keys(s);c<d.length;c++){var g=d[c],p=s[g].join(" ");g==="style"?ER(o.style,p):o.setAttribute(g,p)}return o}function ER(r,e){for(var i=0,s=e.split(";");i<s.length;i++){var o=s[i],c=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(o);if(c){var d=c[1],g=c[2],p=c[4];r.setProperty(d,g,p||"")}}}function TR(){for(var r=window;;){var e=r.parent;if(!e||e===r)return!1;try{if(e.location.origin!==r.location.origin)return!0}catch(i){if(i instanceof Error&&i.name==="SecurityError")return!0;throw i}r=e}}var AR="mmMwWLliI0O&1",SR="48px",ds=["monospace","sans-serif","serif"],Jv=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function bR(){var r=this;return J0(function(e,i){var s=i.document;return oi(r,void 0,void 0,function(){var o,c,d,g,p,y,E,S,D,B,Y,J;return ui(this,function(W){for(o=s.body,o.style.fontSize=SR,c=s.createElement("div"),c.style.setProperty("visibility","hidden","important"),d={},g={},p=function(rt){var ot=s.createElement("span"),lt=ot.style;return lt.position="absolute",lt.top="0",lt.left="0",lt.fontFamily=rt,ot.textContent=AR,c.appendChild(ot),ot},y=function(rt,ot){return p("'".concat(rt,"',").concat(ot))},E=function(){return ds.map(p)},S=function(){for(var rt={},ot=function(St){rt[St]=ds.map(function(N){return y(St,N)})},lt=0,At=Jv;lt<At.length;lt++){var mt=At[lt];ot(mt)}return rt},D=function(rt){return ds.some(function(ot,lt){return rt[lt].offsetWidth!==d[ot]||rt[lt].offsetHeight!==g[ot]})},B=E(),Y=S(),o.appendChild(c),J=0;J<ds.length;J++)d[ds[J]]=B[J].offsetWidth,g[ds[J]]=B[J].offsetHeight;return[2,Jv.filter(function(rt){return D(Y[rt])})]})})})}function RR(){var r=navigator.plugins;if(r){for(var e=[],i=0;i<r.length;++i){var s=r[i];if(s){for(var o=[],c=0;c<s.length;++c){var d=s[c];o.push({type:d.type,suffixes:d.suffixes})}e.push({name:s.name,description:s.description,mimeTypes:o})}}return e}}function wR(){return CR(xR())}function CR(r){var e,i=!1,s,o,c=DR(),d=c[0],g=c[1];return VR(d,g)?(i=IR(g),r?s=o="skipped":(e=MR(d,g),s=e[0],o=e[1])):s=o="unsupported",{winding:i,geometry:s,text:o}}function DR(){var r=document.createElement("canvas");return r.width=1,r.height=1,[r,r.getContext("2d")]}function VR(r,e){return!!(e&&r.toDataURL)}function IR(r){return r.rect(0,0,10,10),r.rect(2,2,6,6),!r.isPointInPath(5,5,"evenodd")}function MR(r,e){NR(r,e);var i=id(r),s=id(r);if(i!==s)return["unstable","unstable"];OR(r,e);var o=id(r);return[o,i]}function NR(r,e){r.width=240,r.height=60,e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(100,1,62,20),e.fillStyle="#069",e.font='11pt "Times New Roman"';var i="Cwm fjordbank gly ".concat("😃");e.fillText(i,2,15),e.fillStyle="rgba(102, 204, 0, 0.2)",e.font="18pt Arial",e.fillText(i,4,45)}function OR(r,e){r.width=122,r.height=110,e.globalCompositeOperation="multiply";for(var i=0,s=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];i<s.length;i++){var o=s[i],c=o[0],d=o[1],g=o[2];e.fillStyle=c,e.beginPath(),e.arc(d,g,40,0,Math.PI*2,!0),e.closePath(),e.fill()}e.fillStyle="#f9c",e.arc(60,60,60,0,Math.PI*2,!0),e.arc(60,60,20,0,Math.PI*2,!0),e.fill("evenodd")}function id(r){return r.toDataURL()}function xR(){return kn()&&yo()&&po()}function LR(){var r=navigator,e=0,i;r.maxTouchPoints!==void 0?e=mm(r.maxTouchPoints):r.msMaxTouchPoints!==void 0&&(e=r.msMaxTouchPoints);try{document.createEvent("TouchEvent"),i=!0}catch{i=!1}var s="ontouchstart"in window;return{maxTouchPoints:e,touchEvent:i,touchStart:s}}function UR(){return navigator.oscpu}function zR(){var r=navigator,e=[],i=r.language||r.userLanguage||r.browserLanguage||r.systemLanguage;if(i!==void 0&&e.push([i]),Array.isArray(r.languages))go()&&sR()||e.push(r.languages);else if(typeof r.languages=="string"){var s=r.languages;s&&e.push(s.split(","))}return e}function PR(){return window.screen.colorDepth}function kR(){return Ui(zn(navigator.deviceMemory),void 0)}function BR(){if(!(kn()&&yo()&&po()))return HR()}function HR(){var r=screen,e=function(s){return Ui(mm(s),null)},i=[e(r.width),e(r.height)];return i.sort().reverse(),i}var qR=2500,jR=10,ic,rd;function GR(){if(rd===void 0){var r=function(){var e=Id();Md(e)?rd=setTimeout(r,qR):(ic=e,rd=void 0)};r()}}function FR(){var r=this;return GR(),function(){return oi(r,void 0,void 0,function(){var e;return ui(this,function(i){switch(i.label){case 0:return e=Id(),Md(e)?ic?[2,Y0([],ic,!0)]:cR()?[4,fR()]:[3,2]:[3,2];case 1:i.sent(),e=Id(),i.label=2;case 2:return Md(e)||(ic=e),[2,e]}})})}}function YR(){var r=this;if(kn()&&yo()&&po())return function(){return Promise.resolve(void 0)};var e=FR();return function(){return oi(r,void 0,void 0,function(){var i,s;return ui(this,function(o){switch(o.label){case 0:return[4,e()];case 1:return i=o.sent(),s=function(c){return c===null?null:K0(c,jR)},[2,[s(i[0]),s(i[1]),s(i[2]),s(i[3])]]}})})}}function Id(){var r=screen;return[Ui(zn(r.availTop),null),Ui(zn(r.width)-zn(r.availWidth)-Ui(zn(r.availLeft),0),null),Ui(zn(r.height)-zn(r.availHeight)-Ui(zn(r.availTop),0),null),Ui(zn(r.availLeft),null)]}function Md(r){for(var e=0;e<4;++e)if(r[e])return!1;return!0}function QR(){return Ui(mm(navigator.hardwareConcurrency),void 0)}function XR(){var r,e=(r=window.Intl)===null||r===void 0?void 0:r.DateTimeFormat;if(e){var i=new e().resolvedOptions().timeZone;if(i)return i}var s=-KR();return"UTC".concat(s>=0?"+":"").concat(s)}function KR(){var r=new Date().getFullYear();return Math.max(zn(new Date(r,0,1).getTimezoneOffset()),zn(new Date(r,6,1).getTimezoneOffset()))}function ZR(){try{return!!window.sessionStorage}catch{return!0}}function WR(){try{return!!window.localStorage}catch{return!0}}function JR(){if(!(Z0()||aR()))try{return!!window.indexedDB}catch{return!0}}function $R(){return!!window.openDatabase}function tw(){return navigator.cpuClass}function ew(){var r=navigator.platform;return r==="MacIntel"&&kn()&&!gm()?uR()?"iPad":"iPhone":r}function nw(){return navigator.vendor||""}function iw(){for(var r=[],e=0,i=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];e<i.length;e++){var s=i[e],o=window[s];o&&typeof o=="object"&&r.push(s)}return r.sort()}function rw(){var r=document;try{r.cookie="cookietest=1; SameSite=Strict;";var e=r.cookie.indexOf("cookietest=")!==-1;return r.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch{return!1}}function aw(){var r=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',r("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",r("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",r("LnNwb25zb3JpdA=="),".ylamainos",r("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),r("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",r("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",r("LmhlYWRlci1ibG9ja2VkLWFk"),r("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",r("I2FkXzMwMFgyNTA="),r("I2Jhbm5lcmZsb2F0MjI="),r("I2NhbXBhaWduLWJhbm5lcg=="),r("I0FkLUNvbnRlbnQ=")],adGuardChinese:[r("LlppX2FkX2FfSA=="),r("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",r("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),r("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",r("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",r("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",r("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),r("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),r("LmFkZ29vZ2xl"),r("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[r("YW1wLWF1dG8tYWRz"),r("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",r("I2FkX2ludmlld19hcmVh")],adGuardRussian:[r("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),r("LnJlY2xhbWE="),'div[id^="smi2adblock"]',r("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[r("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),r("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",r("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),r("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),r("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",r("I3Jla2xhbWk="),r("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),r("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),r("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[r("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",r("LndpZGdldF9wb19hZHNfd2lkZ2V0"),r("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",r("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[r("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),r("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",r("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",r("I3Jla2xhbW5pLWJveA=="),r("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",r("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[r("I2FkdmVydGVudGll"),r("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",r("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",r("LnNwb25zb3JsaW5rZ3J1ZW4="),r("I3dlcmJ1bmdza3k="),r("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),r("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[r("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",r("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),r("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),r("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[r("LnJla2xhbW9zX3RhcnBhcw=="),r("LnJla2xhbW9zX251b3JvZG9z"),r("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),r("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),r("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[r("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[r("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),r("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",r("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[r("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),r("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),r("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",r("LmFkX19tYWlu"),r("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[r("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[r("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),r("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[r("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),r("I2xpdmVyZUFkV3JhcHBlcg=="),r("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),r("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[r("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",r("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),r("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),r("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[r("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),r("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),r("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",r("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),r("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),r("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),r("ZGl2I3NrYXBpZWNfYWQ=")],ro:[r("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),r("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),r("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),r("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[r("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),r("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),r("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",r("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),r("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",r("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function sw(r){var e=r===void 0?{}:r,i=e.debug;return oi(this,void 0,void 0,function(){var s,o,c,d,g,p;return ui(this,function(y){switch(y.label){case 0:return lw()?(s=aw(),o=Object.keys(s),c=(p=[]).concat.apply(p,o.map(function(E){return s[E]})),[4,ow(c)]):[2,void 0];case 1:return d=y.sent(),i&&uw(s,d),g=o.filter(function(E){var S=s[E],D=Je(S.map(function(B){return d[B]}));return D>S.length*.6}),g.sort(),[2,g]}})})}function lw(){return kn()||pm()}function ow(r){var e;return oi(this,void 0,void 0,function(){var i,s,o,c,p,d,g,p;return ui(this,function(y){switch(y.label){case 0:for(i=document,s=i.createElement("div"),o=new Array(r.length),c={},$v(s),p=0;p<r.length;++p)d=_R(r[p]),d.tagName==="DIALOG"&&d.show(),g=i.createElement("div"),$v(g),g.appendChild(d),s.appendChild(g),o[p]=d;y.label=1;case 1:return i.body?[3,3]:[4,Ec(50)];case 2:return y.sent(),[3,1];case 3:i.body.appendChild(s);try{for(p=0;p<r.length;++p)o[p].offsetParent||(c[r[p]]=!0)}finally{(e=s.parentNode)===null||e===void 0||e.removeChild(s)}return[2,c]}})})}function $v(r){r.style.setProperty("visibility","hidden","important"),r.style.setProperty("display","block","important")}function uw(r,e){for(var i="DOM blockers debug:\n```",s=0,o=Object.keys(r);s<o.length;s++){var c=o[s];i+=`
`.concat(c,":");for(var d=0,g=r[c];d<g.length;d++){var p=g[d];i+=`
  `.concat(e[p]?"🚫":"➡️"," ").concat(p)}}console.log("".concat(i,"\n```"))}function cw(){for(var r=0,e=["rec2020","p3","srgb"];r<e.length;r++){var i=e[r];if(matchMedia("(color-gamut: ".concat(i,")")).matches)return i}}function fw(){if(t_("inverted"))return!0;if(t_("none"))return!1}function t_(r){return matchMedia("(inverted-colors: ".concat(r,")")).matches}function hw(){if(e_("active"))return!0;if(e_("none"))return!1}function e_(r){return matchMedia("(forced-colors: ".concat(r,")")).matches}var dw=100;function mw(){if(matchMedia("(min-monochrome: 0)").matches){for(var r=0;r<=dw;++r)if(matchMedia("(max-monochrome: ".concat(r,")")).matches)return r;throw new Error("Too high value")}}function gw(){if(ms("no-preference"))return 0;if(ms("high")||ms("more"))return 1;if(ms("low")||ms("less"))return-1;if(ms("forced"))return 10}function ms(r){return matchMedia("(prefers-contrast: ".concat(r,")")).matches}function pw(){if(n_("reduce"))return!0;if(n_("no-preference"))return!1}function n_(r){return matchMedia("(prefers-reduced-motion: ".concat(r,")")).matches}function yw(){if(i_("reduce"))return!0;if(i_("no-preference"))return!1}function i_(r){return matchMedia("(prefers-reduced-transparency: ".concat(r,")")).matches}function vw(){if(r_("high"))return!0;if(r_("standard"))return!1}function r_(r){return matchMedia("(dynamic-range: ".concat(r,")")).matches}var Bt=Math,We=function(){return 0};function _w(){var r=Bt.acos||We,e=Bt.acosh||We,i=Bt.asin||We,s=Bt.asinh||We,o=Bt.atanh||We,c=Bt.atan||We,d=Bt.sin||We,g=Bt.sinh||We,p=Bt.cos||We,y=Bt.cosh||We,E=Bt.tan||We,S=Bt.tanh||We,D=Bt.exp||We,B=Bt.expm1||We,Y=Bt.log1p||We,J=function(b){return Bt.pow(Bt.PI,b)},W=function(b){return Bt.log(b+Bt.sqrt(b*b-1))},rt=function(b){return Bt.log(b+Bt.sqrt(b*b+1))},ot=function(b){return Bt.log((1+b)/(1-b))/2},lt=function(b){return Bt.exp(b)-1/Bt.exp(b)/2},At=function(b){return(Bt.exp(b)+1/Bt.exp(b))/2},mt=function(b){return Bt.exp(b)-1},St=function(b){return(Bt.exp(2*b)-1)/(Bt.exp(2*b)+1)},N=function(b){return Bt.log(1+b)};return{acos:r(.12312423423423424),acosh:e(1e308),acoshPf:W(1e154),asin:i(.12312423423423424),asinh:s(1),asinhPf:rt(1),atanh:o(.5),atanhPf:ot(.5),atan:c(.5),sin:d(-1e300),sinh:g(1),sinhPf:lt(1),cos:p(10.000000000123),cosh:y(1),coshPf:At(1),tan:E(-1e300),tanh:S(1),tanhPf:St(1),exp:D(1),expm1:B(1),expm1Pf:mt(1),log1p:Y(10),log1pPf:N(10),powPI:J(-100)}}var Ew="mmMwWLliI0fiflO&1",ad={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function Tw(){return Aw(function(r,e){for(var i={},s={},o=0,c=Object.keys(ad);o<c.length;o++){var d=c[o],g=ad[d],p=g[0],y=p===void 0?{}:p,E=g[1],S=E===void 0?Ew:E,D=r.createElement("span");D.textContent=S,D.style.whiteSpace="nowrap";for(var B=0,Y=Object.keys(y);B<Y.length;B++){var J=Y[B],W=y[J];W!==void 0&&(D.style[J]=W)}i[d]=D,e.append(r.createElement("br"),D)}for(var rt=0,ot=Object.keys(ad);rt<ot.length;rt++){var d=ot[rt];s[d]=i[d].getBoundingClientRect().width}return s})}function Aw(r,e){return e===void 0&&(e=4e3),J0(function(i,s){var o=s.document,c=o.body,d=c.style;d.width="".concat(e,"px"),d.webkitTextSizeAdjust=d.textSizeAdjust="none",go()?c.style.zoom="".concat(1/s.devicePixelRatio):kn()&&(c.style.zoom="reset");var g=o.createElement("div");return g.textContent=Y0([],Array(e/20<<0),!0).map(function(){return"word"}).join(" "),c.appendChild(g),r(o,c)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function Sw(){return navigator.pdfViewerEnabled}function bw(){var r=new Float32Array(1),e=new Uint8Array(r.buffer);return r[0]=1/0,r[0]=r[0]-r[0],e[3]}function Rw(){var r=window.ApplePaySession;if(typeof(r==null?void 0:r.canMakePayments)!="function")return-1;if(ww())return-3;try{return r.canMakePayments()?1:0}catch(e){return Cw(e)}}var ww=TR;function Cw(r){if(r instanceof Error&&r.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(r.message))return-2;throw r}function Dw(){var r,e=document.createElement("a"),i=(r=e.attributionSourceId)!==null&&r!==void 0?r:e.attributionsourceid;return i===void 0?void 0:String(i)}var $0=-1,tE=-2,Vw=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),Iw=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),Mw=["FRAGMENT_SHADER","VERTEX_SHADER"],Nw=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],eE="WEBGL_debug_renderer_info",Ow="WEBGL_polygon_mode";function xw(r){var e,i,s,o,c,d,g=r.cache,p=nE(g);if(!p)return $0;if(!rE(p))return tE;var y=iE()?null:p.getExtension(eE);return{version:((e=p.getParameter(p.VERSION))===null||e===void 0?void 0:e.toString())||"",vendor:((i=p.getParameter(p.VENDOR))===null||i===void 0?void 0:i.toString())||"",vendorUnmasked:y?(s=p.getParameter(y.UNMASKED_VENDOR_WEBGL))===null||s===void 0?void 0:s.toString():"",renderer:((o=p.getParameter(p.RENDERER))===null||o===void 0?void 0:o.toString())||"",rendererUnmasked:y?(c=p.getParameter(y.UNMASKED_RENDERER_WEBGL))===null||c===void 0?void 0:c.toString():"",shadingLanguageVersion:((d=p.getParameter(p.SHADING_LANGUAGE_VERSION))===null||d===void 0?void 0:d.toString())||""}}function Lw(r){var e=r.cache,i=nE(e);if(!i)return $0;if(!rE(i))return tE;var s=i.getSupportedExtensions(),o=i.getContextAttributes(),c=[],d=[],g=[],p=[],y=[];if(o)for(var E=0,S=Object.keys(o);E<S.length;E++){var D=S[E];d.push("".concat(D,"=").concat(o[D]))}for(var B=a_(i),Y=0,J=B;Y<J.length;Y++){var W=J[Y],rt=i[W];g.push("".concat(W,"=").concat(rt).concat(Vw.has(rt)?"=".concat(i.getParameter(rt)):""))}if(s)for(var ot=0,lt=s;ot<lt.length;ot++){var At=lt[ot];if(!(At===eE&&iE()||At===Ow&&Pw())){var mt=i.getExtension(At);if(!mt){c.push(At);continue}for(var St=0,N=a_(mt);St<N.length;St++){var W=N[St],rt=mt[W];p.push("".concat(W,"=").concat(rt).concat(Iw.has(rt)?"=".concat(i.getParameter(rt)):""))}}}for(var b=0,C=Mw;b<C.length;b++)for(var M=C[b],O=0,L=Nw;O<L.length;O++){var w=L[O],ve=Uw(i,M,w);y.push("".concat(M,".").concat(w,"=").concat(ve.join(",")))}return p.sort(),g.sort(),{contextAttributes:d,parameters:g,shaderPrecisions:y,extensions:s,extensionParameters:p,unsupportedExtensions:c}}function nE(r){if(r.webgl)return r.webgl.context;var e=document.createElement("canvas"),i;e.addEventListener("webglCreateContextError",function(){return i=void 0});for(var s=0,o=["webgl","experimental-webgl"];s<o.length;s++){var c=o[s];try{i=e.getContext(c)}catch{}if(i)break}return r.webgl={context:i},i}function Uw(r,e,i){var s=r.getShaderPrecisionFormat(r[e],r[i]);return s?[s.rangeMin,s.rangeMax,s.precision]:[]}function a_(r){var e=Object.keys(r.__proto__);return e.filter(zw)}function zw(r){return typeof r=="string"&&!r.match(/[^A-Z0-9_x]/)}function iE(){return W0()}function Pw(){return go()||kn()}function rE(r){return typeof r.getParameter=="function"}function kw(){var r,e=pm()||kn();return e?window.AudioContext&&(r=new AudioContext().baseLatency)!==null&&r!==void 0?r:-1:-2}function Bw(){if(!window.Intl)return-1;var r=window.Intl.DateTimeFormat;if(!r)return-2;var e=r().resolvedOptions().locale;return!e&&e!==""?-3:e}var Hw={fonts:bR,domBlockers:sw,fontPreferences:Tw,audio:dR,screenFrame:YR,canvas:wR,osCpu:UR,languages:zR,colorDepth:PR,deviceMemory:kR,screenResolution:BR,hardwareConcurrency:QR,timezone:XR,sessionStorage:ZR,localStorage:WR,indexedDB:JR,openDatabase:$R,cpuClass:tw,platform:ew,plugins:RR,touchSupport:LR,vendor:nw,vendorFlavors:iw,cookiesEnabled:rw,colorGamut:cw,invertedColors:fw,forcedColors:hw,monochrome:mw,contrast:gw,reducedMotion:pw,reducedTransparency:yw,hdr:vw,math:_w,pdfViewerEnabled:Sw,architecture:bw,applePay:Rw,privateClickMeasurement:Dw,audioBaseLatency:kw,dateTimeLocale:Bw,webGlBasics:xw,webGlExtensions:Lw};function qw(r){return rR(Hw,r,[])}var jw="$ if upgrade to Pro: https://fpjs.dev/pro";function Gw(r){var e=Fw(r),i=Yw(e);return{score:e,comment:jw.replace(/\$/g,"".concat(i))}}function Fw(r){if(pm())return .4;if(kn())return gm()&&!(yo()&&po())?.5:.3;var e="value"in r.platform?r.platform.value:"";return/^Win/.test(e)?.6:/^Mac/.test(e)?.5:.7}function Yw(r){return K0(.99+.01*r,1e-4)}function Qw(r){for(var e="",i=0,s=Object.keys(r).sort();i<s.length;i++){var o=s[i],c=r[o],d="error"in c?"error":JSON.stringify(c.value);e+="".concat(e?"|":"").concat(o.replace(/([:|\\])/g,"\\$1"),":").concat(d)}return e}function aE(r){return JSON.stringify(r,function(e,i){return i instanceof Error?tR(i):i},2)}function sE(r){return $2(Qw(r))}function Xw(r){var e,i=Gw(r);return{get visitorId(){return e===void 0&&(e=sE(this.components)),e},set visitorId(s){e=s},confidence:i,components:r,version:Q0}}function Kw(r){return r===void 0&&(r=50),G2(r,r*2)}function Zw(r,e){var i=Date.now();return{get:function(s){return oi(this,void 0,void 0,function(){var o,c,d;return ui(this,function(g){switch(g.label){case 0:return o=Date.now(),[4,r()];case 1:return c=g.sent(),d=Xw(c),(e||s!=null&&s.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(d.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(o-i,`
visitorId: `).concat(d.visitorId,`
components: `).concat(aE(c),"\n```")),[2,d]}})})}}}function Ww(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var r=new XMLHttpRequest;r.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(Q0,"/npm-monitoring"),!0),r.send()}catch(e){console.error(e)}}function Jw(r){var e;return r===void 0&&(r={}),oi(this,void 0,void 0,function(){var i,s,o;return ui(this,function(c){switch(c.label){case 0:return(!((e=r.monitoring)!==null&&e!==void 0)||e)&&Ww(),i=r.delayFallback,s=r.debug,[4,Kw(i)];case 1:return c.sent(),o=qw({cache:{},debug:s}),[2,Zw(o,s)]}})})}var $w={load:Jw,hashComponents:sE,componentsToDebugString:aE};const tC=async()=>(await(await $w.load()).get()).visitorId,eC=async()=>(await(await fetch("https://api.ipify.org?format=json")).json()).ip,nC=()=>{var r;try{if(navigator.userAgentData){const e=(r=navigator.userAgentData.brands)==null?void 0:r.map(s=>`${s.brand}/${s.version}`).join(", "),i=navigator.userAgentData.platform||"Unknown Platform";if(e)return`${e} - ${i}`}return navigator.userAgent||"Unknown"}catch(e){return console.warn("Error detectando device info:",e),"Unknown"}},iC=async()=>{const r=await tC(),e=await eC(),i=nC();console.log("Fingerprint:",r),console.log("IP pública:",e),console.log("Device info:",i);const s=qv(nd,"claims"),o=$h(s,td("fingerprint","==",r)),c=$h(s,td("ip","==",e)),[d,g]=await Promise.all([ed(o),ed(c)]);if(!d.empty||!g.empty){const Y=d.empty?g.docs[0]:d.docs[0];return console.log("Usuario ya tiene código:",Y.data().code),{code:Y.data().code,alreadyClaimed:!0}}const y=qv(nd,"discountCodes"),E=$h(y,td("claimed","==",!1)),S=await ed(E);if(S.empty)return{error:"No hay más códigos disponibles."};const D=S.docs[0],B=D.data();return await z2(U0(nd,"discountCodes",D.id),{claimed:!0}),await P2(s,{fingerprint:r,ip:e,deviceInfo:i,code:B.code,claimedAt:new Date}),console.log("Código asignado:",B.code),{code:B.code,alreadyClaimed:!1}};function rC(){const[r,e]=Zu.useState(null),[i,s]=Zu.useState("Cargando...");return Zu.useEffect(()=>{(async()=>{const c=await iC();c.error?s(c.error):(e(c.code),s(c.alreadyClaimed?"Ya reclamaste tu código:":"¡Aquí está tu código de descuento!"))})()},[]),Xl.jsxs("div",{style:{padding:40,textAlign:"center",fontFamily:"sans-serif"},children:[Xl.jsx("h1",{children:i}),r&&Xl.jsx("h2",{style:{color:"green",fontSize:"2rem"},children:r})]})}BT.createRoot(document.getElementById("root")).render(Xl.jsx(Zu.StrictMode,{children:Xl.jsx(rC,{})}));
