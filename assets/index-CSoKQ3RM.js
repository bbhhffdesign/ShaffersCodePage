(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var jh={exports:{}},Yo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dy;function OT(){if(Dy)return Yo;Dy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return Yo.Fragment=e,Yo.jsx=i,Yo.jsxs=i,Yo}var Vy;function xT(){return Vy||(Vy=1,jh.exports=OT()),jh.exports}var Mt=xT(),qh={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function LT(){if(Iy)return St;Iy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),S=Symbol.iterator;function D(V){return V===null||typeof V!="object"?null:(V=S&&V[S]||V["@@iterator"],typeof V=="function"?V:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Y=Object.assign,J={};function K(V,W,rt){this.props=V,this.context=W,this.refs=J,this.updater=rt||k}K.prototype.isReactComponent={},K.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},K.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function et(){}et.prototype=K.prototype;function it(V,W,rt){this.props=V,this.context=W,this.refs=J,this.updater=rt||k}var at=it.prototype=new et;at.constructor=it,Y(at,K.prototype),at.isPureReactComponent=!0;var At=Array.isArray,ct={H:null,A:null,T:null,S:null,V:null},vt=Object.prototype.hasOwnProperty;function O(V,W,rt,$,dt,Rt){return rt=Rt.ref,{$$typeof:r,type:V,key:W,ref:rt!==void 0?rt:null,props:Rt}}function b(V,W){return O(V.type,W,void 0,void 0,void 0,V.props)}function R(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function I(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(rt){return W[rt]})}var M=/\/+/g;function L(V,W){return typeof V=="object"&&V!==null&&V.key!=null?I(""+V.key):W.toString(36)}function C(){}function Ee(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(C,C):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function se(V,W,rt,$,dt){var Rt=typeof V;(Rt==="undefined"||Rt==="boolean")&&(V=null);var _t=!1;if(V===null)_t=!0;else switch(Rt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(V.$$typeof){case r:case e:_t=!0;break;case E:return _t=V._init,se(_t(V._payload),W,rt,$,dt)}}if(_t)return dt=dt(V),_t=$===""?"."+L(V,0):$,At(dt)?(rt="",_t!=null&&(rt=_t.replace(M,"$&/")+"/"),se(dt,W,rt,"",function(jn){return jn})):dt!=null&&(R(dt)&&(dt=b(dt,rt+(dt.key==null||V&&V.key===dt.key?"":(""+dt.key).replace(M,"$&/")+"/")+_t)),W.push(dt)),1;_t=0;var De=$===""?".":$+":";if(At(V))for(var Wt=0;Wt<V.length;Wt++)$=V[Wt],Rt=De+L($,Wt),_t+=se($,W,rt,Rt,dt);else if(Wt=D(V),typeof Wt=="function")for(V=Wt.call(V),Wt=0;!($=V.next()).done;)$=$.value,Rt=De+L($,Wt++),_t+=se($,W,rt,Rt,dt);else if(Rt==="object"){if(typeof V.then=="function")return se(Ee(V),W,rt,$,dt);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return _t}function q(V,W,rt){if(V==null)return V;var $=[],dt=0;return se(V,$,"","",function(Rt){return W.call(rt,Rt,dt++)}),$}function nt(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(rt){(V._status===0||V._status===-1)&&(V._status=1,V._result=rt)},function(rt){(V._status===0||V._status===-1)&&(V._status=2,V._result=rt)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var ft=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)};function zt(){}return St.Children={map:q,forEach:function(V,W,rt){q(V,function(){W.apply(this,arguments)},rt)},count:function(V){var W=0;return q(V,function(){W++}),W},toArray:function(V){return q(V,function(W){return W})||[]},only:function(V){if(!R(V))throw Error("React.Children.only expected to receive a single React element child.");return V}},St.Component=K,St.Fragment=i,St.Profiler=l,St.PureComponent=it,St.StrictMode=s,St.Suspense=p,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ct,St.__COMPILER_RUNTIME={__proto__:null,c:function(V){return ct.H.useMemoCache(V)}},St.cache=function(V){return function(){return V.apply(null,arguments)}},St.cloneElement=function(V,W,rt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var $=Y({},V.props),dt=V.key,Rt=void 0;if(W!=null)for(_t in W.ref!==void 0&&(Rt=void 0),W.key!==void 0&&(dt=""+W.key),W)!vt.call(W,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&W.ref===void 0||($[_t]=W[_t]);var _t=arguments.length-2;if(_t===1)$.children=rt;else if(1<_t){for(var De=Array(_t),Wt=0;Wt<_t;Wt++)De[Wt]=arguments[Wt+2];$.children=De}return O(V.type,dt,void 0,void 0,Rt,$)},St.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},St.createElement=function(V,W,rt){var $,dt={},Rt=null;if(W!=null)for($ in W.key!==void 0&&(Rt=""+W.key),W)vt.call(W,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(dt[$]=W[$]);var _t=arguments.length-2;if(_t===1)dt.children=rt;else if(1<_t){for(var De=Array(_t),Wt=0;Wt<_t;Wt++)De[Wt]=arguments[Wt+2];dt.children=De}if(V&&V.defaultProps)for($ in _t=V.defaultProps,_t)dt[$]===void 0&&(dt[$]=_t[$]);return O(V,Rt,void 0,void 0,null,dt)},St.createRef=function(){return{current:null}},St.forwardRef=function(V){return{$$typeof:g,render:V}},St.isValidElement=R,St.lazy=function(V){return{$$typeof:E,_payload:{_status:-1,_result:V},_init:nt}},St.memo=function(V,W){return{$$typeof:y,type:V,compare:W===void 0?null:W}},St.startTransition=function(V){var W=ct.T,rt={};ct.T=rt;try{var $=V(),dt=ct.S;dt!==null&&dt(rt,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(zt,ft)}catch(Rt){ft(Rt)}finally{ct.T=W}},St.unstable_useCacheRefresh=function(){return ct.H.useCacheRefresh()},St.use=function(V){return ct.H.use(V)},St.useActionState=function(V,W,rt){return ct.H.useActionState(V,W,rt)},St.useCallback=function(V,W){return ct.H.useCallback(V,W)},St.useContext=function(V){return ct.H.useContext(V)},St.useDebugValue=function(){},St.useDeferredValue=function(V,W){return ct.H.useDeferredValue(V,W)},St.useEffect=function(V,W,rt){var $=ct.H;if(typeof rt=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(V,W)},St.useId=function(){return ct.H.useId()},St.useImperativeHandle=function(V,W,rt){return ct.H.useImperativeHandle(V,W,rt)},St.useInsertionEffect=function(V,W){return ct.H.useInsertionEffect(V,W)},St.useLayoutEffect=function(V,W){return ct.H.useLayoutEffect(V,W)},St.useMemo=function(V,W){return ct.H.useMemo(V,W)},St.useOptimistic=function(V,W){return ct.H.useOptimistic(V,W)},St.useReducer=function(V,W,rt){return ct.H.useReducer(V,W,rt)},St.useRef=function(V){return ct.H.useRef(V)},St.useState=function(V){return ct.H.useState(V)},St.useSyncExternalStore=function(V,W,rt){return ct.H.useSyncExternalStore(V,W,rt)},St.useTransition=function(){return ct.H.useTransition()},St.version="19.1.0",St}var My;function Od(){return My||(My=1,qh.exports=LT()),qh.exports}var ie=Od(),Gh={exports:{}},Qo={},Fh={exports:{}},Yh={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function UT(){return Ny||(Ny=1,function(r){function e(q,nt){var ft=q.length;q.push(nt);t:for(;0<ft;){var zt=ft-1>>>1,V=q[zt];if(0<l(V,nt))q[zt]=nt,q[ft]=V,ft=zt;else break t}}function i(q){return q.length===0?null:q[0]}function s(q){if(q.length===0)return null;var nt=q[0],ft=q.pop();if(ft!==nt){q[0]=ft;t:for(var zt=0,V=q.length,W=V>>>1;zt<W;){var rt=2*(zt+1)-1,$=q[rt],dt=rt+1,Rt=q[dt];if(0>l($,ft))dt<V&&0>l(Rt,$)?(q[zt]=Rt,q[dt]=ft,zt=dt):(q[zt]=$,q[rt]=ft,zt=rt);else if(dt<V&&0>l(Rt,ft))q[zt]=Rt,q[dt]=ft,zt=dt;else break t}}return nt}function l(q,nt){var ft=q.sortIndex-nt.sortIndex;return ft!==0?ft:q.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var p=[],y=[],E=1,S=null,D=3,k=!1,Y=!1,J=!1,K=!1,et=typeof setTimeout=="function"?setTimeout:null,it=typeof clearTimeout=="function"?clearTimeout:null,at=typeof setImmediate<"u"?setImmediate:null;function At(q){for(var nt=i(y);nt!==null;){if(nt.callback===null)s(y);else if(nt.startTime<=q)s(y),nt.sortIndex=nt.expirationTime,e(p,nt);else break;nt=i(y)}}function ct(q){if(J=!1,At(q),!Y)if(i(p)!==null)Y=!0,vt||(vt=!0,L());else{var nt=i(y);nt!==null&&se(ct,nt.startTime-q)}}var vt=!1,O=-1,b=5,R=-1;function I(){return K?!0:!(r.unstable_now()-R<b)}function M(){if(K=!1,vt){var q=r.unstable_now();R=q;var nt=!0;try{t:{Y=!1,J&&(J=!1,it(O),O=-1),k=!0;var ft=D;try{e:{for(At(q),S=i(p);S!==null&&!(S.expirationTime>q&&I());){var zt=S.callback;if(typeof zt=="function"){S.callback=null,D=S.priorityLevel;var V=zt(S.expirationTime<=q);if(q=r.unstable_now(),typeof V=="function"){S.callback=V,At(q),nt=!0;break e}S===i(p)&&s(p),At(q)}else s(p);S=i(p)}if(S!==null)nt=!0;else{var W=i(y);W!==null&&se(ct,W.startTime-q),nt=!1}}break t}finally{S=null,D=ft,k=!1}nt=void 0}}finally{nt?L():vt=!1}}}var L;if(typeof at=="function")L=function(){at(M)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,Ee=C.port2;C.port1.onmessage=M,L=function(){Ee.postMessage(null)}}else L=function(){et(M,0)};function se(q,nt){O=et(function(){q(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(q){switch(D){case 1:case 2:case 3:var nt=3;break;default:nt=D}var ft=D;D=nt;try{return q()}finally{D=ft}},r.unstable_requestPaint=function(){K=!0},r.unstable_runWithPriority=function(q,nt){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var ft=D;D=q;try{return nt()}finally{D=ft}},r.unstable_scheduleCallback=function(q,nt,ft){var zt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?zt+ft:zt):ft=zt,q){case 1:var V=-1;break;case 2:V=250;break;case 5:V=1073741823;break;case 4:V=1e4;break;default:V=5e3}return V=ft+V,q={id:E++,callback:nt,priorityLevel:q,startTime:ft,expirationTime:V,sortIndex:-1},ft>zt?(q.sortIndex=ft,e(y,q),i(p)===null&&q===i(y)&&(J?(it(O),O=-1):J=!0,se(ct,ft-zt))):(q.sortIndex=V,e(p,q),Y||k||(Y=!0,vt||(vt=!0,L()))),q},r.unstable_shouldYield=I,r.unstable_wrapCallback=function(q){var nt=D;return function(){var ft=D;D=nt;try{return q.apply(this,arguments)}finally{D=ft}}}}(Yh)),Yh}var Oy;function PT(){return Oy||(Oy=1,Fh.exports=UT()),Fh.exports}var Qh={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function zT(){if(xy)return Fe;xy=1;var r=Od();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(p,y,E){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:p,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(p,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,E)},Fe.flushSync=function(p){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,p)return p()}finally{d.T=y,s.p=E,s.d.f()}},Fe.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Fe.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Fe.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:k}):E==="script"&&s.d.X(p,{crossOrigin:S,integrity:D,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Fe.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=g(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Fe.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,S=g(E,y.crossOrigin);s.d.L(p,E,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Fe.preloadModule=function(p,y){if(typeof p=="string")if(y){var E=g(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Fe.requestFormReset=function(p){s.d.r(p)},Fe.unstable_batchedUpdates=function(p,y){return p(y)},Fe.useFormState=function(p,y,E){return d.H.useFormState(p,y,E)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.0",Fe}var Ly;function kT(){if(Ly)return Qh.exports;Ly=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qh.exports=zT(),Qh.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uy;function BT(){if(Uy)return Qo;Uy=1;var r=PT(),e=Od(),i=kT();function s(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var n=t,a=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(a=n.return),t=n.return;while(t)}return n.tag===3?a:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(c(t)!==t)throw Error(s(188))}function p(t){var n=t.alternate;if(!n){if(n=c(t),n===null)throw Error(s(188));return n!==t?null:t}for(var a=t,o=n;;){var f=a.return;if(f===null)break;var h=f.alternate;if(h===null){if(o=f.return,o!==null){a=o;continue}break}if(f.child===h.child){for(h=f.child;h;){if(h===a)return g(f),t;if(h===o)return g(f),n;h=h.sibling}throw Error(s(188))}if(a.return!==o.return)a=f,o=h;else{for(var _=!1,T=f.child;T;){if(T===a){_=!0,a=f,o=h;break}if(T===o){_=!0,o=f,a=h;break}T=T.sibling}if(!_){for(T=h.child;T;){if(T===a){_=!0,a=h,o=f;break}if(T===o){_=!0,o=h,a=f;break}T=T.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var E=Object.assign,S=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),Y=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),it=Symbol.for("react.consumer"),at=Symbol.for("react.context"),At=Symbol.for("react.forward_ref"),ct=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=M&&t[M]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function Ee(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Y:return"Fragment";case K:return"Profiler";case J:return"StrictMode";case ct:return"Suspense";case vt:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case at:return(t.displayName||"Context")+".Provider";case it:return(t._context.displayName||"Context")+".Consumer";case At:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case O:return n=t.displayName||null,n!==null?n:Ee(t.type)||"Memo";case b:n=t._payload,t=t._init;try{return Ee(t(n))}catch{}}return null}var se=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},zt=[],V=-1;function W(t){return{current:t}}function rt(t){0>V||(t.current=zt[V],zt[V]=null,V--)}function $(t,n){V++,zt[V]=t.current,t.current=n}var dt=W(null),Rt=W(null),_t=W(null),De=W(null);function Wt(t,n){switch($(_t,n),$(Rt,t),$(dt,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?ny(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=ny(n),t=iy(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}rt(dt),$(dt,t)}function jn(){rt(dt),rt(Rt),rt(_t)}function qi(t){t.memoizedState!==null&&$(De,t);var n=dt.current,a=iy(n,t.type);n!==a&&($(Rt,t),$(dt,a))}function hi(t){Rt.current===t&&(rt(dt),rt(Rt)),De.current===t&&(rt(De),Ho._currentValue=ft)}var Or=Object.prototype.hasOwnProperty,xr=r.unstable_scheduleCallback,Lr=r.unstable_cancelCallback,Ps=r.unstable_shouldYield,_l=r.unstable_requestPaint,_n=r.unstable_now,Hc=r.unstable_getCurrentPriorityLevel,zs=r.unstable_ImmediatePriority,Aa=r.unstable_UserBlockingPriority,Ur=r.unstable_NormalPriority,jc=r.unstable_LowPriority,Sa=r.unstable_IdlePriority,ks=r.log,El=r.unstable_setDisableYieldValue,oe=null,qt=null;function on(t){if(typeof ks=="function"&&El(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(oe,t)}catch{}}var qe=Math.clz32?Math.clz32:Pr,Tl=Math.log,qc=Math.LN2;function Pr(t){return t>>>=0,t===0?32:31-(Tl(t)/qc|0)|0}var zr=256,kr=4194304;function On(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ba(t,n,a){var o=t.pendingLanes;if(o===0)return 0;var f=0,h=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var T=o&134217727;return T!==0?(o=T&~h,o!==0?f=On(o):(_&=T,_!==0?f=On(_):a||(a=T&~t,a!==0&&(f=On(a))))):(T=o&~h,T!==0?f=On(T):_!==0?f=On(_):a||(a=o&~t,a!==0&&(f=On(a)))),f===0?0:n!==0&&n!==f&&(n&h)===0&&(h=f&-f,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:f}function Br(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Bs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(){var t=zr;return zr<<=1,(zr&4194048)===0&&(zr=256),t}function js(){var t=kr;return kr<<=1,(kr&62914560)===0&&(kr=4194304),t}function di(t){for(var n=[],a=0;31>a;a++)n.push(t);return n}function mi(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qs(t,n,a,o,f,h){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,w=t.expirationTimes,z=t.hiddenUpdates;for(a=_&~a;0<a;){var G=31-qe(a),Q=1<<G;T[G]=0,w[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}a&=~Q}o!==0&&qn(t,o,0),h!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=h&~(_&~n))}function qn(t,n,a){t.pendingLanes|=n,t.suspendedLanes&=~n;var o=31-qe(n);t.entangledLanes|=n,t.entanglements[o]=t.entanglements[o]|1073741824|a&4194090}function Gs(t,n){var a=t.entangledLanes|=n;for(t=t.entanglements;a;){var o=31-qe(a),f=1<<o;f&n|t[o]&n&&(t[o]|=n),a&=~f}}function Gi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function wa(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Fi(){var t=nt.p;return t!==0?t:(t=window.event,t===void 0?32:Ay(t.type))}function Al(t,n){var a=nt.p;try{return nt.p=t,n()}finally{nt.p=a}}var te=Math.random().toString(36).slice(2),Te="__reactFiber$"+te,me="__reactProps$"+te,En="__reactContainer$"+te,Fs="__reactEvents$"+te,Gc="__reactListeners$"+te,Yi="__reactHandles$"+te,Sl="__reactResources$"+te,Hr="__reactMarker$"+te;function Qi(t){delete t[Te],delete t[me],delete t[Fs],delete t[Gc],delete t[Yi]}function gi(t){var n=t[Te];if(n)return n;for(var a=t.parentNode;a;){if(n=a[En]||a[Te]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(t=oy(t);t!==null;){if(a=t[Te])return a;t=oy(t)}return n}t=a,a=t.parentNode}return null}function Gn(t){if(t=t[Te]||t[En]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Fn(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(s(33))}function Ke(t){var n=t[Sl];return n||(n=t[Sl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ce(t){t[Hr]=!0}var Ys=new Set,Ra={};function xn(t,n){pi(t,n),pi(t+"Capture",n)}function pi(t,n){for(Ra[t]=n,t=0;t<n.length;t++)Ys.add(n[t])}var bl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wl={},jr={};function Rl(t){return Or.call(jr,t)?!0:Or.call(wl,t)?!1:bl.test(t)?jr[t]=!0:(wl[t]=!0,!1)}function Xi(t,n,a){if(Rl(n))if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+a)}}function Yn(t,n,a){if(a===null)t.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+a)}}function Le(t,n,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(n,a,""+o)}}var qr,Cl;function yi(t){if(qr===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);qr=n&&n[1]||"",Cl=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qr+t+Cl}var Ca=!1;function Da(t,n){if(!t||Ca)return"";Ca=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(H){var B=H}Reflect.construct(t,[],Q)}else{try{Q.call()}catch(H){B=H}t.call(Q.prototype)}}else{try{throw Error()}catch(H){B=H}(Q=t())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=o.DetermineComponentFrameRoot(),_=h[0],T=h[1];if(_&&T){var w=_.split(`
`),z=T.split(`
`);for(f=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(o===w.length||f===z.length)for(o=w.length-1,f=z.length-1;1<=o&&0<=f&&w[o]!==z[f];)f--;for(;1<=o&&0<=f;o--,f--)if(w[o]!==z[f]){if(o!==1||f!==1)do if(o--,f--,0>f||w[o]!==z[f]){var G=`
`+w[o].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=o&&0<=f);break}}}finally{Ca=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?yi(a):""}function Qs(t){switch(t.tag){case 26:case 27:case 5:return yi(t.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 15:return Da(t.type,!1);case 11:return Da(t.type.render,!1);case 1:return Da(t.type,!0);case 31:return yi("Activity");default:return""}}function Va(t){try{var n="";do n+=Qs(t),t=t.return;while(t);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ze(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Xs(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Fc(t){var n=Xs(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),o=""+t[n];if(!t.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,h=a.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,h.call(this,_)}}),Object.defineProperty(t,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Ia(t){t._valueTracker||(t._valueTracker=Fc(t))}function Ks(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return t&&(o=Xs(t)?t.checked?"true":"false":t.value),t=o,t!==a?(n.setValue(t),!0):!1}function Gr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Yc=/[\n"\\]/g;function ge(t){return t.replace(Yc,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ln(t,n,a,o,f,h,_,T){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),n!=null?_==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ze(n)):t.value!==""+Ze(n)&&(t.value=""+Ze(n)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),n!=null?Ki(t,_,Ze(n)):a!=null?Ki(t,_,Ze(a)):o!=null&&t.removeAttribute("value"),f==null&&h!=null&&(t.defaultChecked=!!h),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Ze(T):t.removeAttribute("name")}function Fr(t,n,a,o,f,h,_,T){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(t.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null))return;a=a!=null?""+Ze(a):"",n=n!=null?""+Ze(n):a,T||n===t.value||(t.value=n),t.defaultValue=n}o=o??f,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=T?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Ki(t,n,a){n==="number"&&Gr(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function vi(t,n,a,o){if(t=t.options,n){n={};for(var f=0;f<a.length;f++)n["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=n.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Ze(a),n=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,o&&(t[f].defaultSelected=!0);return}n!==null||t[f].disabled||(n=t[f])}n!==null&&(n.selected=!0)}}function Yt(t,n,a){if(n!=null&&(n=""+Ze(n),n!==t.value&&(t.value=n),a==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=a!=null?""+Ze(a):""}function Yr(t,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(se(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Ze(n),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o)}function Tn(t,n){if(n){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=n;return}}t.textContent=n}var Qr=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(t,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":o?t.setProperty(n,a):typeof a!="number"||a===0||Qr.has(n)?n==="float"?t.cssFloat=a:t[n]=(""+a).trim():t[n]=a+"px"}function Zs(t,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var f in n)o=n[f],n.hasOwnProperty(f)&&a[f]!==o&&Dl(t,f,o)}else for(var h in n)n.hasOwnProperty(h)&&Dl(t,h,n[h])}function Ws(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ma(t){return Xc.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var _i=null;function An(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ei=null,Ti=null;function Js(t){var n=Gn(t);if(n&&(t=n.stateNode)){var a=t[me]||null;t:switch(t=n.stateNode,n.type){case"input":if(ln(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ge(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==t&&o.form===t.form){var f=o[me]||null;if(!f)throw Error(s(90));ln(o,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===t.form&&Ks(o)}break t;case"textarea":Yt(t,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&vi(t,!!a.multiple,n,!1)}}}var Qn=!1;function Vl(t,n,a){if(Qn)return t(n,a);Qn=!0;try{var o=t(n);return o}finally{if(Qn=!1,(Ei!==null||Ti!==null)&&(Au(),Ei&&(n=Ei,t=Ti,Ti=Ei=null,Js(n),t)))for(n=0;n<t.length;n++)Js(t[n])}}function Xr(t,n){var a=t.stateNode;if(a===null)return null;var o=a[me]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break t;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sn=!1;if(Ln)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){Sn=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{Sn=!1}var Xn=null,Zi=null,Ai=null;function $s(){if(Ai)return Ai;var t,n=Zi,a=n.length,o,f="value"in Xn?Xn.value:Xn.textContent,h=f.length;for(t=0;t<a&&n[t]===f[t];t++);var _=a-t;for(o=1;o<=_&&n[a-o]===f[h-o];o++);return Ai=f.slice(t,1<o?1-o:void 0)}function Kn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function Zn(){return!0}function to(){return!1}function Ve(t){function n(a,o,f,h,_){this._reactName=a,this._targetInst=f,this.type=o,this.nativeEvent=h,this.target=_,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(h):h[T]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Zn:to,this.isPropagationStopped=to,this}return E(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=Ve(Bt),Zr=E({},Bt,{view:0,detail:0}),Il=Ve(Zr),Oa,xa,Wn,Wr=E({},Zr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wn&&(Wn&&t.type==="mousemove"?(Oa=t.screenX-Wn.screenX,xa=t.screenY-Wn.screenY):xa=Oa=0,Wn=t),Oa)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),bn=Ve(Wr),Ml=E({},Wr,{dataTransfer:0}),Kc=Ve(Ml),Jr=E({},Zr,{relatedTarget:0}),La=Ve(Jr),eo=E({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ua=Ve(eo),Nl=E({},Bt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pa=Ve(Nl),Zc=E({},Bt,{data:0}),no=Ve(Zc),$r={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ol={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function io(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=xl[t])?!!n[t]:!1}function ta(){return io}var Ll=E({},Zr,{key:function(t){if(t.key){var n=$r[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=Kn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ol[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?Kn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),za=Ve(Ll),Ul=E({},Wr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ro=Ve(Ul),Si=E({},Zr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Pl=Ve(Si),zl=E({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),kl=Ve(zl),Bl=E({},Wr,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=Ve(Bl),We=E({},Bt,{newState:0,oldState:0}),Hl=Ve(We),jl=[9,13,27,32],Jn=Ln&&"CompositionEvent"in window,u=null;Ln&&"documentMode"in document&&(u=document.documentMode);var m=Ln&&"TextEvent"in window&&!u,v=Ln&&(!Jn||u&&8<u&&11>=u),A=" ",U=!1;function j(t,n){switch(t){case"keyup":return jl.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tt(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Nt=!1;function Ae(t,n){switch(t){case"compositionend":return tt(n);case"keypress":return n.which!==32?null:(U=!0,A);case"textInput":return t=n.data,t===A&&U?null:t;default:return null}}function Ot(t,n){if(Nt)return t==="compositionend"||!Jn&&j(t,n)?(t=$s(),Ai=Zi=Xn=null,Nt=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return v&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Se(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!Ie[t.type]:n==="textarea"}function bi(t,n,a,o){Ei?Ti?Ti.push(o):Ti=[o]:Ei=o,n=Du(n,"onChange"),0<n.length&&(a=new Na("onChange","change",null,a,o),t.push({event:a,listeners:n}))}var Ue=null,$n=null;function ao(t){Wp(t,0)}function ql(t){var n=Fn(t);if(Ks(n))return t}function vm(t,n){if(t==="change")return n}var _m=!1;if(Ln){var Wc;if(Ln){var Jc="oninput"in document;if(!Jc){var Em=document.createElement("div");Em.setAttribute("oninput","return;"),Jc=typeof Em.oninput=="function"}Wc=Jc}else Wc=!1;_m=Wc&&(!document.documentMode||9<document.documentMode)}function Tm(){Ue&&(Ue.detachEvent("onpropertychange",Am),$n=Ue=null)}function Am(t){if(t.propertyName==="value"&&ql($n)){var n=[];bi(n,$n,t,An(t)),Vl(ao,n)}}function uE(t,n,a){t==="focusin"?(Tm(),Ue=n,$n=a,Ue.attachEvent("onpropertychange",Am)):t==="focusout"&&Tm()}function cE(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ql($n)}function fE(t,n){if(t==="click")return ql(n)}function hE(t,n){if(t==="input"||t==="change")return ql(n)}function dE(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var un=typeof Object.is=="function"?Object.is:dE;function so(t,n){if(un(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var a=Object.keys(t),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var f=a[o];if(!Or.call(n,f)||!un(t[f],n[f]))return!1}return!0}function Sm(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function bm(t,n){var a=Sm(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=n&&o>=n)return{node:a,offset:n-t};t=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Sm(a)}}function wm(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?wm(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Rm(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Gr(t.document);n instanceof t.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)t=n.contentWindow;else break;n=Gr(t.document)}return n}function $c(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var mE=Ln&&"documentMode"in document&&11>=document.documentMode,Ba=null,tf=null,oo=null,ef=!1;function Cm(t,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||Ba==null||Ba!==Gr(o)||(o=Ba,"selectionStart"in o&&$c(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),oo&&so(oo,o)||(oo=o,o=Du(tf,"onSelect"),0<o.length&&(n=new Na("onSelect","select",null,n,a),t.push({event:n,listeners:o}),n.target=Ba)))}function ea(t,n){var a={};return a[t.toLowerCase()]=n.toLowerCase(),a["Webkit"+t]="webkit"+n,a["Moz"+t]="moz"+n,a}var Ha={animationend:ea("Animation","AnimationEnd"),animationiteration:ea("Animation","AnimationIteration"),animationstart:ea("Animation","AnimationStart"),transitionrun:ea("Transition","TransitionRun"),transitionstart:ea("Transition","TransitionStart"),transitioncancel:ea("Transition","TransitionCancel"),transitionend:ea("Transition","TransitionEnd")},nf={},Dm={};Ln&&(Dm=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function na(t){if(nf[t])return nf[t];if(!Ha[t])return t;var n=Ha[t],a;for(a in n)if(n.hasOwnProperty(a)&&a in Dm)return nf[t]=n[a];return t}var Vm=na("animationend"),Im=na("animationiteration"),Mm=na("animationstart"),gE=na("transitionrun"),pE=na("transitionstart"),yE=na("transitioncancel"),Nm=na("transitionend"),Om=new Map,rf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");rf.push("scrollEnd");function Un(t,n){Om.set(t,n),xn(n,[t])}var xm=new WeakMap;function wn(t,n){if(typeof t=="object"&&t!==null){var a=xm.get(t);return a!==void 0?a:(n={value:t,source:n,stack:Va(n)},xm.set(t,n),n)}return{value:t,source:n,stack:Va(n)}}var Rn=[],ja=0,af=0;function Gl(){for(var t=ja,n=af=ja=0;n<t;){var a=Rn[n];Rn[n++]=null;var o=Rn[n];Rn[n++]=null;var f=Rn[n];Rn[n++]=null;var h=Rn[n];if(Rn[n++]=null,o!==null&&f!==null){var _=o.pending;_===null?f.next=f:(f.next=_.next,_.next=f),o.pending=f}h!==0&&Lm(a,f,h)}}function Fl(t,n,a,o){Rn[ja++]=t,Rn[ja++]=n,Rn[ja++]=a,Rn[ja++]=o,af|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function sf(t,n,a,o){return Fl(t,n,a,o),Yl(t)}function qa(t,n){return Fl(t,null,null,n),Yl(t)}function Lm(t,n,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var f=!1,h=t.return;h!==null;)h.childLanes|=a,o=h.alternate,o!==null&&(o.childLanes|=a),h.tag===22&&(t=h.stateNode,t===null||t._visibility&1||(f=!0)),t=h,h=h.return;return t.tag===3?(h=t.stateNode,f&&n!==null&&(f=31-qe(a),t=h.hiddenUpdates,o=t[f],o===null?t[f]=[n]:o.push(n),n.lane=a|536870912),h):null}function Yl(t){if(50<Oo)throw Oo=0,hh=null,Error(s(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ga={};function vE(t,n,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,n,a,o){return new vE(t,n,a,o)}function of(t){return t=t.prototype,!(!t||!t.isReactComponent)}function wi(t,n){var a=t.alternate;return a===null?(a=cn(t.tag,n,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=n,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,n=t.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Um(t,n){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,n=a.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Ql(t,n,a,o,f,h){var _=0;if(o=t,typeof t=="function")of(t)&&(_=1);else if(typeof t=="string")_=ET(t,a,dt.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case R:return t=cn(31,a,n,f),t.elementType=R,t.lanes=h,t;case Y:return ia(a.children,f,h,n);case J:_=8,f|=24;break;case K:return t=cn(12,a,n,f|2),t.elementType=K,t.lanes=h,t;case ct:return t=cn(13,a,n,f),t.elementType=ct,t.lanes=h,t;case vt:return t=cn(19,a,n,f),t.elementType=vt,t.lanes=h,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case et:case at:_=10;break t;case it:_=9;break t;case At:_=11;break t;case O:_=14;break t;case b:_=16,o=null;break t}_=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return n=cn(_,a,n,f),n.elementType=t,n.type=o,n.lanes=h,n}function ia(t,n,a,o){return t=cn(7,t,o,n),t.lanes=a,t}function lf(t,n,a){return t=cn(6,t,null,n),t.lanes=a,t}function uf(t,n,a){return n=cn(4,t.children!==null?t.children:[],t.key,n),n.lanes=a,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Fa=[],Ya=0,Xl=null,Kl=0,Cn=[],Dn=0,ra=null,Ri=1,Ci="";function aa(t,n){Fa[Ya++]=Kl,Fa[Ya++]=Xl,Xl=t,Kl=n}function Pm(t,n,a){Cn[Dn++]=Ri,Cn[Dn++]=Ci,Cn[Dn++]=ra,ra=t;var o=Ri;t=Ci;var f=32-qe(o)-1;o&=~(1<<f),a+=1;var h=32-qe(n)+f;if(30<h){var _=f-f%5;h=(o&(1<<_)-1).toString(32),o>>=_,f-=_,Ri=1<<32-qe(n)+f|a<<f|o,Ci=h+t}else Ri=1<<h|a<<f|o,Ci=t}function cf(t){t.return!==null&&(aa(t,1),Pm(t,1,0))}function ff(t){for(;t===Xl;)Xl=Fa[--Ya],Fa[Ya]=null,Kl=Fa[--Ya],Fa[Ya]=null;for(;t===ra;)ra=Cn[--Dn],Cn[Dn]=null,Ci=Cn[--Dn],Cn[Dn]=null,Ri=Cn[--Dn],Cn[Dn]=null}var Je=null,le=null,kt=!1,sa=null,ti=!1,hf=Error(s(519));function oa(t){var n=Error(s(418,""));throw co(wn(n,t)),hf}function zm(t){var n=t.stateNode,a=t.type,o=t.memoizedProps;switch(n[Te]=t,n[me]=o,a){case"dialog":Vt("cancel",n),Vt("close",n);break;case"iframe":case"object":case"embed":Vt("load",n);break;case"video":case"audio":for(a=0;a<Lo.length;a++)Vt(Lo[a],n);break;case"source":Vt("error",n);break;case"img":case"image":case"link":Vt("error",n),Vt("load",n);break;case"details":Vt("toggle",n);break;case"input":Vt("invalid",n),Fr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Ia(n);break;case"select":Vt("invalid",n);break;case"textarea":Vt("invalid",n),Yr(n,o.value,o.defaultValue,o.children),Ia(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||ey(n.textContent,a)?(o.popover!=null&&(Vt("beforetoggle",n),Vt("toggle",n)),o.onScroll!=null&&Vt("scroll",n),o.onScrollEnd!=null&&Vt("scrollend",n),o.onClick!=null&&(n.onclick=Vu),n=!0):n=!1,n||oa(t)}function km(t){for(Je=t.return;Je;)switch(Je.tag){case 5:case 13:ti=!1;return;case 27:case 3:ti=!0;return;default:Je=Je.return}}function lo(t){if(t!==Je)return!1;if(!kt)return km(t),kt=!0,!1;var n=t.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Dh(t.type,t.memoizedProps)),a=!a),a&&le&&oa(t),km(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(n===0){le=zn(t.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;t=t.nextSibling}le=null}}else n===27?(n=le,hr(t.type)?(t=Nh,Nh=null,le=t):le=n):le=Je?zn(t.stateNode.nextSibling):null;return!0}function uo(){le=Je=null,kt=!1}function Bm(){var t=sa;return t!==null&&(rn===null?rn=t:rn.push.apply(rn,t),sa=null),t}function co(t){sa===null?sa=[t]:sa.push(t)}var df=W(null),la=null,Di=null;function Wi(t,n,a){$(df,n._currentValue),n._currentValue=a}function Vi(t){t._currentValue=df.current,rt(df)}function mf(t,n,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),t===a)break;t=t.return}}function gf(t,n,a,o){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var h=f.dependencies;if(h!==null){var _=f.child;h=h.firstContext;t:for(;h!==null;){var T=h;h=f;for(var w=0;w<n.length;w++)if(T.context===n[w]){h.lanes|=a,T=h.alternate,T!==null&&(T.lanes|=a),mf(h.return,a,t),o||(_=null);break t}h=T.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,h=_.alternate,h!==null&&(h.lanes|=a),mf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function fo(t,n,a,o){t=null;for(var f=n,h=!1;f!==null;){if(!h){if((f.flags&524288)!==0)h=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var T=f.type;un(f.pendingProps.value,_.value)||(t!==null?t.push(T):t=[T])}}else if(f===De.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(Ho):t=[Ho])}f=f.return}t!==null&&gf(n,t,a,o),n.flags|=262144}function Zl(t){for(t=t.firstContext;t!==null;){if(!un(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ua(t){la=t,Di=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ge(t){return Hm(la,t)}function Wl(t,n){return la===null&&ua(t),Hm(t,n)}function Hm(t,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Di===null){if(t===null)throw Error(s(308));Di=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Di=Di.next=n;return a}var _E=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){n.aborted=!0,t.forEach(function(a){return a()})}},EE=r.unstable_scheduleCallback,TE=r.unstable_NormalPriority,be={$$typeof:at,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function pf(){return{controller:new _E,data:new Map,refCount:0}}function ho(t){t.refCount--,t.refCount===0&&EE(TE,function(){t.controller.abort()})}var mo=null,yf=0,Qa=0,Xa=null;function AE(t,n){if(mo===null){var a=mo=[];yf=0,Qa=_h(),Xa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return yf++,n.then(jm,jm),n}function jm(){if(--yf===0&&mo!==null){Xa!==null&&(Xa.status="fulfilled");var t=mo;mo=null,Qa=0,Xa=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function SE(t,n){var a=[],o={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){o.status="fulfilled",o.value=n;for(var f=0;f<a.length;f++)(0,a[f])(n)},function(f){for(o.status="rejected",o.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),o}var qm=q.S;q.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&AE(t,n),qm!==null&&qm(t,n)};var ca=W(null);function vf(){var t=ca.current;return t!==null?t:Jt.pooledCache}function Jl(t,n){n===null?$(ca,ca.current):$(ca,n.pool)}function Gm(){var t=vf();return t===null?null:{parent:be._currentValue,pool:t}}var go=Error(s(460)),Fm=Error(s(474)),$l=Error(s(542)),_f={then:function(){}};function Ym(t){return t=t.status,t==="fulfilled"||t==="rejected"}function tu(){}function Qm(t,n,a){switch(a=t[a],a===void 0?t.push(n):a!==n&&(n.then(tu,tu),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Km(t),t;default:if(typeof n.status=="string")n.then(tu,tu);else{if(t=Jt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=n,t.status="pending",t.then(function(o){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=o}},function(o){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,Km(t),t}throw po=n,go}}var po=null;function Xm(){if(po===null)throw Error(s(459));var t=po;return po=null,t}function Km(t){if(t===go||t===$l)throw Error(s(483))}var Ji=!1;function Ef(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function $i(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function tr(t,n,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var f=o.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),o.pending=n,n=Yl(t),Lm(t,null,a),n}return Fl(t,o,n,a),Yl(t)}function yo(t,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Gs(t,a)}}function Af(t,n){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var f=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?f=h=_:h=h.next=_,a=a.next}while(a!==null);h===null?f=h=n:h=h.next=n}else f=h=n;a={baseState:o.baseState,firstBaseUpdate:f,lastBaseUpdate:h,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=n:t.next=n,a.lastBaseUpdate=n}var Sf=!1;function vo(){if(Sf){var t=Xa;if(t!==null)throw t}}function _o(t,n,a,o){Sf=!1;var f=t.updateQueue;Ji=!1;var h=f.firstBaseUpdate,_=f.lastBaseUpdate,T=f.shared.pending;if(T!==null){f.shared.pending=null;var w=T,z=w.next;w.next=null,_===null?h=z:_.next=z,_=w;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==_&&(T===null?G.firstBaseUpdate=z:T.next=z,G.lastBaseUpdate=w))}if(h!==null){var Q=f.baseState;_=0,G=z=w=null,T=h;do{var B=T.lane&-536870913,H=B!==T.lane;if(H?(xt&B)===B:(o&B)===B){B!==0&&B===Qa&&(Sf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var pt=t,mt=T;B=n;var Kt=a;switch(mt.tag){case 1:if(pt=mt.payload,typeof pt=="function"){Q=pt.call(Kt,Q,B);break t}Q=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=mt.payload,B=typeof pt=="function"?pt.call(Kt,Q,B):pt,B==null)break t;Q=E({},Q,B);break t;case 2:Ji=!0}}B=T.callback,B!==null&&(t.flags|=64,H&&(t.flags|=8192),H=f.callbacks,H===null?f.callbacks=[B]:H.push(B))}else H={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(z=G=H,w=Q):G=G.next=H,_|=B;if(T=T.next,T===null){if(T=f.shared.pending,T===null)break;H=T,T=H.next,H.next=null,f.lastBaseUpdate=H,f.shared.pending=null}}while(!0);G===null&&(w=Q),f.baseState=w,f.firstBaseUpdate=z,f.lastBaseUpdate=G,h===null&&(f.shared.lanes=0),lr|=_,t.lanes=_,t.memoizedState=Q}}function Zm(t,n){if(typeof t!="function")throw Error(s(191,t));t.call(n)}function Wm(t,n){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Zm(a[t],n)}var Ka=W(null),eu=W(0);function Jm(t,n){t=Ui,$(eu,t),$(Ka,n),Ui=t|n.baseLanes}function bf(){$(eu,Ui),$(Ka,Ka.current)}function wf(){Ui=eu.current,rt(Ka),rt(eu)}var er=0,bt=null,Qt=null,pe=null,nu=!1,Za=!1,fa=!1,iu=0,Eo=0,Wa=null,bE=0;function fe(){throw Error(s(321))}function Rf(t,n){if(n===null)return!1;for(var a=0;a<n.length&&a<t.length;a++)if(!un(t[a],n[a]))return!1;return!0}function Cf(t,n,a,o,f,h){return er=h,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=t===null||t.memoizedState===null?Lg:Ug,fa=!1,h=a(o,f),fa=!1,Za&&(h=tg(n,a,o,f)),$m(t),h}function $m(t){q.H=uu;var n=Qt!==null&&Qt.next!==null;if(er=0,pe=Qt=bt=null,nu=!1,Eo=0,Wa=null,n)throw Error(s(300));t===null||Me||(t=t.dependencies,t!==null&&Zl(t)&&(Me=!0))}function tg(t,n,a,o){bt=t;var f=0;do{if(Za&&(Wa=null),Eo=0,Za=!1,25<=f)throw Error(s(301));if(f+=1,pe=Qt=null,t.updateQueue!=null){var h=t.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}q.H=ME,h=n(a,o)}while(Za);return h}function wE(){var t=q.H,n=t.useState()[0];return n=typeof n.then=="function"?To(n):n,t=t.useState()[0],(Qt!==null?Qt.memoizedState:null)!==t&&(bt.flags|=1024),n}function Df(){var t=iu!==0;return iu=0,t}function Vf(t,n,a){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~a}function If(t){if(nu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}nu=!1}er=0,pe=Qt=bt=null,Za=!1,Eo=iu=0,Wa=null}function en(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pe===null?bt.memoizedState=pe=t:pe=pe.next=t,pe}function ye(){if(Qt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Qt.next;var n=pe===null?bt.memoizedState:pe.next;if(n!==null)pe=n,Qt=t;else{if(t===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Qt=t,t={memoizedState:Qt.memoizedState,baseState:Qt.baseState,baseQueue:Qt.baseQueue,queue:Qt.queue,next:null},pe===null?bt.memoizedState=pe=t:pe=pe.next=t}return pe}function Mf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function To(t){var n=Eo;return Eo+=1,Wa===null&&(Wa=[]),t=Qm(Wa,t,n),n=bt,(pe===null?n.memoizedState:pe.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Lg:Ug),t}function ru(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return To(t);if(t.$$typeof===at)return Ge(t)}throw Error(s(438,String(t)))}function Nf(t){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=Mf(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(t),o=0;o<t;o++)a[o]=I;return n.index++,a}function Ii(t,n){return typeof n=="function"?n(t):n}function au(t){var n=ye();return Of(n,Qt,t)}function Of(t,n,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var f=t.baseQueue,h=o.pending;if(h!==null){if(f!==null){var _=f.next;f.next=h.next,h.next=_}n.baseQueue=f=h,o.pending=null}if(h=t.baseState,f===null)t.memoizedState=h;else{n=f.next;var T=_=null,w=null,z=n,G=!1;do{var Q=z.lane&-536870913;if(Q!==z.lane?(xt&Q)===Q:(er&Q)===Q){var B=z.revertLane;if(B===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),Q===Qa&&(G=!0);else if((er&B)===B){z=z.next,B===Qa&&(G=!0);continue}else Q={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=Q,_=h):w=w.next=Q,bt.lanes|=B,lr|=B;Q=z.action,fa&&a(h,Q),h=z.hasEagerState?z.eagerState:a(h,Q)}else B={lane:Q,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},w===null?(T=w=B,_=h):w=w.next=B,bt.lanes|=Q,lr|=Q;z=z.next}while(z!==null&&z!==n);if(w===null?_=h:w.next=T,!un(h,t.memoizedState)&&(Me=!0,G&&(a=Xa,a!==null)))throw a;t.memoizedState=h,t.baseState=_,t.baseQueue=w,o.lastRenderedState=h}return f===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function xf(t){var n=ye(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,f=a.pending,h=n.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do h=t(h,_.action),_=_.next;while(_!==f);un(h,n.memoizedState)||(Me=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,o]}function eg(t,n,a){var o=bt,f=ye(),h=kt;if(h){if(a===void 0)throw Error(s(407));a=a()}else a=n();var _=!un((Qt||f).memoizedState,a);_&&(f.memoizedState=a,Me=!0),f=f.queue;var T=rg.bind(null,o,f,t);if(Ao(2048,8,T,[t]),f.getSnapshot!==n||_||pe!==null&&pe.memoizedState.tag&1){if(o.flags|=2048,Ja(9,su(),ig.bind(null,o,f,a,n),null),Jt===null)throw Error(s(349));h||(er&124)!==0||ng(o,n,a)}return a}function ng(t,n,a){t.flags|=16384,t={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=Mf(),bt.updateQueue=n,n.stores=[t]):(a=n.stores,a===null?n.stores=[t]:a.push(t))}function ig(t,n,a,o){n.value=a,n.getSnapshot=o,ag(n)&&sg(t)}function rg(t,n,a){return a(function(){ag(n)&&sg(t)})}function ag(t){var n=t.getSnapshot;t=t.value;try{var a=n();return!un(t,a)}catch{return!0}}function sg(t){var n=qa(t,2);n!==null&&gn(n,t,2)}function Lf(t){var n=en();if(typeof t=="function"){var a=t;if(t=a(),fa){on(!0);try{a()}finally{on(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:t},n}function og(t,n,a,o){return t.baseState=a,Of(t,Qt,typeof o=="function"?o:Ii)}function RE(t,n,a,o,f){if(lu(t))throw Error(s(485));if(t=n.action,t!==null){var h={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){h.listeners.push(_)}};q.T!==null?a(!0):h.isTransition=!1,o(h),a=n.pending,a===null?(h.next=n.pending=h,lg(n,h)):(h.next=a.next,n.pending=a.next=h)}}function lg(t,n){var a=n.action,o=n.payload,f=t.state;if(n.isTransition){var h=q.T,_={};q.T=_;try{var T=a(f,o),w=q.S;w!==null&&w(_,T),ug(t,n,T)}catch(z){Uf(t,n,z)}finally{q.T=h}}else try{h=a(f,o),ug(t,n,h)}catch(z){Uf(t,n,z)}}function ug(t,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){cg(t,n,o)},function(o){return Uf(t,n,o)}):cg(t,n,a)}function cg(t,n,a){n.status="fulfilled",n.value=a,fg(n),t.state=a,n=t.pending,n!==null&&(a=n.next,a===n?t.pending=null:(a=a.next,n.next=a,lg(t,a)))}function Uf(t,n,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,fg(n),n=n.next;while(n!==o)}t.action=null}function fg(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function hg(t,n){return n}function dg(t,n){if(kt){var a=Jt.formState;if(a!==null){t:{var o=bt;if(kt){if(le){e:{for(var f=le,h=ti;f.nodeType!==8;){if(!h){f=null;break e}if(f=zn(f.nextSibling),f===null){f=null;break e}}h=f.data,f=h==="F!"||h==="F"?f:null}if(f){le=zn(f.nextSibling),o=f.data==="F!";break t}}oa(o)}o=!1}o&&(n=a[0])}}return a=en(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hg,lastRenderedState:n},a.queue=o,a=Ng.bind(null,bt,o),o.dispatch=a,o=Lf(!1),h=Hf.bind(null,bt,!1,o.queue),o=en(),f={state:n,dispatch:null,action:t,pending:null},o.queue=f,a=RE.bind(null,bt,f,h,a),f.dispatch=a,o.memoizedState=t,[n,a,!1]}function mg(t){var n=ye();return gg(n,Qt,t)}function gg(t,n,a){if(n=Of(t,n,hg)[0],t=au(Ii)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=To(n)}catch(_){throw _===go?$l:_}else o=n;n=ye();var f=n.queue,h=f.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,Ja(9,su(),CE.bind(null,f,a),null)),[o,h,t]}function CE(t,n){t.action=n}function pg(t){var n=ye(),a=Qt;if(a!==null)return gg(n,a,t);ye(),n=n.memoizedState,a=ye();var o=a.queue.dispatch;return a.memoizedState=t,[n,o,!1]}function Ja(t,n,a,o){return t={tag:t,create:a,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Mf(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,n.lastEffect=t),t}function su(){return{destroy:void 0,resource:void 0}}function yg(){return ye().memoizedState}function ou(t,n,a,o){var f=en();o=o===void 0?null:o,bt.flags|=t,f.memoizedState=Ja(1|n,su(),a,o)}function Ao(t,n,a,o){var f=ye();o=o===void 0?null:o;var h=f.memoizedState.inst;Qt!==null&&o!==null&&Rf(o,Qt.memoizedState.deps)?f.memoizedState=Ja(n,h,a,o):(bt.flags|=t,f.memoizedState=Ja(1|n,h,a,o))}function vg(t,n){ou(8390656,8,t,n)}function _g(t,n){Ao(2048,8,t,n)}function Eg(t,n){return Ao(4,2,t,n)}function Tg(t,n){return Ao(4,4,t,n)}function Ag(t,n){if(typeof n=="function"){t=t();var a=n(t);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function Sg(t,n,a){a=a!=null?a.concat([t]):null,Ao(4,4,Ag.bind(null,n,t),a)}function Pf(){}function bg(t,n){var a=ye();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&Rf(n,o[1])?o[0]:(a.memoizedState=[t,n],t)}function wg(t,n){var a=ye();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&Rf(n,o[1]))return o[0];if(o=t(),fa){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[o,n],o}function zf(t,n,a){return a===void 0||(er&1073741824)!==0?t.memoizedState=n:(t.memoizedState=a,t=Dp(),bt.lanes|=t,lr|=t,a)}function Rg(t,n,a,o){return un(a,n)?a:Ka.current!==null?(t=zf(t,a,o),un(t,n)||(Me=!0),t):(er&42)===0?(Me=!0,t.memoizedState=a):(t=Dp(),bt.lanes|=t,lr|=t,n)}function Cg(t,n,a,o,f){var h=nt.p;nt.p=h!==0&&8>h?h:8;var _=q.T,T={};q.T=T,Hf(t,!1,n,a);try{var w=f(),z=q.S;if(z!==null&&z(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=SE(w,o);So(t,n,G,mn(t))}else So(t,n,o,mn(t))}catch(Q){So(t,n,{then:function(){},status:"rejected",reason:Q},mn())}finally{nt.p=h,q.T=_}}function DE(){}function kf(t,n,a,o){if(t.tag!==5)throw Error(s(476));var f=Dg(t).queue;Cg(t,f,n,ft,a===null?DE:function(){return Vg(t),a(o)})}function Dg(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:ft},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ii,lastRenderedState:a},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Vg(t){var n=Dg(t).next.queue;So(t,n,{},mn())}function Bf(){return Ge(Ho)}function Ig(){return ye().memoizedState}function Mg(){return ye().memoizedState}function VE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var a=mn();t=$i(a);var o=tr(n,t,a);o!==null&&(gn(o,n,a),yo(o,n,a)),n={cache:pf()},t.payload=n;return}n=n.return}}function IE(t,n,a){var o=mn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},lu(t)?Og(n,a):(a=sf(t,n,a,o),a!==null&&(gn(a,t,o),xg(a,n,o)))}function Ng(t,n,a){var o=mn();So(t,n,a,o)}function So(t,n,a,o){var f={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(lu(t))Og(n,f);else{var h=t.alternate;if(t.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var _=n.lastRenderedState,T=h(_,a);if(f.hasEagerState=!0,f.eagerState=T,un(T,_))return Fl(t,n,f,0),Jt===null&&Gl(),!1}catch{}finally{}if(a=sf(t,n,f,o),a!==null)return gn(a,t,o),xg(a,n,o),!0}return!1}function Hf(t,n,a,o){if(o={lane:2,revertLane:_h(),action:o,hasEagerState:!1,eagerState:null,next:null},lu(t)){if(n)throw Error(s(479))}else n=sf(t,a,o,2),n!==null&&gn(n,t,2)}function lu(t){var n=t.alternate;return t===bt||n!==null&&n===bt}function Og(t,n){Za=nu=!0;var a=t.pending;a===null?n.next=n:(n.next=a.next,a.next=n),t.pending=n}function xg(t,n,a){if((a&4194048)!==0){var o=n.lanes;o&=t.pendingLanes,a|=o,n.lanes=a,Gs(t,a)}}var uu={readContext:Ge,use:ru,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useLayoutEffect:fe,useInsertionEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useSyncExternalStore:fe,useId:fe,useHostTransitionStatus:fe,useFormState:fe,useActionState:fe,useOptimistic:fe,useMemoCache:fe,useCacheRefresh:fe},Lg={readContext:Ge,use:ru,useCallback:function(t,n){return en().memoizedState=[t,n===void 0?null:n],t},useContext:Ge,useEffect:vg,useImperativeHandle:function(t,n,a){a=a!=null?a.concat([t]):null,ou(4194308,4,Ag.bind(null,n,t),a)},useLayoutEffect:function(t,n){return ou(4194308,4,t,n)},useInsertionEffect:function(t,n){ou(4,2,t,n)},useMemo:function(t,n){var a=en();n=n===void 0?null:n;var o=t();if(fa){on(!0);try{t()}finally{on(!1)}}return a.memoizedState=[o,n],o},useReducer:function(t,n,a){var o=en();if(a!==void 0){var f=a(n);if(fa){on(!0);try{a(n)}finally{on(!1)}}}else f=n;return o.memoizedState=o.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},o.queue=t,t=t.dispatch=IE.bind(null,bt,t),[o.memoizedState,t]},useRef:function(t){var n=en();return t={current:t},n.memoizedState=t},useState:function(t){t=Lf(t);var n=t.queue,a=Ng.bind(null,bt,n);return n.dispatch=a,[t.memoizedState,a]},useDebugValue:Pf,useDeferredValue:function(t,n){var a=en();return zf(a,t,n)},useTransition:function(){var t=Lf(!1);return t=Cg.bind(null,bt,t.queue,!0,!1),en().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,a){var o=bt,f=en();if(kt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(xt&124)!==0||ng(o,n,a)}f.memoizedState=a;var h={value:a,getSnapshot:n};return f.queue=h,vg(rg.bind(null,o,h,t),[t]),o.flags|=2048,Ja(9,su(),ig.bind(null,o,h,a,n),null),a},useId:function(){var t=en(),n=Jt.identifierPrefix;if(kt){var a=Ci,o=Ri;a=(o&~(1<<32-qe(o)-1)).toString(32)+a,n=""+n+"R"+a,a=iu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=bE++,n=""+n+"r"+a.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:Bf,useFormState:dg,useActionState:dg,useOptimistic:function(t){var n=en();n.memoizedState=n.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Hf.bind(null,bt,!0,a),a.dispatch=n,[t,n]},useMemoCache:Nf,useCacheRefresh:function(){return en().memoizedState=VE.bind(null,bt)}},Ug={readContext:Ge,use:ru,useCallback:bg,useContext:Ge,useEffect:_g,useImperativeHandle:Sg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:au,useRef:yg,useState:function(){return au(Ii)},useDebugValue:Pf,useDeferredValue:function(t,n){var a=ye();return Rg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=au(Ii)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:To(t),n]},useSyncExternalStore:eg,useId:Ig,useHostTransitionStatus:Bf,useFormState:mg,useActionState:mg,useOptimistic:function(t,n){var a=ye();return og(a,Qt,t,n)},useMemoCache:Nf,useCacheRefresh:Mg},ME={readContext:Ge,use:ru,useCallback:bg,useContext:Ge,useEffect:_g,useImperativeHandle:Sg,useInsertionEffect:Eg,useLayoutEffect:Tg,useMemo:wg,useReducer:xf,useRef:yg,useState:function(){return xf(Ii)},useDebugValue:Pf,useDeferredValue:function(t,n){var a=ye();return Qt===null?zf(a,t,n):Rg(a,Qt.memoizedState,t,n)},useTransition:function(){var t=xf(Ii)[0],n=ye().memoizedState;return[typeof t=="boolean"?t:To(t),n]},useSyncExternalStore:eg,useId:Ig,useHostTransitionStatus:Bf,useFormState:pg,useActionState:pg,useOptimistic:function(t,n){var a=ye();return Qt!==null?og(a,Qt,t,n):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:Mg},$a=null,bo=0;function cu(t){var n=bo;return bo+=1,$a===null&&($a=[]),Qm($a,t,n)}function wo(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function fu(t,n){throw n.$$typeof===S?Error(s(525)):(t=Object.prototype.toString.call(n),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function Pg(t){var n=t._init;return n(t._payload)}function zg(t){function n(x,N){if(t){var P=x.deletions;P===null?(x.deletions=[N],x.flags|=16):P.push(N)}}function a(x,N){if(!t)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function f(x,N){return x=wi(x,N),x.index=0,x.sibling=null,x}function h(x,N,P){return x.index=P,t?(P=x.alternate,P!==null?(P=P.index,P<N?(x.flags|=67108866,N):P):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function _(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,P,F){return N===null||N.tag!==6?(N=lf(P,x.mode,F),N.return=x,N):(N=f(N,P),N.return=x,N)}function w(x,N,P,F){var ot=P.type;return ot===Y?G(x,N,P.props.children,F,P.key):N!==null&&(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Pg(ot)===N.type)?(N=f(N,P.props),wo(N,P),N.return=x,N):(N=Ql(P.type,P.key,P.props,null,x.mode,F),wo(N,P),N.return=x,N)}function z(x,N,P,F){return N===null||N.tag!==4||N.stateNode.containerInfo!==P.containerInfo||N.stateNode.implementation!==P.implementation?(N=uf(P,x.mode,F),N.return=x,N):(N=f(N,P.children||[]),N.return=x,N)}function G(x,N,P,F,ot){return N===null||N.tag!==7?(N=ia(P,x.mode,F,ot),N.return=x,N):(N=f(N,P),N.return=x,N)}function Q(x,N,P){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=lf(""+N,x.mode,P),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case D:return P=Ql(N.type,N.key,N.props,null,x.mode,P),wo(P,N),P.return=x,P;case k:return N=uf(N,x.mode,P),N.return=x,N;case b:var F=N._init;return N=F(N._payload),Q(x,N,P)}if(se(N)||L(N))return N=ia(N,x.mode,P,null),N.return=x,N;if(typeof N.then=="function")return Q(x,cu(N),P);if(N.$$typeof===at)return Q(x,Wl(x,N),P);fu(x,N)}return null}function B(x,N,P,F){var ot=N!==null?N.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ot!==null?null:T(x,N,""+P,F);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case D:return P.key===ot?w(x,N,P,F):null;case k:return P.key===ot?z(x,N,P,F):null;case b:return ot=P._init,P=ot(P._payload),B(x,N,P,F)}if(se(P)||L(P))return ot!==null?null:G(x,N,P,F,null);if(typeof P.then=="function")return B(x,N,cu(P),F);if(P.$$typeof===at)return B(x,N,Wl(x,P),F);fu(x,P)}return null}function H(x,N,P,F,ot){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return x=x.get(P)||null,T(N,x,""+F,ot);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case D:return x=x.get(F.key===null?P:F.key)||null,w(N,x,F,ot);case k:return x=x.get(F.key===null?P:F.key)||null,z(N,x,F,ot);case b:var Ct=F._init;return F=Ct(F._payload),H(x,N,P,F,ot)}if(se(F)||L(F))return x=x.get(P)||null,G(N,x,F,ot,null);if(typeof F.then=="function")return H(x,N,P,cu(F),ot);if(F.$$typeof===at)return H(x,N,P,Wl(N,F),ot);fu(N,F)}return null}function pt(x,N,P,F){for(var ot=null,Ct=null,ut=N,gt=N=0,Oe=null;ut!==null&&gt<P.length;gt++){ut.index>gt?(Oe=ut,ut=null):Oe=ut.sibling;var Pt=B(x,ut,P[gt],F);if(Pt===null){ut===null&&(ut=Oe);break}t&&ut&&Pt.alternate===null&&n(x,ut),N=h(Pt,N,gt),Ct===null?ot=Pt:Ct.sibling=Pt,Ct=Pt,ut=Oe}if(gt===P.length)return a(x,ut),kt&&aa(x,gt),ot;if(ut===null){for(;gt<P.length;gt++)ut=Q(x,P[gt],F),ut!==null&&(N=h(ut,N,gt),Ct===null?ot=ut:Ct.sibling=ut,Ct=ut);return kt&&aa(x,gt),ot}for(ut=o(ut);gt<P.length;gt++)Oe=H(ut,x,gt,P[gt],F),Oe!==null&&(t&&Oe.alternate!==null&&ut.delete(Oe.key===null?gt:Oe.key),N=h(Oe,N,gt),Ct===null?ot=Oe:Ct.sibling=Oe,Ct=Oe);return t&&ut.forEach(function(yr){return n(x,yr)}),kt&&aa(x,gt),ot}function mt(x,N,P,F){if(P==null)throw Error(s(151));for(var ot=null,Ct=null,ut=N,gt=N=0,Oe=null,Pt=P.next();ut!==null&&!Pt.done;gt++,Pt=P.next()){ut.index>gt?(Oe=ut,ut=null):Oe=ut.sibling;var yr=B(x,ut,Pt.value,F);if(yr===null){ut===null&&(ut=Oe);break}t&&ut&&yr.alternate===null&&n(x,ut),N=h(yr,N,gt),Ct===null?ot=yr:Ct.sibling=yr,Ct=yr,ut=Oe}if(Pt.done)return a(x,ut),kt&&aa(x,gt),ot;if(ut===null){for(;!Pt.done;gt++,Pt=P.next())Pt=Q(x,Pt.value,F),Pt!==null&&(N=h(Pt,N,gt),Ct===null?ot=Pt:Ct.sibling=Pt,Ct=Pt);return kt&&aa(x,gt),ot}for(ut=o(ut);!Pt.done;gt++,Pt=P.next())Pt=H(ut,x,gt,Pt.value,F),Pt!==null&&(t&&Pt.alternate!==null&&ut.delete(Pt.key===null?gt:Pt.key),N=h(Pt,N,gt),Ct===null?ot=Pt:Ct.sibling=Pt,Ct=Pt);return t&&ut.forEach(function(NT){return n(x,NT)}),kt&&aa(x,gt),ot}function Kt(x,N,P,F){if(typeof P=="object"&&P!==null&&P.type===Y&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case D:t:{for(var ot=P.key;N!==null;){if(N.key===ot){if(ot=P.type,ot===Y){if(N.tag===7){a(x,N.sibling),F=f(N,P.props.children),F.return=x,x=F;break t}}else if(N.elementType===ot||typeof ot=="object"&&ot!==null&&ot.$$typeof===b&&Pg(ot)===N.type){a(x,N.sibling),F=f(N,P.props),wo(F,P),F.return=x,x=F;break t}a(x,N);break}else n(x,N);N=N.sibling}P.type===Y?(F=ia(P.props.children,x.mode,F,P.key),F.return=x,x=F):(F=Ql(P.type,P.key,P.props,null,x.mode,F),wo(F,P),F.return=x,x=F)}return _(x);case k:t:{for(ot=P.key;N!==null;){if(N.key===ot)if(N.tag===4&&N.stateNode.containerInfo===P.containerInfo&&N.stateNode.implementation===P.implementation){a(x,N.sibling),F=f(N,P.children||[]),F.return=x,x=F;break t}else{a(x,N);break}else n(x,N);N=N.sibling}F=uf(P,x.mode,F),F.return=x,x=F}return _(x);case b:return ot=P._init,P=ot(P._payload),Kt(x,N,P,F)}if(se(P))return pt(x,N,P,F);if(L(P)){if(ot=L(P),typeof ot!="function")throw Error(s(150));return P=ot.call(P),mt(x,N,P,F)}if(typeof P.then=="function")return Kt(x,N,cu(P),F);if(P.$$typeof===at)return Kt(x,N,Wl(x,P),F);fu(x,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,N!==null&&N.tag===6?(a(x,N.sibling),F=f(N,P),F.return=x,x=F):(a(x,N),F=lf(P,x.mode,F),F.return=x,x=F),_(x)):a(x,N)}return function(x,N,P,F){try{bo=0;var ot=Kt(x,N,P,F);return $a=null,ot}catch(ut){if(ut===go||ut===$l)throw ut;var Ct=cn(29,ut,null,x.mode);return Ct.lanes=F,Ct.return=x,Ct}finally{}}}var ts=zg(!0),kg=zg(!1),Vn=W(null),ei=null;function nr(t){var n=t.alternate;$(we,we.current&1),$(Vn,t),ei===null&&(n===null||Ka.current!==null||n.memoizedState!==null)&&(ei=t)}function Bg(t){if(t.tag===22){if($(we,we.current),$(Vn,t),ei===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(ei=t)}}else ir()}function ir(){$(we,we.current),$(Vn,Vn.current)}function Mi(t){rt(Vn),ei===t&&(ei=null),rt(we)}var we=W(0);function hu(t){for(var n=t;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Mh(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function jf(t,n,a,o){n=t.memoizedState,a=a(o,n),a=a==null?n:E({},n,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var qf={enqueueSetState:function(t,n,a){t=t._reactInternals;var o=mn(),f=$i(o);f.payload=n,a!=null&&(f.callback=a),n=tr(t,f,o),n!==null&&(gn(n,t,o),yo(n,t,o))},enqueueReplaceState:function(t,n,a){t=t._reactInternals;var o=mn(),f=$i(o);f.tag=1,f.payload=n,a!=null&&(f.callback=a),n=tr(t,f,o),n!==null&&(gn(n,t,o),yo(n,t,o))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var a=mn(),o=$i(a);o.tag=2,n!=null&&(o.callback=n),n=tr(t,o,a),n!==null&&(gn(n,t,a),yo(n,t,a))}};function Hg(t,n,a,o,f,h,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,h,_):n.prototype&&n.prototype.isPureReactComponent?!so(a,o)||!so(f,h):!0}function jg(t,n,a,o){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==t&&qf.enqueueReplaceState(n,n.state,null)}function ha(t,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(t=t.defaultProps){a===n&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var du=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function qg(t){du(t)}function Gg(t){console.error(t)}function Fg(t){du(t)}function mu(t,n){try{var a=t.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Yg(t,n,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Gf(t,n,a){return a=$i(a),a.tag=3,a.payload={element:null},a.callback=function(){mu(t,n)},a}function Qg(t){return t=$i(t),t.tag=3,t}function Xg(t,n,a,o){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var h=o.value;t.payload=function(){return f(h)},t.callback=function(){Yg(n,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){Yg(n,a,o),typeof f!="function"&&(ur===null?ur=new Set([this]):ur.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function NE(t,n,a,o,f){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&fo(n,a,f,!0),a=Vn.current,a!==null){switch(a.tag){case 13:return ei===null?mh():a.alternate===null&&ue===0&&(ue=3),a.flags&=-257,a.flags|=65536,a.lanes=f,o===_f?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),ph(t,o,f)),!1;case 22:return a.flags|=65536,o===_f?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),ph(t,o,f)),!1}throw Error(s(435,a.tag))}return ph(t,o,f),mh(),!1}if(kt)return n=Vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,o!==hf&&(t=Error(s(422),{cause:o}),co(wn(t,a)))):(o!==hf&&(n=Error(s(423),{cause:o}),co(wn(n,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,o=wn(o,a),f=Gf(t.stateNode,o,f),Af(t,f),ue!==4&&(ue=2)),!1;var h=Error(s(520),{cause:o});if(h=wn(h,a),No===null?No=[h]:No.push(h),ue!==4&&(ue=2),n===null)return!0;o=wn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=Gf(a.stateNode,o,t),Af(a,t),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ur===null||!ur.has(h))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Qg(f),Xg(f,t,a,o),Af(a,f),!1}a=a.return}while(a!==null);return!1}var Kg=Error(s(461)),Me=!1;function Pe(t,n,a,o){n.child=t===null?kg(n,null,a,o):ts(n,t.child,a,o)}function Zg(t,n,a,o,f){a=a.render;var h=n.ref;if("ref"in o){var _={};for(var T in o)T!=="ref"&&(_[T]=o[T])}else _=o;return ua(n),o=Cf(t,n,a,_,h,f),T=Df(),t!==null&&!Me?(Vf(t,n,f),Ni(t,n,f)):(kt&&T&&cf(n),n.flags|=1,Pe(t,n,o,f),n.child)}function Wg(t,n,a,o,f){if(t===null){var h=a.type;return typeof h=="function"&&!of(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,Jg(t,n,h,o,f)):(t=Ql(a.type,null,o,n,n.mode,f),t.ref=n.ref,t.return=n,n.child=t)}if(h=t.child,!Jf(t,f)){var _=h.memoizedProps;if(a=a.compare,a=a!==null?a:so,a(_,o)&&t.ref===n.ref)return Ni(t,n,f)}return n.flags|=1,t=wi(h,o),t.ref=n.ref,t.return=n,n.child=t}function Jg(t,n,a,o,f){if(t!==null){var h=t.memoizedProps;if(so(h,o)&&t.ref===n.ref)if(Me=!1,n.pendingProps=o=h,Jf(t,f))(t.flags&131072)!==0&&(Me=!0);else return n.lanes=t.lanes,Ni(t,n,f)}return Ff(t,n,a,o,f)}function $g(t,n,a){var o=n.pendingProps,f=o.children,h=t!==null?t.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=h!==null?h.baseLanes|a:a,t!==null){for(f=n.child=t.child,h=0;f!==null;)h=h|f.lanes|f.childLanes,f=f.sibling;n.childLanes=h&~o}else n.childLanes=0,n.child=null;return tp(t,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Jl(n,h!==null?h.cachePool:null),h!==null?Jm(n,h):bf(),Bg(n);else return n.lanes=n.childLanes=536870912,tp(t,n,h!==null?h.baseLanes|a:a,a)}else h!==null?(Jl(n,h.cachePool),Jm(n,h),ir(),n.memoizedState=null):(t!==null&&Jl(n,null),bf(),ir());return Pe(t,n,f,a),n.child}function tp(t,n,a,o){var f=vf();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:a,cachePool:f},t!==null&&Jl(n,null),bf(),Bg(n),t!==null&&fo(t,n,o,!0),null}function gu(t,n){var a=n.ref;if(a===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(n.flags|=4194816)}}function Ff(t,n,a,o,f){return ua(n),a=Cf(t,n,a,o,void 0,f),o=Df(),t!==null&&!Me?(Vf(t,n,f),Ni(t,n,f)):(kt&&o&&cf(n),n.flags|=1,Pe(t,n,a,f),n.child)}function ep(t,n,a,o,f,h){return ua(n),n.updateQueue=null,a=tg(n,o,a,f),$m(t),o=Df(),t!==null&&!Me?(Vf(t,n,h),Ni(t,n,h)):(kt&&o&&cf(n),n.flags|=1,Pe(t,n,a,h),n.child)}function np(t,n,a,o,f){if(ua(n),n.stateNode===null){var h=Ga,_=a.contextType;typeof _=="object"&&_!==null&&(h=Ge(_)),h=new a(o,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=qf,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=o,h.state=n.memoizedState,h.refs={},Ef(n),_=a.contextType,h.context=typeof _=="object"&&_!==null?Ge(_):Ga,h.state=n.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(jf(n,a,_,o),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(_=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),_!==h.state&&qf.enqueueReplaceState(h,h.state,null),_o(n,o,h,f),vo(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(t===null){h=n.stateNode;var T=n.memoizedProps,w=ha(a,T);h.props=w;var z=h.context,G=a.contextType;_=Ga,typeof G=="object"&&G!==null&&(_=Ge(G));var Q=a.getDerivedStateFromProps;G=typeof Q=="function"||typeof h.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(T||z!==_)&&jg(n,h,o,_),Ji=!1;var B=n.memoizedState;h.state=B,_o(n,o,h,f),vo(),z=n.memoizedState,T||B!==z||Ji?(typeof Q=="function"&&(jf(n,a,Q,o),z=n.memoizedState),(w=Ji||Hg(n,a,w,o,B,z,_))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),h.props=o,h.state=z,h.context=_,o=w):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{h=n.stateNode,Tf(t,n),_=n.memoizedProps,G=ha(a,_),h.props=G,Q=n.pendingProps,B=h.context,z=a.contextType,w=Ga,typeof z=="object"&&z!==null&&(w=Ge(z)),T=a.getDerivedStateFromProps,(z=typeof T=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_!==Q||B!==w)&&jg(n,h,o,w),Ji=!1,B=n.memoizedState,h.state=B,_o(n,o,h,f),vo();var H=n.memoizedState;_!==Q||B!==H||Ji||t!==null&&t.dependencies!==null&&Zl(t.dependencies)?(typeof T=="function"&&(jf(n,a,T,o),H=n.memoizedState),(G=Ji||Hg(n,a,G,o,B,H,w)||t!==null&&t.dependencies!==null&&Zl(t.dependencies))?(z||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(o,H,w),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(o,H,w)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),h.props=o,h.state=H,h.context=w,o=G):(typeof h.componentDidUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),o=!1)}return h=o,gu(t,n),o=(n.flags&128)!==0,h||o?(h=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,t!==null&&o?(n.child=ts(n,t.child,null,f),n.child=ts(n,null,a,f)):Pe(t,n,a,f),n.memoizedState=h.state,t=n.child):t=Ni(t,n,f),t}function ip(t,n,a,o){return uo(),n.flags|=256,Pe(t,n,a,o),n.child}var Yf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(t){return{baseLanes:t,cachePool:Gm()}}function Xf(t,n,a){return t=t!==null?t.childLanes&~a:0,n&&(t|=In),t}function rp(t,n,a){var o=n.pendingProps,f=!1,h=(n.flags&128)!==0,_;if((_=h)||(_=t!==null&&t.memoizedState===null?!1:(we.current&2)!==0),_&&(f=!0,n.flags&=-129),_=(n.flags&32)!==0,n.flags&=-33,t===null){if(kt){if(f?nr(n):ir(),kt){var T=le,w;if(w=T){t:{for(w=T,T=ti;w.nodeType!==8;){if(!T){T=null;break t}if(w=zn(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:ra!==null?{id:Ri,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},w=cn(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,Je=n,le=null,w=!0):w=!1}w||oa(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return Mh(T)?n.lanes=32:n.lanes=536870912,null;Mi(n)}return T=o.children,o=o.fallback,f?(ir(),f=n.mode,T=pu({mode:"hidden",children:T},f),o=ia(o,f,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,f=n.child,f.memoizedState=Qf(a),f.childLanes=Xf(t,_,a),n.memoizedState=Yf,o):(nr(n),Kf(n,T))}if(w=t.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(h)n.flags&256?(nr(n),n.flags&=-257,n=Zf(t,n,a)):n.memoizedState!==null?(ir(),n.child=t.child,n.flags|=128,n=null):(ir(),f=o.fallback,T=n.mode,o=pu({mode:"visible",children:o.children},T),f=ia(f,T,a,null),f.flags|=2,o.return=n,f.return=n,o.sibling=f,n.child=o,ts(n,t.child,null,a),o=n.child,o.memoizedState=Qf(a),o.childLanes=Xf(t,_,a),n.memoizedState=Yf,n=f);else if(nr(n),Mh(T)){if(_=T.nextSibling&&T.nextSibling.dataset,_)var z=_.dgst;_=z,o=Error(s(419)),o.stack="",o.digest=_,co({value:o,source:null,stack:null}),n=Zf(t,n,a)}else if(Me||fo(t,n,a,!1),_=(a&t.childLanes)!==0,Me||_){if(_=Jt,_!==null&&(o=a&-a,o=(o&42)!==0?1:Gi(o),o=(o&(_.suspendedLanes|a))!==0?0:o,o!==0&&o!==w.retryLane))throw w.retryLane=o,qa(t,o),gn(_,t,o),Kg;T.data==="$?"||mh(),n=Zf(t,n,a)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=w.treeContext,le=zn(T.nextSibling),Je=n,kt=!0,sa=null,ti=!1,t!==null&&(Cn[Dn++]=Ri,Cn[Dn++]=Ci,Cn[Dn++]=ra,Ri=t.id,Ci=t.overflow,ra=n),n=Kf(n,o.children),n.flags|=4096);return n}return f?(ir(),f=o.fallback,T=n.mode,w=t.child,z=w.sibling,o=wi(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,z!==null?f=wi(z,f):(f=ia(f,T,a,null),f.flags|=2),f.return=n,o.return=n,o.sibling=f,n.child=o,o=f,f=n.child,T=t.child.memoizedState,T===null?T=Qf(a):(w=T.cachePool,w!==null?(z=be._currentValue,w=w.parent!==z?{parent:z,pool:z}:w):w=Gm(),T={baseLanes:T.baseLanes|a,cachePool:w}),f.memoizedState=T,f.childLanes=Xf(t,_,a),n.memoizedState=Yf,o):(nr(n),a=t.child,t=a.sibling,a=wi(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,t!==null&&(_=n.deletions,_===null?(n.deletions=[t],n.flags|=16):_.push(t)),n.child=a,n.memoizedState=null,a)}function Kf(t,n){return n=pu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function pu(t,n){return t=cn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Zf(t,n,a){return ts(n,t.child,null,a),t=Kf(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function ap(t,n,a){t.lanes|=n;var o=t.alternate;o!==null&&(o.lanes|=n),mf(t.return,n,a)}function Wf(t,n,a,o,f){var h=t.memoizedState;h===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:f}:(h.isBackwards=n,h.rendering=null,h.renderingStartTime=0,h.last=o,h.tail=a,h.tailMode=f)}function sp(t,n,a){var o=n.pendingProps,f=o.revealOrder,h=o.tail;if(Pe(t,n,o.children,a),o=we.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ap(t,a,n);else if(t.tag===19)ap(t,a,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}o&=1}switch($(we,o),f){case"forwards":for(a=n.child,f=null;a!==null;)t=a.alternate,t!==null&&hu(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=n.child,n.child=null):(f=a.sibling,a.sibling=null),Wf(n,!1,f,a,h);break;case"backwards":for(a=null,f=n.child,n.child=null;f!==null;){if(t=f.alternate,t!==null&&hu(t)===null){n.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Wf(n,!0,a,null,h);break;case"together":Wf(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ni(t,n,a){if(t!==null&&(n.dependencies=t.dependencies),lr|=n.lanes,(a&n.childLanes)===0)if(t!==null){if(fo(t,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(s(153));if(n.child!==null){for(t=n.child,a=wi(t,t.pendingProps),n.child=a,a.return=n;t.sibling!==null;)t=t.sibling,a=a.sibling=wi(t,t.pendingProps),a.return=n;a.sibling=null}return n.child}function Jf(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Zl(t)))}function OE(t,n,a){switch(n.tag){case 3:Wt(n,n.stateNode.containerInfo),Wi(n,be,t.memoizedState.cache),uo();break;case 27:case 5:qi(n);break;case 4:Wt(n,n.stateNode.containerInfo);break;case 10:Wi(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(nr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?rp(t,n,a):(nr(n),t=Ni(t,n,a),t!==null?t.sibling:null);nr(n);break;case 19:var f=(t.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(fo(t,n,a,!1),o=(a&n.childLanes)!==0),f){if(o)return sp(t,n,a);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$(we,we.current),o)break;return null;case 22:case 23:return n.lanes=0,$g(t,n,a);case 24:Wi(n,be,t.memoizedState.cache)}return Ni(t,n,a)}function op(t,n,a){if(t!==null)if(t.memoizedProps!==n.pendingProps)Me=!0;else{if(!Jf(t,a)&&(n.flags&128)===0)return Me=!1,OE(t,n,a);Me=(t.flags&131072)!==0}else Me=!1,kt&&(n.flags&1048576)!==0&&Pm(n,Kl,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var o=n.elementType,f=o._init;if(o=f(o._payload),n.type=o,typeof o=="function")of(o)?(t=ha(o,t),n.tag=1,n=np(null,n,o,t,a)):(n.tag=0,n=Ff(null,n,o,t,a));else{if(o!=null){if(f=o.$$typeof,f===At){n.tag=11,n=Zg(null,n,o,t,a);break t}else if(f===O){n.tag=14,n=Wg(null,n,o,t,a);break t}}throw n=Ee(o)||o,Error(s(306,n,""))}}return n;case 0:return Ff(t,n,n.type,n.pendingProps,a);case 1:return o=n.type,f=ha(o,n.pendingProps),np(t,n,o,f,a);case 3:t:{if(Wt(n,n.stateNode.containerInfo),t===null)throw Error(s(387));o=n.pendingProps;var h=n.memoizedState;f=h.element,Tf(t,n),_o(n,o,null,a);var _=n.memoizedState;if(o=_.cache,Wi(n,be,o),o!==h.cache&&gf(n,[be],a,!0),vo(),o=_.element,h.isDehydrated)if(h={element:o,isDehydrated:!1,cache:_.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=ip(t,n,o,a);break t}else if(o!==f){f=wn(Error(s(424)),n),co(f),n=ip(t,n,o,a);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(le=zn(t.firstChild),Je=n,kt=!0,sa=null,ti=!0,a=kg(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(uo(),o===f){n=Ni(t,n,a);break t}Pe(t,n,o,a)}n=n.child}return n;case 26:return gu(t,n),t===null?(a=fy(n.type,null,n.pendingProps,null))?n.memoizedState=a:kt||(a=n.type,t=n.pendingProps,o=Iu(_t.current).createElement(a),o[Te]=n,o[me]=t,ke(o,a,t),ce(o),n.stateNode=o):n.memoizedState=fy(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return qi(n),t===null&&kt&&(o=n.stateNode=ly(n.type,n.pendingProps,_t.current),Je=n,ti=!0,f=le,hr(n.type)?(Nh=f,le=zn(o.firstChild)):le=f),Pe(t,n,n.pendingProps.children,a),gu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&kt&&((f=o=le)&&(o=oT(o,n.type,n.pendingProps,ti),o!==null?(n.stateNode=o,Je=n,le=zn(o.firstChild),ti=!1,f=!0):f=!1),f||oa(n)),qi(n),f=n.type,h=n.pendingProps,_=t!==null?t.memoizedProps:null,o=h.children,Dh(f,h)?o=null:_!==null&&Dh(f,_)&&(n.flags|=32),n.memoizedState!==null&&(f=Cf(t,n,wE,null,null,a),Ho._currentValue=f),gu(t,n),Pe(t,n,o,a),n.child;case 6:return t===null&&kt&&((t=a=le)&&(a=lT(a,n.pendingProps,ti),a!==null?(n.stateNode=a,Je=n,le=null,t=!0):t=!1),t||oa(n)),null;case 13:return rp(t,n,a);case 4:return Wt(n,n.stateNode.containerInfo),o=n.pendingProps,t===null?n.child=ts(n,null,o,a):Pe(t,n,o,a),n.child;case 11:return Zg(t,n,n.type,n.pendingProps,a);case 7:return Pe(t,n,n.pendingProps,a),n.child;case 8:return Pe(t,n,n.pendingProps.children,a),n.child;case 12:return Pe(t,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,Wi(n,n.type,o.value),Pe(t,n,o.children,a),n.child;case 9:return f=n.type._context,o=n.pendingProps.children,ua(n),f=Ge(f),o=o(f),n.flags|=1,Pe(t,n,o,a),n.child;case 14:return Wg(t,n,n.type,n.pendingProps,a);case 15:return Jg(t,n,n.type,n.pendingProps,a);case 19:return sp(t,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},t===null?(a=pu(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=wi(t.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return $g(t,n,a);case 24:return ua(n),o=Ge(be),t===null?(f=vf(),f===null&&(f=Jt,h=pf(),f.pooledCache=h,h.refCount++,h!==null&&(f.pooledCacheLanes|=a),f=h),n.memoizedState={parent:o,cache:f},Ef(n),Wi(n,be,f)):((t.lanes&a)!==0&&(Tf(t,n),_o(n,null,null,a),vo()),f=t.memoizedState,h=n.memoizedState,f.parent!==o?(f={parent:o,cache:o},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),Wi(n,be,o)):(o=h.cache,Wi(n,be,o),o!==f.cache&&gf(n,[be],a,!0))),Pe(t,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Oi(t){t.flags|=4}function lp(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!py(n)){if(n=Vn.current,n!==null&&((xt&4194048)===xt?ei!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==ei))throw po=_f,Fm;t.flags|=8192}}function yu(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?js():536870912,t.lanes|=n,rs|=n)}function Ro(t,n){if(!kt)switch(t.tailMode){case"hidden":n=t.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function re(t){var n=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(n)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags&65011712,o|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,o|=f.subtreeFlags,o|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=o,t.childLanes=a,n}function xE(t,n,a){var o=n.pendingProps;switch(ff(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return a=n.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Vi(be),jn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(lo(n)?Oi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Bm())),re(n),null;case 26:return a=n.memoizedState,t===null?(Oi(n),a!==null?(re(n),lp(n,a)):(re(n),n.flags&=-16777217)):a?a!==t.memoizedState?(Oi(n),re(n),lp(n,a)):(re(n),n.flags&=-16777217):(t.memoizedProps!==o&&Oi(n),re(n),n.flags&=-16777217),null;case 27:hi(n),a=_t.current;var f=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Oi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return re(n),null}t=dt.current,lo(n)?zm(n):(t=ly(f,o,a),n.stateNode=t,Oi(n))}return re(n),null;case 5:if(hi(n),a=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==o&&Oi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return re(n),null}if(t=dt.current,lo(n))zm(n);else{switch(f=Iu(_t.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof o.is=="string"?f.createElement("select",{is:o.is}):f.createElement("select"),o.multiple?t.multiple=!0:o.size&&(t.size=o.size);break;default:t=typeof o.is=="string"?f.createElement(a,{is:o.is}):f.createElement(a)}}t[Te]=n,t[me]=o;t:for(f=n.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===n)break t;for(;f.sibling===null;){if(f.return===null||f.return===n)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}n.stateNode=t;t:switch(ke(t,a,o),a){case"button":case"input":case"select":case"textarea":t=!!o.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Oi(n)}}return re(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==o&&Oi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(t=_t.current,lo(n)){if(t=n.stateNode,a=n.memoizedProps,o=null,f=Je,f!==null)switch(f.tag){case 27:case 5:o=f.memoizedProps}t[Te]=n,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||ey(t.nodeValue,a)),t||oa(n)}else t=Iu(t).createTextNode(o),t[Te]=n,n.stateNode=t}return re(n),null;case 13:if(o=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=lo(n),o!==null&&o.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Te]=n}else uo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),f=!1}else f=Bm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Mi(n),n):(Mi(n),null)}if(Mi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,t=t!==null&&t.memoizedState!==null,a){o=n.child,f=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(f=o.alternate.memoizedState.cachePool.pool);var h=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(h=o.memoizedState.cachePool.pool),h!==f&&(o.flags|=2048)}return a!==t&&a&&(n.child.flags|=8192),yu(n,n.updateQueue),re(n),null;case 4:return jn(),t===null&&Sh(n.stateNode.containerInfo),re(n),null;case 10:return Vi(n.type),re(n),null;case 19:if(rt(we),f=n.memoizedState,f===null)return re(n),null;if(o=(n.flags&128)!==0,h=f.rendering,h===null)if(o)Ro(f,!1);else{if(ue!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(h=hu(t),h!==null){for(n.flags|=128,Ro(f,!1),t=h.updateQueue,n.updateQueue=t,yu(n,t),n.subtreeFlags=0,t=a,a=n.child;a!==null;)Um(a,t),a=a.sibling;return $(we,we.current&1|2),n.child}t=t.sibling}f.tail!==null&&_n()>Eu&&(n.flags|=128,o=!0,Ro(f,!1),n.lanes=4194304)}else{if(!o)if(t=hu(h),t!==null){if(n.flags|=128,o=!0,t=t.updateQueue,n.updateQueue=t,yu(n,t),Ro(f,!0),f.tail===null&&f.tailMode==="hidden"&&!h.alternate&&!kt)return re(n),null}else 2*_n()-f.renderingStartTime>Eu&&a!==536870912&&(n.flags|=128,o=!0,Ro(f,!1),n.lanes=4194304);f.isBackwards?(h.sibling=n.child,n.child=h):(t=f.last,t!==null?t.sibling=h:n.child=h,f.last=h)}return f.tail!==null?(n=f.tail,f.rendering=n,f.tail=n.sibling,f.renderingStartTime=_n(),n.sibling=null,t=we.current,$(we,o?t&1|2:t&1),n):(re(n),null);case 22:case 23:return Mi(n),wf(),o=n.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),a=n.updateQueue,a!==null&&yu(n,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),t!==null&&rt(ca),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Vi(be),re(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function LE(t,n){switch(ff(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Vi(be),jn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return hi(n),null;case 13:if(Mi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(s(340));uo()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return rt(we),null;case 4:return jn(),null;case 10:return Vi(n.type),null;case 22:case 23:return Mi(n),wf(),t!==null&&rt(ca),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Vi(be),null;case 25:return null;default:return null}}function up(t,n){switch(ff(n),n.tag){case 3:Vi(be),jn();break;case 26:case 27:case 5:hi(n);break;case 4:jn();break;case 13:Mi(n);break;case 19:rt(we);break;case 10:Vi(n.type);break;case 22:case 23:Mi(n),wf(),t!==null&&rt(ca);break;case 24:Vi(be)}}function Co(t,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var f=o.next;a=f;do{if((a.tag&t)===t){o=void 0;var h=a.create,_=a.inst;o=h(),_.destroy=o}a=a.next}while(a!==f)}}catch(T){Zt(n,n.return,T)}}function rr(t,n,a){try{var o=n.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var h=f.next;o=h;do{if((o.tag&t)===t){var _=o.inst,T=_.destroy;if(T!==void 0){_.destroy=void 0,f=n;var w=a,z=T;try{z()}catch(G){Zt(f,w,G)}}}o=o.next}while(o!==h)}}catch(G){Zt(n,n.return,G)}}function cp(t){var n=t.updateQueue;if(n!==null){var a=t.stateNode;try{Wm(n,a)}catch(o){Zt(t,t.return,o)}}}function fp(t,n,a){a.props=ha(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Zt(t,n,o)}}function Do(t,n){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(f){Zt(t,n,f)}}function ni(t,n){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(f){Zt(t,n,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Zt(t,n,f)}else a.current=null}function hp(t){var n=t.type,a=t.memoizedProps,o=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(f){Zt(t,t.return,f)}}function $f(t,n,a){try{var o=t.stateNode;nT(o,t.type,a,n),o[me]=n}catch(f){Zt(t,t.return,f)}}function dp(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&hr(t.type)||t.tag===4}function th(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||dp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&hr(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function eh(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(t),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=Vu));else if(o!==4&&(o===27&&hr(t.type)&&(a=t.stateNode,n=null),t=t.child,t!==null))for(eh(t,n,a),t=t.sibling;t!==null;)eh(t,n,a),t=t.sibling}function vu(t,n,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,n?a.insertBefore(t,n):a.appendChild(t);else if(o!==4&&(o===27&&hr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(vu(t,n,a),t=t.sibling;t!==null;)vu(t,n,a),t=t.sibling}function mp(t){var n=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);ke(n,o,a),n[Te]=t,n[me]=a}catch(h){Zt(t,t.return,h)}}var xi=!1,he=!1,nh=!1,gp=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function UE(t,n){if(t=t.containerInfo,Rh=Uu,t=Rm(t),$c(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else t:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var f=o.anchorOffset,h=o.focusNode;o=o.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break t}var _=0,T=-1,w=-1,z=0,G=0,Q=t,B=null;e:for(;;){for(var H;Q!==a||f!==0&&Q.nodeType!==3||(T=_+f),Q!==h||o!==0&&Q.nodeType!==3||(w=_+o),Q.nodeType===3&&(_+=Q.nodeValue.length),(H=Q.firstChild)!==null;)B=Q,Q=H;for(;;){if(Q===t)break e;if(B===a&&++z===f&&(T=_),B===h&&++G===o&&(w=_),(H=Q.nextSibling)!==null)break;Q=B,B=Q.parentNode}Q=H}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ch={focusedElem:t,selectionRange:a},Uu=!1,Ne=n;Ne!==null;)if(n=Ne,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ne=t;else for(;Ne!==null;){switch(n=Ne,h=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&h!==null){t=void 0,a=n,f=h.memoizedProps,h=h.memoizedState,o=a.stateNode;try{var pt=ha(a.type,f,a.elementType===a.type);t=o.getSnapshotBeforeUpdate(pt,h),o.__reactInternalSnapshotBeforeUpdate=t}catch(mt){Zt(a,a.return,mt)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,a=t.nodeType,a===9)Ih(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ih(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=n.sibling,t!==null){t.return=n.return,Ne=t;break}Ne=n.return}}function pp(t,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:ar(t,a),o&4&&Co(5,a);break;case 1:if(ar(t,a),o&4)if(t=a.stateNode,n===null)try{t.componentDidMount()}catch(_){Zt(a,a.return,_)}else{var f=ha(a.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(f,n,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Zt(a,a.return,_)}}o&64&&cp(a),o&512&&Do(a,a.return);break;case 3:if(ar(t,a),o&64&&(t=a.updateQueue,t!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Wm(t,n)}catch(_){Zt(a,a.return,_)}}break;case 27:n===null&&o&4&&mp(a);case 26:case 5:ar(t,a),n===null&&o&4&&hp(a),o&512&&Do(a,a.return);break;case 12:ar(t,a);break;case 13:ar(t,a),o&4&&_p(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=FE.bind(null,a),uT(t,a))));break;case 22:if(o=a.memoizedState!==null||xi,!o){n=n!==null&&n.memoizedState!==null||he,f=xi;var h=he;xi=o,(he=n)&&!h?sr(t,a,(a.subtreeFlags&8772)!==0):ar(t,a),xi=f,he=h}break;case 30:break;default:ar(t,a)}}function yp(t){var n=t.alternate;n!==null&&(t.alternate=null,yp(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&Qi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ee=null,nn=!1;function Li(t,n,a){for(a=a.child;a!==null;)vp(t,n,a),a=a.sibling}function vp(t,n,a){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(oe,a)}catch{}switch(a.tag){case 26:he||ni(a,n),Li(t,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||ni(a,n);var o=ee,f=nn;hr(a.type)&&(ee=a.stateNode,nn=!1),Li(t,n,a),Po(a.stateNode),ee=o,nn=f;break;case 5:he||ni(a,n);case 6:if(o=ee,f=nn,ee=null,Li(t,n,a),ee=o,nn=f,ee!==null)if(nn)try{(ee.nodeType===9?ee.body:ee.nodeName==="HTML"?ee.ownerDocument.body:ee).removeChild(a.stateNode)}catch(h){Zt(a,n,h)}else try{ee.removeChild(a.stateNode)}catch(h){Zt(a,n,h)}break;case 18:ee!==null&&(nn?(t=ee,sy(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fo(t)):sy(ee,a.stateNode));break;case 4:o=ee,f=nn,ee=a.stateNode.containerInfo,nn=!0,Li(t,n,a),ee=o,nn=f;break;case 0:case 11:case 14:case 15:he||rr(2,a,n),he||rr(4,a,n),Li(t,n,a);break;case 1:he||(ni(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&fp(a,n,o)),Li(t,n,a);break;case 21:Li(t,n,a);break;case 22:he=(o=he)||a.memoizedState!==null,Li(t,n,a),he=o;break;default:Li(t,n,a)}}function _p(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fo(t)}catch(a){Zt(n,n.return,a)}}function PE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new gp),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new gp),n;default:throw Error(s(435,t.tag))}}function ih(t,n){var a=PE(t);n.forEach(function(o){var f=YE.bind(null,t,o);a.has(o)||(a.add(o),o.then(f,f))})}function fn(t,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var f=a[o],h=t,_=n,T=_;t:for(;T!==null;){switch(T.tag){case 27:if(hr(T.type)){ee=T.stateNode,nn=!1;break t}break;case 5:ee=T.stateNode,nn=!1;break t;case 3:case 4:ee=T.stateNode.containerInfo,nn=!0;break t}T=T.return}if(ee===null)throw Error(s(160));vp(h,_,f),ee=null,nn=!1,h=f.alternate,h!==null&&(h.return=null),f.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Ep(n,t),n=n.sibling}var Pn=null;function Ep(t,n){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:fn(n,t),hn(t),o&4&&(rr(3,t,t.return),Co(3,t),rr(5,t,t.return));break;case 1:fn(n,t),hn(t),o&512&&(he||a===null||ni(a,a.return)),o&64&&xi&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var f=Pn;if(fn(n,t),hn(t),o&512&&(he||a===null||ni(a,a.return)),o&4){var h=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){t:{o=t.type,a=t.memoizedProps,f=f.ownerDocument||f;e:switch(o){case"title":h=f.getElementsByTagName("title")[0],(!h||h[Hr]||h[Te]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=f.createElement(o),f.head.insertBefore(h,f.querySelector("head > title"))),ke(h,o,a),h[Te]=t,ce(h),o=h;break t;case"link":var _=my("link","href",f).get(o+(a.href||""));if(_){for(var T=0;T<_.length;T++)if(h=_[T],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(T,1);break e}}h=f.createElement(o),ke(h,o,a),f.head.appendChild(h);break;case"meta":if(_=my("meta","content",f).get(o+(a.content||""))){for(T=0;T<_.length;T++)if(h=_[T],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(T,1);break e}}h=f.createElement(o),ke(h,o,a),f.head.appendChild(h);break;default:throw Error(s(468,o))}h[Te]=t,ce(h),o=h}t.stateNode=o}else gy(f,t.type,t.stateNode);else t.stateNode=dy(f,o,t.memoizedProps);else h!==o?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,o===null?gy(f,t.type,t.stateNode):dy(f,o,t.memoizedProps)):o===null&&t.stateNode!==null&&$f(t,t.memoizedProps,a.memoizedProps)}break;case 27:fn(n,t),hn(t),o&512&&(he||a===null||ni(a,a.return)),a!==null&&o&4&&$f(t,t.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,t),hn(t),o&512&&(he||a===null||ni(a,a.return)),t.flags&32){f=t.stateNode;try{Tn(f,"")}catch(H){Zt(t,t.return,H)}}o&4&&t.stateNode!=null&&(f=t.memoizedProps,$f(t,f,a!==null?a.memoizedProps:f)),o&1024&&(nh=!0);break;case 6:if(fn(n,t),hn(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(H){Zt(t,t.return,H)}}break;case 3:if(Ou=null,f=Pn,Pn=Mu(n.containerInfo),fn(n,t),Pn=f,hn(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{Fo(n.containerInfo)}catch(H){Zt(t,t.return,H)}nh&&(nh=!1,Tp(t));break;case 4:o=Pn,Pn=Mu(t.stateNode.containerInfo),fn(n,t),hn(t),Pn=o;break;case 12:fn(n,t),hn(t);break;case 13:fn(n,t),hn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(uh=_n()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ih(t,o)));break;case 22:f=t.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,z=xi,G=he;if(xi=z||f,he=G||w,fn(n,t),he=G,xi=z,hn(t),o&8192)t:for(n=t.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(a===null||w||xi||he||da(t)),a=null,n=t;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(h=w.stateNode,f)_=h.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{T=w.stateNode;var Q=w.memoizedProps.style,B=Q!=null&&Q.hasOwnProperty("display")?Q.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(H){Zt(w,w.return,H)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=f?"":w.memoizedProps}catch(H){Zt(w,w.return,H)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,ih(t,a))));break;case 19:fn(n,t),hn(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,ih(t,o)));break;case 30:break;case 21:break;default:fn(n,t),hn(t)}}function hn(t){var n=t.flags;if(n&2){try{for(var a,o=t.return;o!==null;){if(dp(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,h=th(t);vu(t,h,f);break;case 5:var _=a.stateNode;a.flags&32&&(Tn(_,""),a.flags&=-33);var T=th(t);vu(t,T,_);break;case 3:case 4:var w=a.stateNode.containerInfo,z=th(t);eh(t,z,w);break;default:throw Error(s(161))}}catch(G){Zt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Tp(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Tp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function ar(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)pp(t,n.alternate,n),n=n.sibling}function da(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:rr(4,n,n.return),da(n);break;case 1:ni(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&fp(n,n.return,a),da(n);break;case 27:Po(n.stateNode);case 26:case 5:ni(n,n.return),da(n);break;case 22:n.memoizedState===null&&da(n);break;case 30:da(n);break;default:da(n)}t=t.sibling}}function sr(t,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,f=t,h=n,_=h.flags;switch(h.tag){case 0:case 11:case 15:sr(f,h,a),Co(4,h);break;case 1:if(sr(f,h,a),o=h,f=o.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){Zt(o,o.return,z)}if(o=h,f=o.updateQueue,f!==null){var T=o.stateNode;try{var w=f.shared.hiddenCallbacks;if(w!==null)for(f.shared.hiddenCallbacks=null,f=0;f<w.length;f++)Zm(w[f],T)}catch(z){Zt(o,o.return,z)}}a&&_&64&&cp(h),Do(h,h.return);break;case 27:mp(h);case 26:case 5:sr(f,h,a),a&&o===null&&_&4&&hp(h),Do(h,h.return);break;case 12:sr(f,h,a);break;case 13:sr(f,h,a),a&&_&4&&_p(f,h);break;case 22:h.memoizedState===null&&sr(f,h,a),Do(h,h.return);break;case 30:break;default:sr(f,h,a)}n=n.sibling}}function rh(t,n){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ho(a))}function ah(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ho(t))}function ii(t,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ap(t,n,a,o),n=n.sibling}function Ap(t,n,a,o){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ii(t,n,a,o),f&2048&&Co(9,n);break;case 1:ii(t,n,a,o);break;case 3:ii(t,n,a,o),f&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&ho(t)));break;case 12:if(f&2048){ii(t,n,a,o),t=n.stateNode;try{var h=n.memoizedProps,_=h.id,T=h.onPostCommit;typeof T=="function"&&T(_,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(w){Zt(n,n.return,w)}}else ii(t,n,a,o);break;case 13:ii(t,n,a,o);break;case 23:break;case 22:h=n.stateNode,_=n.alternate,n.memoizedState!==null?h._visibility&2?ii(t,n,a,o):Vo(t,n):h._visibility&2?ii(t,n,a,o):(h._visibility|=2,es(t,n,a,o,(n.subtreeFlags&10256)!==0)),f&2048&&rh(_,n);break;case 24:ii(t,n,a,o),f&2048&&ah(n.alternate,n);break;default:ii(t,n,a,o)}}function es(t,n,a,o,f){for(f=f&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var h=t,_=n,T=a,w=o,z=_.flags;switch(_.tag){case 0:case 11:case 15:es(h,_,T,w,f),Co(8,_);break;case 23:break;case 22:var G=_.stateNode;_.memoizedState!==null?G._visibility&2?es(h,_,T,w,f):Vo(h,_):(G._visibility|=2,es(h,_,T,w,f)),f&&z&2048&&rh(_.alternate,_);break;case 24:es(h,_,T,w,f),f&&z&2048&&ah(_.alternate,_);break;default:es(h,_,T,w,f)}n=n.sibling}}function Vo(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=t,o=n,f=o.flags;switch(o.tag){case 22:Vo(a,o),f&2048&&rh(o.alternate,o);break;case 24:Vo(a,o),f&2048&&ah(o.alternate,o);break;default:Vo(a,o)}n=n.sibling}}var Io=8192;function ns(t){if(t.subtreeFlags&Io)for(t=t.child;t!==null;)Sp(t),t=t.sibling}function Sp(t){switch(t.tag){case 26:ns(t),t.flags&Io&&t.memoizedState!==null&&AT(Pn,t.memoizedState,t.memoizedProps);break;case 5:ns(t);break;case 3:case 4:var n=Pn;Pn=Mu(t.stateNode.containerInfo),ns(t),Pn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=Io,Io=16777216,ns(t),Io=n):ns(t));break;default:ns(t)}}function bp(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Mo(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ne=o,Rp(o,t)}bp(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wp(t),t=t.sibling}function wp(t){switch(t.tag){case 0:case 11:case 15:Mo(t),t.flags&2048&&rr(9,t,t.return);break;case 3:Mo(t);break;case 12:Mo(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,_u(t)):Mo(t);break;default:Mo(t)}}function _u(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Ne=o,Rp(o,t)}bp(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:rr(8,n,n.return),_u(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,_u(n));break;default:_u(n)}t=t.sibling}}function Rp(t,n){for(;Ne!==null;){var a=Ne;switch(a.tag){case 0:case 11:case 15:rr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ho(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Ne=o;else t:for(a=t;Ne!==null;){o=Ne;var f=o.sibling,h=o.return;if(yp(o),o===a){Ne=null;break t}if(f!==null){f.return=h,Ne=f;break t}Ne=h}}}var zE={getCacheForType:function(t){var n=Ge(be),a=n.data.get(t);return a===void 0&&(a=t(),n.data.set(t,a)),a}},kE=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,Dt=null,xt=0,Ft=0,dn=null,or=!1,is=!1,sh=!1,Ui=0,ue=0,lr=0,ma=0,oh=0,In=0,rs=0,No=null,rn=null,lh=!1,uh=0,Eu=1/0,Tu=null,ur=null,ze=0,cr=null,as=null,ss=0,ch=0,fh=null,Cp=null,Oo=0,hh=null;function mn(){if((Gt&2)!==0&&xt!==0)return xt&-xt;if(q.T!==null){var t=Qa;return t!==0?t:_h()}return Fi()}function Dp(){In===0&&(In=(xt&536870912)===0||kt?Hs():536870912);var t=Vn.current;return t!==null&&(t.flags|=32),In}function gn(t,n,a){(t===Jt&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)&&(os(t,0),fr(t,xt,In,!1)),mi(t,a),((Gt&2)===0||t!==Jt)&&(t===Jt&&((Gt&2)===0&&(ma|=a),ue===4&&fr(t,xt,In,!1)),ri(t))}function Vp(t,n,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(n&124)===0&&(n&t.expiredLanes)===0||Br(t,n),f=o?jE(t,n):gh(t,n,!0),h=o;do{if(f===0){is&&!o&&fr(t,n,0,!1);break}else{if(a=t.current.alternate,h&&!BE(a)){f=gh(t,n,!1),h=!1;continue}if(f===2){if(h=n,t.errorRecoveryDisabledLanes&h)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){n=_;t:{var T=t;f=No;var w=T.current.memoizedState.isDehydrated;if(w&&(os(T,_).flags|=256),_=gh(T,_,!1),_!==2){if(sh&&!w){T.errorRecoveryDisabledLanes|=h,ma|=h,f=4;break t}h=rn,rn=f,h!==null&&(rn===null?rn=h:rn.push.apply(rn,h))}f=_}if(h=!1,f!==2)continue}}if(f===1){os(t,0),fr(t,n,0,!0);break}t:{switch(o=t,h=f,h){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:fr(o,n,In,!or);break t;case 2:rn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(f=uh+300-_n(),10<f)){if(fr(o,n,In,!or),ba(o,0,!0)!==0)break t;o.timeoutHandle=ry(Ip.bind(null,o,a,rn,Tu,lh,n,In,ma,rs,or,h,2,-0,0),f);break t}Ip(o,a,rn,Tu,lh,n,In,ma,rs,or,h,0,-0,0)}}break}while(!0);ri(t)}function Ip(t,n,a,o,f,h,_,T,w,z,G,Q,B,H){if(t.timeoutHandle=-1,Q=n.subtreeFlags,(Q&8192||(Q&16785408)===16785408)&&(Bo={stylesheets:null,count:0,unsuspend:TT},Sp(n),Q=ST(),Q!==null)){t.cancelPendingCommit=Q(Pp.bind(null,t,n,h,a,o,f,_,T,w,G,1,B,H)),fr(t,h,_,!z);return}Pp(t,n,h,a,o,f,_,T,w)}function BE(t){for(var n=t;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var f=a[o],h=f.getSnapshot;f=f.value;try{if(!un(h(),f))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function fr(t,n,a,o){n&=~oh,n&=~ma,t.suspendedLanes|=n,t.pingedLanes&=~n,o&&(t.warmLanes|=n),o=t.expirationTimes;for(var f=n;0<f;){var h=31-qe(f),_=1<<h;o[h]=-1,f&=~_}a!==0&&qn(t,a,n)}function Au(){return(Gt&6)===0?(xo(0),!1):!0}function dh(){if(Dt!==null){if(Ft===0)var t=Dt.return;else t=Dt,Di=la=null,If(t),$a=null,bo=0,t=Dt;for(;t!==null;)up(t.alternate,t),t=t.return;Dt=null}}function os(t,n){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),dh(),Jt=t,Dt=a=wi(t.current,null),xt=n,Ft=0,dn=null,or=!1,is=Br(t,n),sh=!1,rs=In=oh=ma=lr=ue=0,rn=No=null,lh=!1,(n&8)!==0&&(n|=n&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=n;0<o;){var f=31-qe(o),h=1<<f;n|=t[f],o&=~h}return Ui=n,Gl(),a}function Mp(t,n){bt=null,q.H=uu,n===go||n===$l?(n=Xm(),Ft=3):n===Fm?(n=Xm(),Ft=4):Ft=n===Kg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,dn=n,Dt===null&&(ue=1,mu(t,wn(n,t.current)))}function Np(){var t=q.H;return q.H=uu,t===null?uu:t}function Op(){var t=q.A;return q.A=zE,t}function mh(){ue=4,or||(xt&4194048)!==xt&&Vn.current!==null||(is=!0),(lr&134217727)===0&&(ma&134217727)===0||Jt===null||fr(Jt,xt,In,!1)}function gh(t,n,a){var o=Gt;Gt|=2;var f=Np(),h=Op();(Jt!==t||xt!==n)&&(Tu=null,os(t,n)),n=!1;var _=ue;t:do try{if(Ft!==0&&Dt!==null){var T=Dt,w=dn;switch(Ft){case 8:dh(),_=6;break t;case 3:case 2:case 9:case 6:Vn.current===null&&(n=!0);var z=Ft;if(Ft=0,dn=null,ls(t,T,w,z),a&&is){_=0;break t}break;default:z=Ft,Ft=0,dn=null,ls(t,T,w,z)}}HE(),_=ue;break}catch(G){Mp(t,G)}while(!0);return n&&t.shellSuspendCounter++,Di=la=null,Gt=o,q.H=f,q.A=h,Dt===null&&(Jt=null,xt=0,Gl()),_}function HE(){for(;Dt!==null;)xp(Dt)}function jE(t,n){var a=Gt;Gt|=2;var o=Np(),f=Op();Jt!==t||xt!==n?(Tu=null,Eu=_n()+500,os(t,n)):is=Br(t,n);t:do try{if(Ft!==0&&Dt!==null){n=Dt;var h=dn;e:switch(Ft){case 1:Ft=0,dn=null,ls(t,n,h,1);break;case 2:case 9:if(Ym(h)){Ft=0,dn=null,Lp(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==t||(Ft=7),ri(t)},h.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Ym(h)?(Ft=0,dn=null,Lp(n)):(Ft=0,dn=null,ls(t,n,h,7));break;case 5:var _=null;switch(Dt.tag){case 26:_=Dt.memoizedState;case 5:case 27:var T=Dt;if(!_||py(_)){Ft=0,dn=null;var w=T.sibling;if(w!==null)Dt=w;else{var z=T.return;z!==null?(Dt=z,Su(z)):Dt=null}break e}}Ft=0,dn=null,ls(t,n,h,5);break;case 6:Ft=0,dn=null,ls(t,n,h,6);break;case 8:dh(),ue=6;break t;default:throw Error(s(462))}}qE();break}catch(G){Mp(t,G)}while(!0);return Di=la=null,q.H=o,q.A=f,Gt=a,Dt!==null?0:(Jt=null,xt=0,Gl(),ue)}function qE(){for(;Dt!==null&&!Ps();)xp(Dt)}function xp(t){var n=op(t.alternate,t,Ui);t.memoizedProps=t.pendingProps,n===null?Su(t):Dt=n}function Lp(t){var n=t,a=n.alternate;switch(n.tag){case 15:case 0:n=ep(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=ep(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:If(n);default:up(a,n),n=Dt=Um(n,Ui),n=op(a,n,Ui)}t.memoizedProps=t.pendingProps,n===null?Su(t):Dt=n}function ls(t,n,a,o){Di=la=null,If(n),$a=null,bo=0;var f=n.return;try{if(NE(t,f,n,a,xt)){ue=1,mu(t,wn(a,t.current)),Dt=null;return}}catch(h){if(f!==null)throw Dt=f,h;ue=1,mu(t,wn(a,t.current)),Dt=null;return}n.flags&32768?(kt||o===1?t=!0:is||(xt&536870912)!==0?t=!1:(or=t=!0,(o===2||o===9||o===3||o===6)&&(o=Vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Up(n,t)):Su(n)}function Su(t){var n=t;do{if((n.flags&32768)!==0){Up(n,or);return}t=n.return;var a=xE(n.alternate,n,Ui);if(a!==null){Dt=a;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);ue===0&&(ue=5)}function Up(t,n){do{var a=LE(t.alternate,t);if(a!==null){a.flags&=32767,Dt=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=a}while(t!==null);ue=6,Dt=null}function Pp(t,n,a,o,f,h,_,T,w){t.cancelPendingCommit=null;do bu();while(ze!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===t.current)throw Error(s(177));if(h=n.lanes|n.childLanes,h|=af,qs(t,a,h,_,T,w),t===Jt&&(Dt=Jt=null,xt=0),as=n,cr=t,ss=a,ch=h,fh=f,Cp=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,QE(Ur,function(){return jp(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=q.T,q.T=null,f=nt.p,nt.p=2,_=Gt,Gt|=4;try{UE(t,n,a)}finally{Gt=_,nt.p=f,q.T=o}}ze=1,zp(),kp(),Bp()}}function zp(){if(ze===1){ze=0;var t=cr,n=as,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var o=nt.p;nt.p=2;var f=Gt;Gt|=4;try{Ep(n,t);var h=Ch,_=Rm(t.containerInfo),T=h.focusedElem,w=h.selectionRange;if(_!==T&&T&&T.ownerDocument&&wm(T.ownerDocument.documentElement,T)){if(w!==null&&$c(T)){var z=w.start,G=w.end;if(G===void 0&&(G=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(G,T.value.length);else{var Q=T.ownerDocument||document,B=Q&&Q.defaultView||window;if(B.getSelection){var H=B.getSelection(),pt=T.textContent.length,mt=Math.min(w.start,pt),Kt=w.end===void 0?mt:Math.min(w.end,pt);!H.extend&&mt>Kt&&(_=Kt,Kt=mt,mt=_);var x=bm(T,mt),N=bm(T,Kt);if(x&&N&&(H.rangeCount!==1||H.anchorNode!==x.node||H.anchorOffset!==x.offset||H.focusNode!==N.node||H.focusOffset!==N.offset)){var P=Q.createRange();P.setStart(x.node,x.offset),H.removeAllRanges(),mt>Kt?(H.addRange(P),H.extend(N.node,N.offset)):(P.setEnd(N.node,N.offset),H.addRange(P))}}}}for(Q=[],H=T;H=H.parentNode;)H.nodeType===1&&Q.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Q.length;T++){var F=Q[T];F.element.scrollLeft=F.left,F.element.scrollTop=F.top}}Uu=!!Rh,Ch=Rh=null}finally{Gt=f,nt.p=o,q.T=a}}t.current=n,ze=2}}function kp(){if(ze===2){ze=0;var t=cr,n=as,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var o=nt.p;nt.p=2;var f=Gt;Gt|=4;try{pp(t,n.alternate,n)}finally{Gt=f,nt.p=o,q.T=a}}ze=3}}function Bp(){if(ze===4||ze===3){ze=0,_l();var t=cr,n=as,a=ss,o=Cp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,as=cr=null,Hp(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(ur=null),wa(a),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(oe,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=q.T,f=nt.p,nt.p=2,q.T=null;try{for(var h=t.onRecoverableError,_=0;_<o.length;_++){var T=o[_];h(T.value,{componentStack:T.stack})}}finally{q.T=n,nt.p=f}}(ss&3)!==0&&bu(),ri(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===hh?Oo++:(Oo=0,hh=t):Oo=0,xo(0)}}function Hp(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,ho(n)))}function bu(t){return zp(),kp(),Bp(),jp()}function jp(){if(ze!==5)return!1;var t=cr,n=ch;ch=0;var a=wa(ss),o=q.T,f=nt.p;try{nt.p=32>a?32:a,q.T=null,a=fh,fh=null;var h=cr,_=ss;if(ze=0,as=cr=null,ss=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,wp(h.current),Ap(h,h.current,_,a),Gt=T,xo(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(oe,h)}catch{}return!0}finally{nt.p=f,q.T=o,Hp(t,n)}}function qp(t,n,a){n=wn(a,n),n=Gf(t.stateNode,n,2),t=tr(t,n,2),t!==null&&(mi(t,2),ri(t))}function Zt(t,n,a){if(t.tag===3)qp(t,t,a);else for(;n!==null;){if(n.tag===3){qp(n,t,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(ur===null||!ur.has(o))){t=wn(a,t),a=Qg(2),o=tr(n,a,2),o!==null&&(Xg(a,o,n,t),mi(o,2),ri(o));break}}n=n.return}}function ph(t,n,a){var o=t.pingCache;if(o===null){o=t.pingCache=new kE;var f=new Set;o.set(n,f)}else f=o.get(n),f===void 0&&(f=new Set,o.set(n,f));f.has(a)||(sh=!0,f.add(a),t=GE.bind(null,t,n,a),n.then(t,t))}function GE(t,n,a){var o=t.pingCache;o!==null&&o.delete(n),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Jt===t&&(xt&a)===a&&(ue===4||ue===3&&(xt&62914560)===xt&&300>_n()-uh?(Gt&2)===0&&os(t,0):oh|=a,rs===xt&&(rs=0)),ri(t)}function Gp(t,n){n===0&&(n=js()),t=qa(t,n),t!==null&&(mi(t,n),ri(t))}function FE(t){var n=t.memoizedState,a=0;n!==null&&(a=n.retryLane),Gp(t,a)}function YE(t,n){var a=0;switch(t.tag){case 13:var o=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Gp(t,a)}function QE(t,n){return xr(t,n)}var wu=null,us=null,yh=!1,Ru=!1,vh=!1,ga=0;function ri(t){t!==us&&t.next===null&&(us===null?wu=us=t:us=us.next=t),Ru=!0,yh||(yh=!0,KE())}function xo(t,n){if(!vh&&Ru){vh=!0;do for(var a=!1,o=wu;o!==null;){if(t!==0){var f=o.pendingLanes;if(f===0)var h=0;else{var _=o.suspendedLanes,T=o.pingedLanes;h=(1<<31-qe(42|t)+1)-1,h&=f&~(_&~T),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,Xp(o,h))}else h=xt,h=ba(o,o===Jt?h:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(h&3)===0||Br(o,h)||(a=!0,Xp(o,h));o=o.next}while(a);vh=!1}}function XE(){Fp()}function Fp(){Ru=yh=!1;var t=0;ga!==0&&(iT()&&(t=ga),ga=0);for(var n=_n(),a=null,o=wu;o!==null;){var f=o.next,h=Yp(o,n);h===0?(o.next=null,a===null?wu=f:a.next=f,f===null&&(us=a)):(a=o,(t!==0||(h&3)!==0)&&(Ru=!0)),o=f}xo(t)}function Yp(t,n){for(var a=t.suspendedLanes,o=t.pingedLanes,f=t.expirationTimes,h=t.pendingLanes&-62914561;0<h;){var _=31-qe(h),T=1<<_,w=f[_];w===-1?((T&a)===0||(T&o)!==0)&&(f[_]=Bs(T,n)):w<=n&&(t.expiredLanes|=T),h&=~T}if(n=Jt,a=xt,a=ba(t,t===n?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===n&&(Ft===2||Ft===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&Lr(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Br(t,a)){if(n=a&-a,n===t.callbackPriority)return n;switch(o!==null&&Lr(o),wa(a)){case 2:case 8:a=Aa;break;case 32:a=Ur;break;case 268435456:a=Sa;break;default:a=Ur}return o=Qp.bind(null,t),a=xr(a,o),t.callbackPriority=n,t.callbackNode=a,n}return o!==null&&o!==null&&Lr(o),t.callbackPriority=2,t.callbackNode=null,2}function Qp(t,n){if(ze!==0&&ze!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(bu()&&t.callbackNode!==a)return null;var o=xt;return o=ba(t,t===Jt?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(Vp(t,o,n),Yp(t,_n()),t.callbackNode!=null&&t.callbackNode===a?Qp.bind(null,t):null)}function Xp(t,n){if(bu())return null;Vp(t,n,!0)}function KE(){aT(function(){(Gt&6)!==0?xr(zs,XE):Fp()})}function _h(){return ga===0&&(ga=Hs()),ga}function Kp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ma(""+t)}function Zp(t,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,t.id&&a.setAttribute("form",t.id),n.parentNode.insertBefore(a,n),t=new FormData(t),a.parentNode.removeChild(a),t}function ZE(t,n,a,o,f){if(n==="submit"&&a&&a.stateNode===f){var h=Kp((f[me]||null).action),_=o.submitter;_&&(n=(n=_[me]||null)?Kp(n.formAction):_.getAttribute("formAction"),n!==null&&(h=n,_=null));var T=new Na("action","action",null,o,f);t.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ga!==0){var w=_?Zp(f,_):new FormData(f);kf(a,{pending:!0,data:w,method:f.method,action:h},null,w)}}else typeof h=="function"&&(T.preventDefault(),w=_?Zp(f,_):new FormData(f),kf(a,{pending:!0,data:w,method:f.method,action:h},h,w))},currentTarget:f}]})}}for(var Eh=0;Eh<rf.length;Eh++){var Th=rf[Eh],WE=Th.toLowerCase(),JE=Th[0].toUpperCase()+Th.slice(1);Un(WE,"on"+JE)}Un(Vm,"onAnimationEnd"),Un(Im,"onAnimationIteration"),Un(Mm,"onAnimationStart"),Un("dblclick","onDoubleClick"),Un("focusin","onFocus"),Un("focusout","onBlur"),Un(gE,"onTransitionRun"),Un(pE,"onTransitionStart"),Un(yE,"onTransitionCancel"),Un(Nm,"onTransitionEnd"),pi("onMouseEnter",["mouseout","mouseover"]),pi("onMouseLeave",["mouseout","mouseover"]),pi("onPointerEnter",["pointerout","pointerover"]),pi("onPointerLeave",["pointerout","pointerover"]),xn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xn("onBeforeInput",["compositionend","keypress","textInput","paste"]),xn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$E=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Lo));function Wp(t,n){n=(n&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],f=o.event;o=o.listeners;t:{var h=void 0;if(n)for(var _=o.length-1;0<=_;_--){var T=o[_],w=T.instance,z=T.currentTarget;if(T=T.listener,w!==h&&f.isPropagationStopped())break t;h=T,f.currentTarget=z;try{h(f)}catch(G){du(G)}f.currentTarget=null,h=w}else for(_=0;_<o.length;_++){if(T=o[_],w=T.instance,z=T.currentTarget,T=T.listener,w!==h&&f.isPropagationStopped())break t;h=T,f.currentTarget=z;try{h(f)}catch(G){du(G)}f.currentTarget=null,h=w}}}}function Vt(t,n){var a=n[Fs];a===void 0&&(a=n[Fs]=new Set);var o=t+"__bubble";a.has(o)||(Jp(n,t,2,!1),a.add(o))}function Ah(t,n,a){var o=0;n&&(o|=4),Jp(a,t,o,n)}var Cu="_reactListening"+Math.random().toString(36).slice(2);function Sh(t){if(!t[Cu]){t[Cu]=!0,Ys.forEach(function(a){a!=="selectionchange"&&($E.has(a)||Ah(a,!1,t),Ah(a,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[Cu]||(n[Cu]=!0,Ah("selectionchange",!1,n))}}function Jp(t,n,a,o){switch(Ay(n)){case 2:var f=RT;break;case 8:f=CT;break;default:f=Ph}a=f.bind(null,n,a,t),f=void 0,!Sn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),o?f!==void 0?t.addEventListener(n,a,{capture:!0,passive:f}):t.addEventListener(n,a,!0):f!==void 0?t.addEventListener(n,a,{passive:f}):t.addEventListener(n,a,!1)}function bh(t,n,a,o,f){var h=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var T=o.stateNode.containerInfo;if(T===f)break;if(_===4)for(_=o.return;_!==null;){var w=_.tag;if((w===3||w===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;T!==null;){if(_=gi(T),_===null)return;if(w=_.tag,w===5||w===6||w===26||w===27){o=h=_;continue t}T=T.parentNode}}o=o.return}Vl(function(){var z=h,G=An(a),Q=[];t:{var B=Om.get(t);if(B!==void 0){var H=Na,pt=t;switch(t){case"keypress":if(Kn(a)===0)break t;case"keydown":case"keyup":H=za;break;case"focusin":pt="focus",H=La;break;case"focusout":pt="blur",H=La;break;case"beforeblur":case"afterblur":H=La;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=bn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=Kc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Pl;break;case Vm:case Im:case Mm:H=Ua;break;case Nm:H=kl;break;case"scroll":case"scrollend":H=Il;break;case"wheel":H=ka;break;case"copy":case"cut":case"paste":H=Pa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=ro;break;case"toggle":case"beforetoggle":H=Hl}var mt=(n&4)!==0,Kt=!mt&&(t==="scroll"||t==="scrollend"),x=mt?B!==null?B+"Capture":null:B;mt=[];for(var N=z,P;N!==null;){var F=N;if(P=F.stateNode,F=F.tag,F!==5&&F!==26&&F!==27||P===null||x===null||(F=Xr(N,x),F!=null&&mt.push(Uo(N,F,P))),Kt)break;N=N.return}0<mt.length&&(B=new H(B,pt,null,a,G),Q.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",B&&a!==_i&&(pt=a.relatedTarget||a.fromElement)&&(gi(pt)||pt[En]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(pt=a.relatedTarget||a.toElement,H=z,pt=pt?gi(pt):null,pt!==null&&(Kt=c(pt),mt=pt.tag,pt!==Kt||mt!==5&&mt!==27&&mt!==6)&&(pt=null)):(H=null,pt=z),H!==pt)){if(mt=bn,F="onMouseLeave",x="onMouseEnter",N="mouse",(t==="pointerout"||t==="pointerover")&&(mt=ro,F="onPointerLeave",x="onPointerEnter",N="pointer"),Kt=H==null?B:Fn(H),P=pt==null?B:Fn(pt),B=new mt(F,N+"leave",H,a,G),B.target=Kt,B.relatedTarget=P,F=null,gi(G)===z&&(mt=new mt(x,N+"enter",pt,a,G),mt.target=P,mt.relatedTarget=Kt,F=mt),Kt=F,H&&pt)e:{for(mt=H,x=pt,N=0,P=mt;P;P=cs(P))N++;for(P=0,F=x;F;F=cs(F))P++;for(;0<N-P;)mt=cs(mt),N--;for(;0<P-N;)x=cs(x),P--;for(;N--;){if(mt===x||x!==null&&mt===x.alternate)break e;mt=cs(mt),x=cs(x)}mt=null}else mt=null;H!==null&&$p(Q,B,H,mt,!1),pt!==null&&Kt!==null&&$p(Q,Kt,pt,mt,!0)}}t:{if(B=z?Fn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var ot=vm;else if(Se(B))if(_m)ot=hE;else{ot=cE;var Ct=uE}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ws(z.elementType)&&(ot=vm):ot=fE;if(ot&&(ot=ot(t,z))){bi(Q,ot,a,G);break t}Ct&&Ct(t,B,z),t==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Ki(B,"number",B.value)}switch(Ct=z?Fn(z):window,t){case"focusin":(Se(Ct)||Ct.contentEditable==="true")&&(Ba=Ct,tf=z,oo=null);break;case"focusout":oo=tf=Ba=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,Cm(Q,a,G);break;case"selectionchange":if(mE)break;case"keydown":case"keyup":Cm(Q,a,G)}var ut;if(Jn)t:{switch(t){case"compositionstart":var gt="onCompositionStart";break t;case"compositionend":gt="onCompositionEnd";break t;case"compositionupdate":gt="onCompositionUpdate";break t}gt=void 0}else Nt?j(t,a)&&(gt="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(gt="onCompositionStart");gt&&(v&&a.locale!=="ko"&&(Nt||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Nt&&(ut=$s()):(Xn=G,Zi="value"in Xn?Xn.value:Xn.textContent,Nt=!0)),Ct=Du(z,gt),0<Ct.length&&(gt=new no(gt,t,null,a,G),Q.push({event:gt,listeners:Ct}),ut?gt.data=ut:(ut=tt(a),ut!==null&&(gt.data=ut)))),(ut=m?Ae(t,a):Ot(t,a))&&(gt=Du(z,"onBeforeInput"),0<gt.length&&(Ct=new no("onBeforeInput","beforeinput",null,a,G),Q.push({event:Ct,listeners:gt}),Ct.data=ut)),ZE(Q,t,z,a,G)}Wp(Q,n)})}function Uo(t,n,a){return{instance:t,listener:n,currentTarget:a}}function Du(t,n){for(var a=n+"Capture",o=[];t!==null;){var f=t,h=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||h===null||(f=Xr(t,a),f!=null&&o.unshift(Uo(t,f,h)),f=Xr(t,n),f!=null&&o.push(Uo(t,f,h))),t.tag===3)return o;t=t.return}return[]}function cs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function $p(t,n,a,o,f){for(var h=n._reactName,_=[];a!==null&&a!==o;){var T=a,w=T.alternate,z=T.stateNode;if(T=T.tag,w!==null&&w===o)break;T!==5&&T!==26&&T!==27||z===null||(w=z,f?(z=Xr(a,h),z!=null&&_.unshift(Uo(a,z,w))):f||(z=Xr(a,h),z!=null&&_.push(Uo(a,z,w)))),a=a.return}_.length!==0&&t.push({event:n,listeners:_})}var tT=/\r\n?/g,eT=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace(tT,`
`).replace(eT,"")}function ey(t,n){return n=ty(n),ty(t)===n}function Vu(){}function Xt(t,n,a,o,f,h){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Tn(t,""+o);break;case"className":Yn(t,"class",o);break;case"tabIndex":Yn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Yn(t,a,o);break;case"style":Zs(t,o,h);break;case"data":if(n!=="object"){Yn(t,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ma(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Xt(t,n,"name",f.name,f,null),Xt(t,n,"formEncType",f.formEncType,f,null),Xt(t,n,"formMethod",f.formMethod,f,null),Xt(t,n,"formTarget",f.formTarget,f,null)):(Xt(t,n,"encType",f.encType,f,null),Xt(t,n,"method",f.method,f,null),Xt(t,n,"target",f.target,f,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ma(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Vu);break;case"onScroll":o!=null&&Vt("scroll",t);break;case"onScrollEnd":o!=null&&Vt("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ma(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Vt("beforetoggle",t),Vt("toggle",t),Xi(t,"popover",o);break;case"xlinkActuate":Le(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Le(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Le(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Le(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Le(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Le(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Le(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Le(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Le(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Xi(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Qc.get(a)||a,Xi(t,a,o))}}function wh(t,n,a,o,f,h){switch(a){case"style":Zs(t,o,h);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?Tn(t,o):(typeof o=="number"||typeof o=="bigint")&&Tn(t,""+o);break;case"onScroll":o!=null&&Vt("scroll",t);break;case"onScrollEnd":o!=null&&Vt("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Vu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),n=a.slice(2,f?a.length-7:void 0),h=t[me]||null,h=h!=null?h[a]:null,typeof h=="function"&&t.removeEventListener(n,h,f),typeof o=="function")){typeof h!="function"&&h!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(n,o,f);break t}a in t?t[a]=o:o===!0?t.setAttribute(a,""):Xi(t,a,o)}}}function ke(t,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",t),Vt("load",t);var o=!1,f=!1,h;for(h in a)if(a.hasOwnProperty(h)){var _=a[h];if(_!=null)switch(h){case"src":o=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,h,_,a,null)}}f&&Xt(t,n,"srcSet",a.srcSet,a,null),o&&Xt(t,n,"src",a.src,a,null);return;case"input":Vt("invalid",t);var T=h=_=f=null,w=null,z=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":f=G;break;case"type":_=G;break;case"checked":w=G;break;case"defaultChecked":z=G;break;case"value":h=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Xt(t,n,o,G,a,null)}}Fr(t,h,T,w,z,_,f,!1),Ia(t);return;case"select":Vt("invalid",t),o=_=h=null;for(f in a)if(a.hasOwnProperty(f)&&(T=a[f],T!=null))switch(f){case"value":h=T;break;case"defaultValue":_=T;break;case"multiple":o=T;default:Xt(t,n,f,T,a,null)}n=h,a=_,t.multiple=!!o,n!=null?vi(t,!!o,n,!1):a!=null&&vi(t,!!o,a,!0);return;case"textarea":Vt("invalid",t),h=f=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(T=a[_],T!=null))switch(_){case"value":o=T;break;case"defaultValue":f=T;break;case"children":h=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Xt(t,n,_,T,a,null)}Yr(t,o,f,h),Ia(t);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(o=a[w],o!=null))switch(w){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Xt(t,n,w,o,a,null)}return;case"dialog":Vt("beforetoggle",t),Vt("toggle",t),Vt("cancel",t),Vt("close",t);break;case"iframe":case"object":Vt("load",t);break;case"video":case"audio":for(o=0;o<Lo.length;o++)Vt(Lo[o],t);break;case"image":Vt("error",t),Vt("load",t);break;case"details":Vt("toggle",t);break;case"embed":case"source":case"link":Vt("error",t),Vt("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(o=a[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Xt(t,n,z,o,a,null)}return;default:if(Ws(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&wh(t,n,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Xt(t,n,T,o,a,null))}function nT(t,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,h=null,_=null,T=null,w=null,z=null,G=null;for(H in a){var Q=a[H];if(a.hasOwnProperty(H)&&Q!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":w=Q;default:o.hasOwnProperty(H)||Xt(t,n,H,null,o,Q)}}for(var B in o){var H=o[B];if(Q=a[B],o.hasOwnProperty(B)&&(H!=null||Q!=null))switch(B){case"type":h=H;break;case"name":f=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":_=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:H!==Q&&Xt(t,n,B,H,o,Q)}}ln(t,_,T,w,z,G,h,f);return;case"select":H=_=T=B=null;for(h in a)if(w=a[h],a.hasOwnProperty(h)&&w!=null)switch(h){case"value":break;case"multiple":H=w;default:o.hasOwnProperty(h)||Xt(t,n,h,null,o,w)}for(f in o)if(h=o[f],w=a[f],o.hasOwnProperty(f)&&(h!=null||w!=null))switch(f){case"value":B=h;break;case"defaultValue":T=h;break;case"multiple":_=h;default:h!==w&&Xt(t,n,f,h,o,w)}n=T,a=_,o=H,B!=null?vi(t,!!a,B,!1):!!o!=!!a&&(n!=null?vi(t,!!a,n,!0):vi(t,!!a,a?[]:"",!1));return;case"textarea":H=B=null;for(T in a)if(f=a[T],a.hasOwnProperty(T)&&f!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Xt(t,n,T,null,o,f)}for(_ in o)if(f=o[_],h=a[_],o.hasOwnProperty(_)&&(f!=null||h!=null))switch(_){case"value":B=f;break;case"defaultValue":H=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==h&&Xt(t,n,_,f,o,h)}Yt(t,B,H);return;case"option":for(var pt in a)if(B=a[pt],a.hasOwnProperty(pt)&&B!=null&&!o.hasOwnProperty(pt))switch(pt){case"selected":t.selected=!1;break;default:Xt(t,n,pt,null,o,B)}for(w in o)if(B=o[w],H=a[w],o.hasOwnProperty(w)&&B!==H&&(B!=null||H!=null))switch(w){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Xt(t,n,w,B,o,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in a)B=a[mt],a.hasOwnProperty(mt)&&B!=null&&!o.hasOwnProperty(mt)&&Xt(t,n,mt,null,o,B);for(z in o)if(B=o[z],H=a[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(s(137,n));break;default:Xt(t,n,z,B,o,H)}return;default:if(Ws(n)){for(var Kt in a)B=a[Kt],a.hasOwnProperty(Kt)&&B!==void 0&&!o.hasOwnProperty(Kt)&&wh(t,n,Kt,void 0,o,B);for(G in o)B=o[G],H=a[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||wh(t,n,G,B,o,H);return}}for(var x in a)B=a[x],a.hasOwnProperty(x)&&B!=null&&!o.hasOwnProperty(x)&&Xt(t,n,x,null,o,B);for(Q in o)B=o[Q],H=a[Q],!o.hasOwnProperty(Q)||B===H||B==null&&H==null||Xt(t,n,Q,B,o,H)}var Rh=null,Ch=null;function Iu(t){return t.nodeType===9?t:t.ownerDocument}function ny(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iy(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Dh(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Vh=null;function iT(){var t=window.event;return t&&t.type==="popstate"?t===Vh?!1:(Vh=t,!0):(Vh=null,!1)}var ry=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,aT=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(sT)}:ry;function sT(t){setTimeout(function(){throw t})}function hr(t){return t==="head"}function sy(t,n){var a=n,o=0,f=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(0<o&&8>o){a=o;var _=t.ownerDocument;if(a&1&&Po(_.documentElement),a&2&&Po(_.body),a&4)for(a=_.head,Po(a),_=a.firstChild;_;){var T=_.nextSibling,w=_.nodeName;_[Hr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=T}}if(f===0){t.removeChild(h),Fo(n);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:o=a.charCodeAt(0)-48;else o=0;a=h}while(a);Fo(n)}function Ih(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Ih(a),Qi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function oT(t,n,a,o){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[Hr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(h=t.getAttribute("rel"),h==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(h!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(h=t.getAttribute("src"),(h!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&h&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var h=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===h)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function lT(t,n,a){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Mh(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function uT(t,n){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function zn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Nh=null;function oy(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return t;n--}else a==="/$"&&n++}t=t.previousSibling}return null}function ly(t,n,a){switch(n=Iu(a),t){case"html":if(t=n.documentElement,!t)throw Error(s(452));return t;case"head":if(t=n.head,!t)throw Error(s(453));return t;case"body":if(t=n.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Po(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Qi(t)}var Mn=new Map,uy=new Set;function Mu(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Pi=nt.d;nt.d={f:cT,r:fT,D:hT,C:dT,L:mT,m:gT,X:yT,S:pT,M:vT};function cT(){var t=Pi.f(),n=Au();return t||n}function fT(t){var n=Gn(t);n!==null&&n.tag===5&&n.type==="form"?Vg(n):Pi.r(t)}var fs=typeof document>"u"?null:document;function cy(t,n,a){var o=fs;if(o&&typeof n=="string"&&n){var f=ge(n);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),uy.has(f)||(uy.add(f),t={rel:t,crossOrigin:a,href:n},o.querySelector(f)===null&&(n=o.createElement("link"),ke(n,"link",t),ce(n),o.head.appendChild(n)))}}function hT(t){Pi.D(t),cy("dns-prefetch",t,null)}function dT(t,n){Pi.C(t,n),cy("preconnect",t,n)}function mT(t,n,a){Pi.L(t,n,a);var o=fs;if(o&&t&&n){var f='link[rel="preload"][as="'+ge(n)+'"]';n==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+ge(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+ge(a.imageSizes)+'"]')):f+='[href="'+ge(t)+'"]';var h=f;switch(n){case"style":h=hs(t);break;case"script":h=ds(t)}Mn.has(h)||(t=E({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:t,as:n},a),Mn.set(h,t),o.querySelector(f)!==null||n==="style"&&o.querySelector(zo(h))||n==="script"&&o.querySelector(ko(h))||(n=o.createElement("link"),ke(n,"link",t),ce(n),o.head.appendChild(n)))}}function gT(t,n){Pi.m(t,n);var a=fs;if(a&&t){var o=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+ge(o)+'"][href="'+ge(t)+'"]',h=f;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=ds(t)}if(!Mn.has(h)&&(t=E({rel:"modulepreload",href:t},n),Mn.set(h,t),a.querySelector(f)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(ko(h)))return}o=a.createElement("link"),ke(o,"link",t),ce(o),a.head.appendChild(o)}}}function pT(t,n,a){Pi.S(t,n,a);var o=fs;if(o&&t){var f=Ke(o).hoistableStyles,h=hs(t);n=n||"default";var _=f.get(h);if(!_){var T={loading:0,preload:null};if(_=o.querySelector(zo(h)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":n},a),(a=Mn.get(h))&&Oh(t,a);var w=_=o.createElement("link");ce(w),ke(w,"link",t),w._p=new Promise(function(z,G){w.onload=z,w.onerror=G}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Nu(_,n,o)}_={type:"stylesheet",instance:_,count:1,state:T},f.set(h,_)}}}function yT(t,n){Pi.X(t,n);var a=fs;if(a&&t){var o=Ke(a).hoistableScripts,f=ds(t),h=o.get(f);h||(h=a.querySelector(ko(f)),h||(t=E({src:t,async:!0},n),(n=Mn.get(f))&&xh(t,n),h=a.createElement("script"),ce(h),ke(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function vT(t,n){Pi.M(t,n);var a=fs;if(a&&t){var o=Ke(a).hoistableScripts,f=ds(t),h=o.get(f);h||(h=a.querySelector(ko(f)),h||(t=E({src:t,async:!0,type:"module"},n),(n=Mn.get(f))&&xh(t,n),h=a.createElement("script"),ce(h),ke(h,"link",t),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},o.set(f,h))}}function fy(t,n,a,o){var f=(f=_t.current)?Mu(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=hs(a.href),a=Ke(f).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=hs(a.href);var h=Ke(f).hoistableStyles,_=h.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(t,_),(h=f.querySelector(zo(t)))&&!h._p&&(_.instance=h,_.state.loading=5),Mn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Mn.set(t,a),h||_T(f,t,a,_.state))),n&&o===null)throw Error(s(528,""));return _}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ds(a),a=Ke(f).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function hs(t){return'href="'+ge(t)+'"'}function zo(t){return'link[rel="stylesheet"]['+t+"]"}function hy(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function _T(t,n,a,o){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=t.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ke(n,"link",a),ce(n),t.head.appendChild(n))}function ds(t){return'[src="'+ge(t)+'"]'}function ko(t){return"script[async]"+t}function dy(t,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=t.querySelector('style[data-href~="'+ge(a.href)+'"]');if(o)return n.instance=o,ce(o),o;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),ce(o),ke(o,"style",f),Nu(o,a.precedence,t),n.instance=o;case"stylesheet":f=hs(a.href);var h=t.querySelector(zo(f));if(h)return n.state.loading|=4,n.instance=h,ce(h),h;o=hy(a),(f=Mn.get(f))&&Oh(o,f),h=(t.ownerDocument||t).createElement("link"),ce(h);var _=h;return _._p=new Promise(function(T,w){_.onload=T,_.onerror=w}),ke(h,"link",o),n.state.loading|=4,Nu(h,a.precedence,t),n.instance=h;case"script":return h=ds(a.src),(f=t.querySelector(ko(h)))?(n.instance=f,ce(f),f):(o=a,(f=Mn.get(h))&&(o=E({},a),xh(o,f)),t=t.ownerDocument||t,f=t.createElement("script"),ce(f),ke(f,"link",o),t.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,Nu(o,a.precedence,t));return n.instance}function Nu(t,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=o.length?o[o.length-1]:null,h=f,_=0;_<o.length;_++){var T=o[_];if(T.dataset.precedence===n)h=T;else if(h!==f)break}h?h.parentNode.insertBefore(t,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(t,n.firstChild))}function Oh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function xh(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Ou=null;function my(t,n,a){if(Ou===null){var o=new Map,f=Ou=new Map;f.set(a,o)}else f=Ou,o=f.get(a),o||(o=new Map,f.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var h=a[f];if(!(h[Hr]||h[Te]||t==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var _=h.getAttribute(n)||"";_=t+_;var T=o.get(_);T?T.push(h):o.set(_,[h])}}return o}function gy(t,n,a){t=t.ownerDocument||t,t.head.insertBefore(a,n==="title"?t.querySelector("head > title"):null)}function ET(t,n,a){if(a===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function py(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Bo=null;function TT(){}function AT(t,n,a){if(Bo===null)throw Error(s(475));var o=Bo;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var f=hs(a.href),h=t.querySelector(zo(f));if(h){t=h._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(o.count++,o=xu.bind(o),t.then(o,o)),n.state.loading|=4,n.instance=h,ce(h);return}h=t.ownerDocument||t,a=hy(a),(f=Mn.get(f))&&Oh(a,f),h=h.createElement("link"),ce(h);var _=h;_._p=new Promise(function(T,w){_.onload=T,_.onerror=w}),ke(h,"link",a),n.instance=h}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=xu.bind(o),t.addEventListener("load",n),t.addEventListener("error",n))}}function ST(){if(Bo===null)throw Error(s(475));var t=Bo;return t.stylesheets&&t.count===0&&Lh(t,t.stylesheets),0<t.count?function(n){var a=setTimeout(function(){if(t.stylesheets&&Lh(t,t.stylesheets),t.unsuspend){var o=t.unsuspend;t.unsuspend=null,o()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(a)}}:null}function xu(){if(this.count--,this.count===0){if(this.stylesheets)Lh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Lu=null;function Lh(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Lu=new Map,n.forEach(bT,t),Lu=null,xu.call(t))}function bT(t,n){if(!(n.state.loading&4)){var a=Lu.get(t);if(a)var o=a.get(null);else{a=new Map,Lu.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<f.length;h++){var _=f[h];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}f=n.instance,_=f.getAttribute("data-precedence"),h=a.get(_)||o,h===o&&a.set(null,f),a.set(_,f),this.count++,o=xu.bind(this),f.addEventListener("load",o),f.addEventListener("error",o),h?h.parentNode.insertBefore(f,h.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),n.state.loading|=4}}var Ho={$$typeof:at,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function wT(t,n,a,o,f,h,_,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=o,this.onUncaughtError=f,this.onCaughtError=h,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function yy(t,n,a,o,f,h,_,T,w,z,G,Q){return t=new wT(t,n,a,_,T,w,z,Q),n=1,h===!0&&(n|=24),h=cn(3,null,null,n),t.current=h,h.stateNode=t,n=pf(),n.refCount++,t.pooledCache=n,n.refCount++,h.memoizedState={element:o,isDehydrated:a,cache:n},Ef(h),t}function vy(t){return t?(t=Ga,t):Ga}function _y(t,n,a,o,f,h){f=vy(f),o.context===null?o.context=f:o.pendingContext=f,o=$i(n),o.payload={element:a},h=h===void 0?null:h,h!==null&&(o.callback=h),a=tr(t,o,n),a!==null&&(gn(a,t,n),yo(a,t,n))}function Ey(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<n?a:n}}function Uh(t,n){Ey(t,n),(t=t.alternate)&&Ey(t,n)}function Ty(t){if(t.tag===13){var n=qa(t,67108864);n!==null&&gn(n,t,67108864),Uh(t,67108864)}}var Uu=!0;function RT(t,n,a,o){var f=q.T;q.T=null;var h=nt.p;try{nt.p=2,Ph(t,n,a,o)}finally{nt.p=h,q.T=f}}function CT(t,n,a,o){var f=q.T;q.T=null;var h=nt.p;try{nt.p=8,Ph(t,n,a,o)}finally{nt.p=h,q.T=f}}function Ph(t,n,a,o){if(Uu){var f=zh(o);if(f===null)bh(t,n,o,Pu,a),Sy(t,o);else if(VT(f,t,n,a,o))o.stopPropagation();else if(Sy(t,o),n&4&&-1<DT.indexOf(t)){for(;f!==null;){var h=Gn(f);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var _=On(h.pendingLanes);if(_!==0){var T=h;for(T.pendingLanes|=2,T.entangledLanes|=2;_;){var w=1<<31-qe(_);T.entanglements[1]|=w,_&=~w}ri(h),(Gt&6)===0&&(Eu=_n()+500,xo(0))}}break;case 13:T=qa(h,2),T!==null&&gn(T,h,2),Au(),Uh(h,2)}if(h=zh(o),h===null&&bh(t,n,o,Pu,a),h===f)break;f=h}f!==null&&o.stopPropagation()}else bh(t,n,o,null,a)}}function zh(t){return t=An(t),kh(t)}var Pu=null;function kh(t){if(Pu=null,t=gi(t),t!==null){var n=c(t);if(n===null)t=null;else{var a=n.tag;if(a===13){if(t=d(n),t!==null)return t;t=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Pu=t,null}function Ay(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hc()){case zs:return 2;case Aa:return 8;case Ur:case jc:return 32;case Sa:return 268435456;default:return 32}default:return 32}}var Bh=!1,dr=null,mr=null,gr=null,jo=new Map,qo=new Map,pr=[],DT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sy(t,n){switch(t){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":mr=null;break;case"mouseover":case"mouseout":gr=null;break;case"pointerover":case"pointerout":jo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":qo.delete(n.pointerId)}}function Go(t,n,a,o,f,h){return t===null||t.nativeEvent!==h?(t={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:h,targetContainers:[f]},n!==null&&(n=Gn(n),n!==null&&Ty(n)),t):(t.eventSystemFlags|=o,n=t.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),t)}function VT(t,n,a,o,f){switch(n){case"focusin":return dr=Go(dr,t,n,a,o,f),!0;case"dragenter":return mr=Go(mr,t,n,a,o,f),!0;case"mouseover":return gr=Go(gr,t,n,a,o,f),!0;case"pointerover":var h=f.pointerId;return jo.set(h,Go(jo.get(h)||null,t,n,a,o,f)),!0;case"gotpointercapture":return h=f.pointerId,qo.set(h,Go(qo.get(h)||null,t,n,a,o,f)),!0}return!1}function by(t){var n=gi(t.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){t.blockedOn=n,Al(t.priority,function(){if(a.tag===13){var o=mn();o=Gi(o);var f=qa(a,o);f!==null&&gn(f,a,o),Uh(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zu(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var a=zh(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);_i=o,a.target.dispatchEvent(o),_i=null}else return n=Gn(a),n!==null&&Ty(n),t.blockedOn=a,!1;n.shift()}return!0}function wy(t,n,a){zu(t)&&a.delete(n)}function IT(){Bh=!1,dr!==null&&zu(dr)&&(dr=null),mr!==null&&zu(mr)&&(mr=null),gr!==null&&zu(gr)&&(gr=null),jo.forEach(wy),qo.forEach(wy)}function ku(t,n){t.blockedOn===n&&(t.blockedOn=null,Bh||(Bh=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,IT)))}var Bu=null;function Ry(t){Bu!==t&&(Bu=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Bu===t&&(Bu=null);for(var n=0;n<t.length;n+=3){var a=t[n],o=t[n+1],f=t[n+2];if(typeof o!="function"){if(kh(o||a)===null)continue;break}var h=Gn(a);h!==null&&(t.splice(n,3),n-=3,kf(h,{pending:!0,data:f,method:a.method,action:o},o,f))}}))}function Fo(t){function n(w){return ku(w,t)}dr!==null&&ku(dr,t),mr!==null&&ku(mr,t),gr!==null&&ku(gr,t),jo.forEach(n),qo.forEach(n);for(var a=0;a<pr.length;a++){var o=pr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<pr.length&&(a=pr[0],a.blockedOn===null);)by(a),a.blockedOn===null&&pr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var f=a[o],h=a[o+1],_=f[me]||null;if(typeof h=="function")_||Ry(a);else if(_){var T=null;if(h&&h.hasAttribute("formAction")){if(f=h,_=h[me]||null)T=_.formAction;else if(kh(f)!==null)continue}else T=_.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),Ry(a)}}}function Hh(t){this._internalRoot=t}Hu.prototype.render=Hh.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=mn();_y(a,o,t,n,null,null)},Hu.prototype.unmount=Hh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;_y(t.current,2,null,t,null,null),Au(),n[En]=null}};function Hu(t){this._internalRoot=t}Hu.prototype.unstable_scheduleHydration=function(t){if(t){var n=Fi();t={blockedOn:null,target:t,priority:n};for(var a=0;a<pr.length&&n!==0&&n<pr[a].priority;a++);pr.splice(a,0,t),a===0&&by(t)}};var Cy=e.version;if(Cy!=="19.1.0")throw Error(s(527,Cy,"19.1.0"));nt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var MT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{oe=ju.inject(MT),qt=ju}catch{}}return Qo.createRoot=function(t,n){if(!l(t))throw Error(s(299));var a=!1,o="",f=qg,h=Gg,_=Fg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(_=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=yy(t,1,!1,null,null,a,o,f,h,_,T,null),t[En]=n.current,Sh(t),new Hh(n)},Qo.hydrateRoot=function(t,n,a){if(!l(t))throw Error(s(299));var o=!1,f="",h=qg,_=Gg,T=Fg,w=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),n=yy(t,1,!0,n,a??null,o,f,h,_,T,w,z),n.context=vy(null),a=n.current,o=mn(),o=Gi(o),f=$i(o),f.callback=null,tr(a,f,o),a=o,n.current.lanes=a,mi(n,a),ri(n),t[En]=n.current,Sh(t),new Hu(n)},Qo.version="19.1.0",Qo}var Py;function HT(){if(Py)return Gh.exports;Py=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gh.exports=BT(),Gh.exports}var jT=HT();const qT=()=>{};var zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_=function(r){const e=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[i++]=l:l<2048?(e[i++]=l>>6|192,e[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[i++]=l>>18|240,e[i++]=l>>12&63|128,e[i++]=l>>6&63|128,e[i++]=l&63|128):(e[i++]=l>>12|224,e[i++]=l>>6&63|128,e[i++]=l&63|128)}return e},GT=function(r){const e=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];e[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],p=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const c=r[i++],d=r[i++];e[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return e.join("")},u_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,p=l+2<r.length,y=p?r[l+2]:0,E=c>>2,S=(c&3)<<4|g>>4;let D=(g&15)<<2|y>>6,k=y&63;p||(k=64,d||(D=64)),s.push(i[E],i[S],i[D],i[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(l_(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):GT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new FT;const D=c<<2|g>>4;if(s.push(D),y!==64){const k=g<<4&240|y>>2;if(s.push(k),S!==64){const Y=y<<6&192|S;s.push(Y)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class FT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const YT=function(r){const e=l_(r);return u_.encodeByteArray(e,!0)},oc=function(r){return YT(r).replace(/\./g,"")},QT=function(r){try{return u_.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=()=>XT().__FIREBASE_DEFAULTS__,ZT=()=>{if(typeof process>"u"||typeof zy>"u")return;const r=zy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},WT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&QT(r[1]);return e&&JSON.parse(e)},xd=()=>{try{return qT()||KT()||ZT()||WT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},JT=r=>{var e,i;return(i=(e=xd())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[r]},$T=r=>{const e=JT(r);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),s]:[e.substring(0,i),s]},c_=()=>{var r;return(r=xd())===null||r===void 0?void 0:r.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},r);return[oc(JSON.stringify(i)),oc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function iA(){var r;const e=(r=xd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rA(){return!iA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aA(){try{return typeof indexedDB=="object"}catch{return!1}}function sA(){return new Promise((r,e)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var c;e(((c=l.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oA="FirebaseError";class Ms extends Error{constructor(e,i,s){super(i),this.code=e,this.customData=s,this.name=oA,Object.setPrototypeOf(this,Ms.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,f_.prototype.create)}}class f_{constructor(e,i,s){this.service=e,this.serviceName=i,this.errors=s}create(e,...i){const s=i[0]||{},l=`${this.service}/${e}`,c=this.errors[e],d=c?lA(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Ms(l,g,s)}}function lA(r,e){return r.replace(uA,(i,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const uA=/\{\$([^}]+)}/g;function lc(r,e){if(r===e)return!0;const i=Object.keys(r),s=Object.keys(e);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=e[l];if(ky(c)&&ky(d)){if(!lc(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function ky(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ki(r){return r&&r._delegate?r._delegate:r}class el{constructor(e,i,s){this.name=e,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const s=new tA;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),l=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(c){if(l)return null;throw c}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hA(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(e,i){var s;const l=this.normalizeInstanceIdentifier(i),c=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;c.add(e),this.onInitCallbacks.set(l,c);const d=this.instances.get(l);return d&&e(d,l),()=>{c.delete(e)}}invokeOnInitCallbacks(e,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:fA(e),options:i}),this.instances.set(e,s),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function fA(r){return r===pa?void 0:r}function hA(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new cA(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ut||(Ut={}));const mA={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},gA=Ut.INFO,pA={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},yA=(r,e,...i)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=pA[e];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class h_{constructor(e){this.name=e,this._logLevel=gA,this._logHandler=yA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ut))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?mA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...e),this._logHandler(this,Ut.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...e),this._logHandler(this,Ut.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...e),this._logHandler(this,Ut.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...e),this._logHandler(this,Ut.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...e),this._logHandler(this,Ut.ERROR,...e)}}const vA=(r,e)=>e.some(i=>r instanceof i);let By,Hy;function _A(){return By||(By=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EA(){return Hy||(Hy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d_=new WeakMap,od=new WeakMap,m_=new WeakMap,Xh=new WeakMap,Ld=new WeakMap;function TA(r){const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Er(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&d_.set(i,r)}).catch(()=>{}),Ld.set(e,r),e}function AA(r){if(od.has(r))return;const e=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});od.set(r,e)}let ld={get(r,e,i){if(r instanceof IDBTransaction){if(e==="done")return od.get(r);if(e==="objectStoreNames")return r.objectStoreNames||m_.get(r);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Er(r[e])},set(r,e,i){return r[e]=i,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function SA(r){ld=r(ld)}function bA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const s=r.call(Kh(this),e,...i);return m_.set(s,e.sort?e.sort():[e]),Er(s)}:EA().includes(r)?function(...e){return r.apply(Kh(this),e),Er(d_.get(this))}:function(...e){return Er(r.apply(Kh(this),e))}}function wA(r){return typeof r=="function"?bA(r):(r instanceof IDBTransaction&&AA(r),vA(r,_A())?new Proxy(r,ld):r)}function Er(r){if(r instanceof IDBRequest)return TA(r);if(Xh.has(r))return Xh.get(r);const e=wA(r);return e!==r&&(Xh.set(r,e),Ld.set(e,r)),e}const Kh=r=>Ld.get(r);function RA(r,e,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,e),g=Er(d);return s&&d.addEventListener("upgradeneeded",p=>{s(Er(d.result),p.oldVersion,p.newVersion,Er(d.transaction),p)}),i&&d.addEventListener("blocked",p=>i(p.oldVersion,p.newVersion,p)),g.then(p=>{c&&p.addEventListener("close",()=>c()),l&&p.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const CA=["get","getKey","getAll","getAllKeys","count"],DA=["put","add","delete","clear"],Zh=new Map;function jy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zh.get(e))return Zh.get(e);const i=e.replace(/FromIndex$/,""),s=e!==i,l=DA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||CA.includes(i)))return;const c=async function(d,...g){const p=this.transaction(d,l?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&p.done]))[0]};return Zh.set(e,c),c}SA(r=>({...r,get:(e,i,s)=>jy(e,i)||r.get(e,i,s),has:(e,i)=>!!jy(e,i)||r.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(IA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function IA(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ud="@firebase/app",qy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi=new h_("@firebase/app"),MA="@firebase/app-compat",NA="@firebase/analytics-compat",OA="@firebase/analytics",xA="@firebase/app-check-compat",LA="@firebase/app-check",UA="@firebase/auth",PA="@firebase/auth-compat",zA="@firebase/database",kA="@firebase/data-connect",BA="@firebase/database-compat",HA="@firebase/functions",jA="@firebase/functions-compat",qA="@firebase/installations",GA="@firebase/installations-compat",FA="@firebase/messaging",YA="@firebase/messaging-compat",QA="@firebase/performance",XA="@firebase/performance-compat",KA="@firebase/remote-config",ZA="@firebase/remote-config-compat",WA="@firebase/storage",JA="@firebase/storage-compat",$A="@firebase/firestore",t1="@firebase/vertexai",e1="@firebase/firestore-compat",n1="firebase",i1="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="[DEFAULT]",r1={[ud]:"fire-core",[MA]:"fire-core-compat",[OA]:"fire-analytics",[NA]:"fire-analytics-compat",[LA]:"fire-app-check",[xA]:"fire-app-check-compat",[UA]:"fire-auth",[PA]:"fire-auth-compat",[zA]:"fire-rtdb",[kA]:"fire-data-connect",[BA]:"fire-rtdb-compat",[HA]:"fire-fn",[jA]:"fire-fn-compat",[qA]:"fire-iid",[GA]:"fire-iid-compat",[FA]:"fire-fcm",[YA]:"fire-fcm-compat",[QA]:"fire-perf",[XA]:"fire-perf-compat",[KA]:"fire-rc",[ZA]:"fire-rc-compat",[WA]:"fire-gcs",[JA]:"fire-gcs-compat",[$A]:"fire-fst",[e1]:"fire-fst-compat",[t1]:"fire-vertex","fire-js":"fire-js",[n1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,a1=new Map,fd=new Map;function Gy(r,e){try{r.container.addComponent(e)}catch(i){Bi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,i)}}function cc(r){const e=r.name;if(fd.has(e))return Bi.debug(`There were multiple attempts to register component ${e}.`),!1;fd.set(e,r);for(const i of uc.values())Gy(i,r);for(const i of a1.values())Gy(i,r);return!0}function s1(r,e){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(e)}function o1(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Tr=new f_("app","Firebase",l1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,i,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new el("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Tr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=i1;function g_(r,e={}){let i=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:cd,automaticDataCollectionEnabled:!1},e),l=s.name;if(typeof l!="string"||!l)throw Tr.create("bad-app-name",{appName:String(l)});if(i||(i=c_()),!i)throw Tr.create("no-options");const c=uc.get(l);if(c){if(lc(i,c.options)&&lc(s,c.config))return c;throw Tr.create("duplicate-app",{appName:l})}const d=new dA(l);for(const p of fd.values())d.addComponent(p);const g=new u1(i,s,d);return uc.set(l,g),g}function f1(r=cd){const e=uc.get(r);if(!e&&r===cd&&c_())return g_();if(!e)throw Tr.create("no-app",{appName:r});return e}function Ts(r,e,i){var s;let l=(s=r1[r])!==null&&s!==void 0?s:r;i&&(l+=`-${i}`);const c=l.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const g=[`Unable to register library "${l}" with version "${e}":`];c&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),c&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Bi.warn(g.join(" "));return}cc(new el(`${l}-version`,()=>({library:l,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1="firebase-heartbeat-database",d1=1,nl="firebase-heartbeat-store";let Wh=null;function p_(){return Wh||(Wh=RA(h1,d1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Tr.create("idb-open",{originalErrorMessage:r.message})})),Wh}async function m1(r){try{const i=(await p_()).transaction(nl),s=await i.objectStore(nl).get(y_(r));return await i.done,s}catch(e){if(e instanceof Ms)Bi.warn(e.message);else{const i=Tr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Bi.warn(i.message)}}}async function Fy(r,e){try{const s=(await p_()).transaction(nl,"readwrite");await s.objectStore(nl).put(e,y_(r)),await s.done}catch(i){if(i instanceof Ms)Bi.warn(i.message);else{const s=Tr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Bi.warn(s.message)}}}function y_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1=1024,p1=30;class y1{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new _1(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Yy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:l}),this._heartbeatsCache.heartbeats.length>p1){const d=E1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Bi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Yy(),{heartbeatsToSend:s,unsentEntries:l}=v1(this._heartbeatsCache.heartbeats),c=oc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Bi.warn(i),""}}}function Yy(){return new Date().toISOString().substring(0,10)}function v1(r,e=g1){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Qy(i)>e){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Qy(i)>e){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class _1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aA()?sA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await m1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return Fy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...e.heartbeats]})}else return}}function Qy(r){return oc(JSON.stringify({version:2,heartbeats:r})).length}function E1(r){if(r.length===0)return-1;let e=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(r){cc(new el("platform-logger",e=>new VA(e),"PRIVATE")),cc(new el("heartbeat",e=>new y1(e),"PRIVATE")),Ts(ud,qy,r),Ts(ud,qy,"esm2017"),Ts("fire-js","")}T1("");var Xy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ar,v_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,b){function R(){}R.prototype=b.prototype,O.D=b.prototype,O.prototype=new R,O.prototype.constructor=O,O.C=function(I,M,L){for(var C=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)C[Ee-2]=arguments[Ee];return b.prototype[M].apply(I,C)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(O,b,R){R||(R=0);var I=Array(16);if(typeof b=="string")for(var M=0;16>M;++M)I[M]=b.charCodeAt(R++)|b.charCodeAt(R++)<<8|b.charCodeAt(R++)<<16|b.charCodeAt(R++)<<24;else for(M=0;16>M;++M)I[M]=b[R++]|b[R++]<<8|b[R++]<<16|b[R++]<<24;b=O.g[0],R=O.g[1],M=O.g[2];var L=O.g[3],C=b+(L^R&(M^L))+I[0]+3614090360&4294967295;b=R+(C<<7&4294967295|C>>>25),C=L+(M^b&(R^M))+I[1]+3905402710&4294967295,L=b+(C<<12&4294967295|C>>>20),C=M+(R^L&(b^R))+I[2]+606105819&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(b^M&(L^b))+I[3]+3250441966&4294967295,R=M+(C<<22&4294967295|C>>>10),C=b+(L^R&(M^L))+I[4]+4118548399&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(M^b&(R^M))+I[5]+1200080426&4294967295,L=b+(C<<12&4294967295|C>>>20),C=M+(R^L&(b^R))+I[6]+2821735955&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(b^M&(L^b))+I[7]+4249261313&4294967295,R=M+(C<<22&4294967295|C>>>10),C=b+(L^R&(M^L))+I[8]+1770035416&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(M^b&(R^M))+I[9]+2336552879&4294967295,L=b+(C<<12&4294967295|C>>>20),C=M+(R^L&(b^R))+I[10]+4294925233&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(b^M&(L^b))+I[11]+2304563134&4294967295,R=M+(C<<22&4294967295|C>>>10),C=b+(L^R&(M^L))+I[12]+1804603682&4294967295,b=R+(C<<7&4294967295|C>>>25),C=L+(M^b&(R^M))+I[13]+4254626195&4294967295,L=b+(C<<12&4294967295|C>>>20),C=M+(R^L&(b^R))+I[14]+2792965006&4294967295,M=L+(C<<17&4294967295|C>>>15),C=R+(b^M&(L^b))+I[15]+1236535329&4294967295,R=M+(C<<22&4294967295|C>>>10),C=b+(M^L&(R^M))+I[1]+4129170786&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(b^R))+I[6]+3225465664&4294967295,L=b+(C<<9&4294967295|C>>>23),C=M+(b^R&(L^b))+I[11]+643717713&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(M^L))+I[0]+3921069994&4294967295,R=M+(C<<20&4294967295|C>>>12),C=b+(M^L&(R^M))+I[5]+3593408605&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(b^R))+I[10]+38016083&4294967295,L=b+(C<<9&4294967295|C>>>23),C=M+(b^R&(L^b))+I[15]+3634488961&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(M^L))+I[4]+3889429448&4294967295,R=M+(C<<20&4294967295|C>>>12),C=b+(M^L&(R^M))+I[9]+568446438&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(b^R))+I[14]+3275163606&4294967295,L=b+(C<<9&4294967295|C>>>23),C=M+(b^R&(L^b))+I[3]+4107603335&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(M^L))+I[8]+1163531501&4294967295,R=M+(C<<20&4294967295|C>>>12),C=b+(M^L&(R^M))+I[13]+2850285829&4294967295,b=R+(C<<5&4294967295|C>>>27),C=L+(R^M&(b^R))+I[2]+4243563512&4294967295,L=b+(C<<9&4294967295|C>>>23),C=M+(b^R&(L^b))+I[7]+1735328473&4294967295,M=L+(C<<14&4294967295|C>>>18),C=R+(L^b&(M^L))+I[12]+2368359562&4294967295,R=M+(C<<20&4294967295|C>>>12),C=b+(R^M^L)+I[5]+4294588738&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^M)+I[8]+2272392833&4294967295,L=b+(C<<11&4294967295|C>>>21),C=M+(L^b^R)+I[11]+1839030562&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^b)+I[14]+4259657740&4294967295,R=M+(C<<23&4294967295|C>>>9),C=b+(R^M^L)+I[1]+2763975236&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^M)+I[4]+1272893353&4294967295,L=b+(C<<11&4294967295|C>>>21),C=M+(L^b^R)+I[7]+4139469664&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^b)+I[10]+3200236656&4294967295,R=M+(C<<23&4294967295|C>>>9),C=b+(R^M^L)+I[13]+681279174&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^M)+I[0]+3936430074&4294967295,L=b+(C<<11&4294967295|C>>>21),C=M+(L^b^R)+I[3]+3572445317&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^b)+I[6]+76029189&4294967295,R=M+(C<<23&4294967295|C>>>9),C=b+(R^M^L)+I[9]+3654602809&4294967295,b=R+(C<<4&4294967295|C>>>28),C=L+(b^R^M)+I[12]+3873151461&4294967295,L=b+(C<<11&4294967295|C>>>21),C=M+(L^b^R)+I[15]+530742520&4294967295,M=L+(C<<16&4294967295|C>>>16),C=R+(M^L^b)+I[2]+3299628645&4294967295,R=M+(C<<23&4294967295|C>>>9),C=b+(M^(R|~L))+I[0]+4096336452&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~M))+I[7]+1126891415&4294967295,L=b+(C<<10&4294967295|C>>>22),C=M+(b^(L|~R))+I[14]+2878612391&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~b))+I[5]+4237533241&4294967295,R=M+(C<<21&4294967295|C>>>11),C=b+(M^(R|~L))+I[12]+1700485571&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~M))+I[3]+2399980690&4294967295,L=b+(C<<10&4294967295|C>>>22),C=M+(b^(L|~R))+I[10]+4293915773&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~b))+I[1]+2240044497&4294967295,R=M+(C<<21&4294967295|C>>>11),C=b+(M^(R|~L))+I[8]+1873313359&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~M))+I[15]+4264355552&4294967295,L=b+(C<<10&4294967295|C>>>22),C=M+(b^(L|~R))+I[6]+2734768916&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~b))+I[13]+1309151649&4294967295,R=M+(C<<21&4294967295|C>>>11),C=b+(M^(R|~L))+I[4]+4149444226&4294967295,b=R+(C<<6&4294967295|C>>>26),C=L+(R^(b|~M))+I[11]+3174756917&4294967295,L=b+(C<<10&4294967295|C>>>22),C=M+(b^(L|~R))+I[2]+718787259&4294967295,M=L+(C<<15&4294967295|C>>>17),C=R+(L^(M|~b))+I[9]+3951481745&4294967295,O.g[0]=O.g[0]+b&4294967295,O.g[1]=O.g[1]+(M+(C<<21&4294967295|C>>>11))&4294967295,O.g[2]=O.g[2]+M&4294967295,O.g[3]=O.g[3]+L&4294967295}s.prototype.u=function(O,b){b===void 0&&(b=O.length);for(var R=b-this.blockSize,I=this.B,M=this.h,L=0;L<b;){if(M==0)for(;L<=R;)l(this,O,L),L+=this.blockSize;if(typeof O=="string"){for(;L<b;)if(I[M++]=O.charCodeAt(L++),M==this.blockSize){l(this,I),M=0;break}}else for(;L<b;)if(I[M++]=O[L++],M==this.blockSize){l(this,I),M=0;break}}this.h=M,this.o+=b},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var b=1;b<O.length-8;++b)O[b]=0;var R=8*this.o;for(b=O.length-8;b<O.length;++b)O[b]=R&255,R/=256;for(this.u(O),O=Array(16),b=R=0;4>b;++b)for(var I=0;32>I;I+=8)O[R++]=this.g[b]>>>I&255;return O};function c(O,b){var R=g;return Object.prototype.hasOwnProperty.call(R,O)?R[O]:R[O]=b(O)}function d(O,b){this.h=b;for(var R=[],I=!0,M=O.length-1;0<=M;M--){var L=O[M]|0;I&&L==b||(R[M]=L,I=!1)}this.g=R}var g={};function p(O){return-128<=O&&128>O?c(O,function(b){return new d([b|0],0>b?-1:0)}):new d([O|0],0>O?-1:0)}function y(O){if(isNaN(O)||!isFinite(O))return S;if(0>O)return K(y(-O));for(var b=[],R=1,I=0;O>=R;I++)b[I]=O/R|0,R*=4294967296;return new d(b,0)}function E(O,b){if(O.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(O.charAt(0)=="-")return K(E(O.substring(1),b));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(b,8)),I=S,M=0;M<O.length;M+=8){var L=Math.min(8,O.length-M),C=parseInt(O.substring(M,M+L),b);8>L?(L=y(Math.pow(b,L)),I=I.j(L).add(y(C))):(I=I.j(R),I=I.add(y(C)))}return I}var S=p(0),D=p(1),k=p(16777216);r=d.prototype,r.m=function(){if(J(this))return-K(this).m();for(var O=0,b=1,R=0;R<this.g.length;R++){var I=this.i(R);O+=(0<=I?I:4294967296+I)*b,b*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(Y(this))return"0";if(J(this))return"-"+K(this).toString(O);for(var b=y(Math.pow(O,6)),R=this,I="";;){var M=At(R,b).g;R=et(R,M.j(b));var L=((0<R.g.length?R.g[0]:R.h)>>>0).toString(O);if(R=M,Y(R))return L+I;for(;6>L.length;)L="0"+L;I=L+I}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function Y(O){if(O.h!=0)return!1;for(var b=0;b<O.g.length;b++)if(O.g[b]!=0)return!1;return!0}function J(O){return O.h==-1}r.l=function(O){return O=et(this,O),J(O)?-1:Y(O)?0:1};function K(O){for(var b=O.g.length,R=[],I=0;I<b;I++)R[I]=~O.g[I];return new d(R,~O.h).add(D)}r.abs=function(){return J(this)?K(this):this},r.add=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],I=0,M=0;M<=b;M++){var L=I+(this.i(M)&65535)+(O.i(M)&65535),C=(L>>>16)+(this.i(M)>>>16)+(O.i(M)>>>16);I=C>>>16,L&=65535,C&=65535,R[M]=C<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function et(O,b){return O.add(K(b))}r.j=function(O){if(Y(this)||Y(O))return S;if(J(this))return J(O)?K(this).j(K(O)):K(K(this).j(O));if(J(O))return K(this.j(K(O)));if(0>this.l(k)&&0>O.l(k))return y(this.m()*O.m());for(var b=this.g.length+O.g.length,R=[],I=0;I<2*b;I++)R[I]=0;for(I=0;I<this.g.length;I++)for(var M=0;M<O.g.length;M++){var L=this.i(I)>>>16,C=this.i(I)&65535,Ee=O.i(M)>>>16,se=O.i(M)&65535;R[2*I+2*M]+=C*se,it(R,2*I+2*M),R[2*I+2*M+1]+=L*se,it(R,2*I+2*M+1),R[2*I+2*M+1]+=C*Ee,it(R,2*I+2*M+1),R[2*I+2*M+2]+=L*Ee,it(R,2*I+2*M+2)}for(I=0;I<b;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=b;I<2*b;I++)R[I]=0;return new d(R,0)};function it(O,b){for(;(O[b]&65535)!=O[b];)O[b+1]+=O[b]>>>16,O[b]&=65535,b++}function at(O,b){this.g=O,this.h=b}function At(O,b){if(Y(b))throw Error("division by zero");if(Y(O))return new at(S,S);if(J(O))return b=At(K(O),b),new at(K(b.g),K(b.h));if(J(b))return b=At(O,K(b)),new at(K(b.g),b.h);if(30<O.g.length){if(J(O)||J(b))throw Error("slowDivide_ only works with positive integers.");for(var R=D,I=b;0>=I.l(O);)R=ct(R),I=ct(I);var M=vt(R,1),L=vt(I,1);for(I=vt(I,2),R=vt(R,2);!Y(I);){var C=L.add(I);0>=C.l(O)&&(M=M.add(R),L=C),I=vt(I,1),R=vt(R,1)}return b=et(O,M.j(b)),new at(M,b)}for(M=S;0<=O.l(b);){for(R=Math.max(1,Math.floor(O.m()/b.m())),I=Math.ceil(Math.log(R)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),L=y(R),C=L.j(b);J(C)||0<C.l(O);)R-=I,L=y(R),C=L.j(b);Y(L)&&(L=D),M=M.add(L),O=et(O,C)}return new at(M,O)}r.A=function(O){return At(this,O).h},r.and=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)&O.i(I);return new d(R,this.h&O.h)},r.or=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)|O.i(I);return new d(R,this.h|O.h)},r.xor=function(O){for(var b=Math.max(this.g.length,O.g.length),R=[],I=0;I<b;I++)R[I]=this.i(I)^O.i(I);return new d(R,this.h^O.h)};function ct(O){for(var b=O.g.length+1,R=[],I=0;I<b;I++)R[I]=O.i(I)<<1|O.i(I-1)>>>31;return new d(R,O.h)}function vt(O,b){var R=b>>5;b%=32;for(var I=O.g.length-R,M=[],L=0;L<I;L++)M[L]=0<b?O.i(L+R)>>>b|O.i(L+R+1)<<32-b:O.i(L+R);return new d(M,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,v_=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Ar=d}).apply(typeof Xy<"u"?Xy:typeof self<"u"?self:typeof window<"u"?window:{});var qu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var __,Xo,E_,tc,hd,T_,A_,S_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof qu=="object"&&qu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var v=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in v))break t;v=v[U]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var v=0,A=!1,U={next:function(){if(!A&&v<u.length){var j=v++;return{value:m(j,u[j]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function E(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),u.apply(m,U)}}return function(){return u.apply(m,arguments)}}function D(u,m,v){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:S,D.apply(null,arguments)}function k(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Y(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(A,U,j){for(var tt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)tt[Nt-2]=arguments[Nt];return m.prototype[U].apply(A,tt)}}function J(u){const m=u.length;if(0<m){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function K(u,m){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const U=u.length||0,j=A.length||0;u.length=U+j;for(let tt=0;tt<j;tt++)u[U+tt]=A[tt]}else u.push(A)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function it(u){return/^[\s\xa0]*$/.test(u)}function at(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function At(u){return At[" "](u),u}At[" "]=function(){};var ct=at().indexOf("Gecko")!=-1&&!(at().toLowerCase().indexOf("webkit")!=-1&&at().indexOf("Edge")==-1)&&!(at().indexOf("Trident")!=-1||at().indexOf("MSIE")!=-1)&&at().indexOf("Edge")==-1;function vt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function O(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function b(u){const m={};for(const v in u)m[v]=u[v];return m}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(u,m){let v,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(v in A)u[v]=A[v];for(let j=0;j<R.length;j++)v=R[j],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function L(u){g.setTimeout(()=>{throw u},0)}function C(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class Ee{constructor(){this.h=this.g=null}add(m,v){const A=se.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new et(()=>new q,u=>u.reset());class q{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,ft=!1,zt=new Ee,V=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then(W)}};var W=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(v){L(v)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ft=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var dt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};g.addEventListener("test",v,m),g.removeEventListener("test",v,m)}catch{}return u}();function Rt(u,m){if($.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ct){t:{try{At(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Rt.aa.h.call(this)}}Y(Rt,$);var _t={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var De="closure_listenable_"+(1e6*Math.random()|0),Wt=0;function jn(u,m,v,A,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=U,this.key=++Wt,this.da=this.fa=!1}function qi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function hi(u){this.src=u,this.g={},this.h=0}hi.prototype.add=function(u,m,v,A,U){var j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);var tt=xr(u,m,A,U);return-1<tt?(m=u[tt],v||(m.fa=!1)):(m=new jn(m,this.src,j,!!A,U),m.fa=v,u.push(m)),m};function Or(u,m){var v=m.type;if(v in u.g){var A=u.g[v],U=Array.prototype.indexOf.call(A,m,void 0),j;(j=0<=U)&&Array.prototype.splice.call(A,U,1),j&&(qi(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function xr(u,m,v,A){for(var U=0;U<u.length;++U){var j=u[U];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==A)return U}return-1}var Lr="closure_lm_"+(1e6*Math.random()|0),Ps={};function _l(u,m,v,A,U){if(Array.isArray(m)){for(var j=0;j<m.length;j++)_l(u,m[j],v,A,U);return null}return v=El(v),u&&u[De]?u.K(m,v,y(A)?!!A.capture:!1,U):_n(u,m,v,!1,A,U)}function _n(u,m,v,A,U,j){if(!m)throw Error("Invalid event type");var tt=y(U)?!!U.capture:!!U,Nt=Sa(u);if(Nt||(u[Lr]=Nt=new hi(u)),v=Nt.add(m,v,A,tt,j),v.proxy)return v;if(A=Hc(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)dt||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),A,U);else if(u.attachEvent)u.attachEvent(Ur(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Hc(){function u(v){return m.call(u.src,u.listener,v)}const m=jc;return u}function zs(u,m,v,A,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)zs(u,m[j],v,A,U);else A=y(A)?!!A.capture:!!A,v=El(v),u&&u[De]?(u=u.i,m=String(m).toString(),m in u.g&&(j=u.g[m],v=xr(j,v,A,U),-1<v&&(qi(j[v]),Array.prototype.splice.call(j,v,1),j.length==0&&(delete u.g[m],u.h--)))):u&&(u=Sa(u))&&(m=u.g[m.toString()],u=-1,m&&(u=xr(m,v,A,U)),(v=-1<u?m[u]:null)&&Aa(v))}function Aa(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[De])Or(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(Ur(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Sa(m))?(Or(v,u),v.h==0&&(v.src=null,m[Lr]=null)):qi(u)}}}function Ur(u){return u in Ps?Ps[u]:Ps[u]="on"+u}function jc(u,m){if(u.da)u=!0;else{m=new Rt(m,this);var v=u.listener,A=u.ha||u.src;u.fa&&Aa(u),u=v.call(A,m)}return u}function Sa(u){return u=u[Lr],u instanceof hi?u:null}var ks="__closure_events_fn_"+(1e9*Math.random()>>>0);function El(u){return typeof u=="function"?u:(u[ks]||(u[ks]=function(m){return u.handleEvent(m)}),u[ks])}function oe(){rt.call(this),this.i=new hi(this),this.M=this,this.F=null}Y(oe,rt),oe.prototype[De]=!0,oe.prototype.removeEventListener=function(u,m,v,A){zs(this,u,m,v,A)};function qt(u,m){var v,A=u.F;if(A)for(v=[];A;A=A.F)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new $(m,u);else if(m instanceof $)m.target=m.target||u;else{var U=m;m=new $(A,u),I(m,U)}if(U=!0,v)for(var j=v.length-1;0<=j;j--){var tt=m.g=v[j];U=on(tt,A,!0,m)&&U}if(tt=m.g=u,U=on(tt,A,!0,m)&&U,U=on(tt,A,!1,m)&&U,v)for(j=0;j<v.length;j++)tt=m.g=v[j],U=on(tt,A,!1,m)&&U}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],A=0;A<v.length;A++)qi(v[A]);delete u.g[m],u.h--}}this.F=null},oe.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},oe.prototype.L=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function on(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,j=0;j<m.length;++j){var tt=m[j];if(tt&&!tt.da&&tt.capture==v){var Nt=tt.listener,Ae=tt.ha||tt.src;tt.fa&&Or(u.i,tt),U=Nt.call(Ae,A)!==!1&&U}}return U&&!A.defaultPrevented}function qe(u,m,v){if(typeof u=="function")v&&(u=D(u,v));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Tl(u){u.g=qe(()=>{u.g=null,u.i&&(u.i=!1,Tl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class qc extends rt{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Tl(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(u){rt.call(this),this.h=u,this.g={}}Y(Pr,rt);var zr=[];function kr(u){vt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Aa(m)},u),u.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),kr(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var On=g.JSON.stringify,ba=g.JSON.parse,Br=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function Bs(){}Bs.prototype.h=null;function Hs(u){return u.h||(u.h=u.i())}function js(){}var di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mi(){$.call(this,"d")}Y(mi,$);function qs(){$.call(this,"c")}Y(qs,$);var qn={},Gs=null;function Gi(){return Gs=Gs||new oe}qn.La="serverreachability";function wa(u){$.call(this,qn.La,u)}Y(wa,$);function Fi(u){const m=Gi();qt(m,new wa(m))}qn.STAT_EVENT="statevent";function Al(u,m){$.call(this,qn.STAT_EVENT,u),this.stat=m}Y(Al,$);function te(u){const m=Gi();qt(m,new Al(m,u))}qn.Ma="timingevent";function Te(u,m){$.call(this,qn.Ma,u),this.size=m}Y(Te,$);function me(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function En(){this.g=!0}En.prototype.xa=function(){this.g=!1};function Fs(u,m,v,A,U,j){u.info(function(){if(u.g)if(j)for(var tt="",Nt=j.split("&"),Ae=0;Ae<Nt.length;Ae++){var Ot=Nt[Ae].split("=");if(1<Ot.length){var Ie=Ot[0];Ot=Ot[1];var Se=Ie.split("_");tt=2<=Se.length&&Se[1]=="type"?tt+(Ie+"="+Ot+"&"):tt+(Ie+"=redacted&")}}else tt=null;else tt=j;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function Gc(u,m,v,A,U,j,tt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+m+`
`+v+`
`+j+" "+tt})}function Yi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hr(u,v)+(A?" "+A:"")})}function Sl(u,m){u.info(function(){return"TIMEOUT: "+m})}En.prototype.info=function(){};function Hr(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var A=v[u];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var j=U[0];if(j!="noop"&&j!="stop"&&j!="close")for(var tt=1;tt<U.length;tt++)U[tt]=""}}}}return On(v)}catch{return m}}var Qi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Gn;function Fn(){}Y(Fn,Bs),Fn.prototype.g=function(){return new XMLHttpRequest},Fn.prototype.i=function(){return{}},Gn=new Fn;function Ke(u,m,v,A){this.j=u,this.i=m,this.l=v,this.R=A||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ce}function ce(){this.i=null,this.g="",this.h=!1}var Ys={},Ra={};function xn(u,m,v){u.L=1,u.v=Yr(ln(m)),u.m=v,u.P=!0,pi(u,null)}function pi(u,m){u.F=Date.now(),jr(u),u.A=ln(u.v);var v=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),Js(v.i,"t",A),u.C=0,v=u.j.J,u.h=new ce,u.g=kl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new qc(D(u.Y,u,u.g),u.O)),m=u.U,v=u.g,A=u.ca;var U="readystatechange";Array.isArray(U)||(U&&(zr[0]=U.toString()),U=zr);for(var j=0;j<U.length;j++){var tt=_l(v,U[j],A||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.H?b(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Fi(),Fs(u.i,u.u,u.A,u.l,u.R,u.m)}Ke.prototype.ca=function(u){u=u.target;const m=this.M;m&&bn(u)==3?m.j():this.Y(u)},Ke.prototype.Y=function(u){try{if(u==this.g)t:{const Se=bn(this.g);var m=this.g.Ba();const bi=this.g.Z();if(!(3>Se)&&(Se!=3||this.g&&(this.h.h||this.g.oa()||Ml(this.g)))){this.J||Se!=4||m==7||(m==8||0>=bi?Fi(3):Fi(2)),Xi(this);var v=this.g.Z();this.X=v;e:if(bl(this)){var A=Ml(this.g);u="";var U=A.length,j=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Le(this),Yn(this);var tt="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(j&&m==U-1)});A.length=0,this.h.g+=u,this.C=0,tt=this.h.g}else tt=this.g.oa();if(this.o=v==200,Gc(this.i,this.u,this.A,this.l,this.R,Se,v),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,Ae=this.g;if((Nt=Ae.g?Ae.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!it(Nt)){var Ot=Nt;break e}}Ot=null}if(v=Ot)Yi(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qr(this,v);else{this.o=!1,this.s=3,te(12),Le(this),Yn(this);break t}}if(this.P){v=!0;let Ue;for(;!this.J&&this.C<tt.length;)if(Ue=wl(this,tt),Ue==Ra){Se==4&&(this.s=4,te(14),v=!1),Yi(this.i,this.l,null,"[Incomplete Response]");break}else if(Ue==Ys){this.s=4,te(15),Yi(this.i,this.l,tt,"[Invalid Chunk]"),v=!1;break}else Yi(this.i,this.l,Ue,null),qr(this,Ue);if(bl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Se!=4||tt.length!=0||this.h.h||(this.s=1,te(16),v=!1),this.o=this.o&&v,!v)Yi(this.i,this.l,tt,"[Invalid Chunked Response]"),Le(this),Yn(this);else if(0<tt.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+tt.length),ta(Ie),Ie.M=!0,te(11))}}else Yi(this.i,this.l,tt,null),qr(this,tt);Se==4&&Le(this),this.o&&!this.J&&(Se==4?Ul(this.j,this):(this.o=!1,jr(this)))}else Kc(this.g),v==400&&0<tt.indexOf("Unknown SID")?(this.s=3,te(12)):(this.s=0,te(13)),Le(this),Yn(this)}}}catch{}finally{}};function bl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function wl(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ra:(v=Number(m.substring(v,A)),isNaN(v)?Ys:(A+=1,A+v>m.length?Ra:(m=m.slice(A,A+v),u.C=A+v,m)))}Ke.prototype.cancel=function(){this.J=!0,Le(this)};function jr(u){u.S=Date.now()+u.I,Rl(u,u.I)}function Rl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=me(D(u.ba,u),m)}function Xi(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ke.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Sl(this.i,this.A),this.L!=2&&(Fi(),te(17)),Le(this),this.s=2,Yn(this)):Rl(this,this.S-u)};function Yn(u){u.j.G==0||u.J||Ul(u.j,u)}function Le(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,kr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function qr(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Qs(v.h,u))){if(!u.K&&Qs(v.h,u)&&v.G==3){try{var A=v.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){t:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)za(v),Ua(v);else break t;io(v),te(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=me(D(v.Za,v),6e3));if(1>=Da(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Si(v,11)}else if((u.K||v.g==u)&&za(v),!it(m))for(U=v.Da.g.parse(m),m=0;m<U.length;m++){let Ot=U[m];if(v.T=Ot[0],Ot=Ot[1],v.G==2)if(Ot[0]=="c"){v.K=Ot[1],v.ia=Ot[2];const Ie=Ot[3];Ie!=null&&(v.la=Ie,v.j.info("VER="+v.la));const Se=Ot[4];Se!=null&&(v.Aa=Se,v.j.info("SVER="+v.Aa));const bi=Ot[5];bi!=null&&typeof bi=="number"&&0<bi&&(A=1.5*bi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Ue=u.g;if(Ue){const $n=Ue.g?Ue.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($n){var j=A.h;j.g||$n.indexOf("spdy")==-1&&$n.indexOf("quic")==-1&&$n.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Va(j,j.h),j.h=null))}if(A.D){const ao=Ue.g?Ue.g.getResponseHeader("X-HTTP-Session-Id"):null;ao&&(A.ya=ao,Yt(A.I,A.D,ao))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var tt=u;if(A.qa=zl(A,A.J?A.ia:null,A.W),tt.K){Ze(A.h,tt);var Nt=tt,Ae=A.L;Ae&&(Nt.I=Ae),Nt.B&&(Xi(Nt),jr(Nt)),A.g=tt}else xl(A);0<v.i.length&&Pa(v)}else Ot[0]!="stop"&&Ot[0]!="close"||Si(v,7);else v.G==3&&(Ot[0]=="stop"||Ot[0]=="close"?Ot[0]=="stop"?Si(v,7):eo(v):Ot[0]!="noop"&&v.l&&v.l.ta(Ot),v.v=0)}}Fi(4)}catch{}}var Cl=class{constructor(u,m){this.g=u,this.map=m}};function yi(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ca(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Da(u){return u.h?1:u.g?u.g.size:0}function Qs(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Va(u,m){u.g?u.g.add(m):u.h=m}function Ze(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}yi.prototype.cancel=function(){if(this.i=Xs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Xs(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return J(u.i)}function Fc(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,A=0;A<v;A++)m.push(u[A]);return m}m=[],v=0;for(A in u)m[v++]=u[A];return m}function Ia(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const A in u)m[v++]=A;return m}}}function Ks(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Ia(u),A=Fc(u),U=A.length,j=0;j<U;j++)m.call(void 0,A[j],v&&v[j],u)}var Gr=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yc(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var A=u[v].indexOf("="),U=null;if(0<=A){var j=u[v].substring(0,A);U=u[v].substring(A+1)}else j=u[v];m(j,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function ge(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ge){this.h=u.h,Fr(this,u.j),this.o=u.o,this.g=u.g,Ki(this,u.s),this.l=u.l;var m=u.i,v=new _i;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),vi(this,v),this.m=u.m}else u&&(m=String(u).match(Gr))?(this.h=!1,Fr(this,m[1]||"",!0),this.o=Tn(m[2]||""),this.g=Tn(m[3]||"",!0),Ki(this,m[4]),this.l=Tn(m[5]||"",!0),vi(this,m[6]||"",!0),this.m=Tn(m[7]||"")):(this.h=!1,this.i=new _i(null,this.h))}ge.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Qr(m,Zs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Qr(m,Zs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Qr(v,v.charAt(0)=="/"?Qc:Ws,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Qr(v,Ma)),u.join("")};function ln(u){return new ge(u)}function Fr(u,m,v){u.j=v?Tn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ki(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function vi(u,m,v){m instanceof _i?(u.i=m,Vl(u.i,u.h)):(v||(m=Qr(m,Xc)),u.i=new _i(m,u.h))}function Yt(u,m,v){u.i.set(m,v)}function Yr(u){return Yt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Tn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Qr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Dl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Dl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zs=/[#\/\?@]/g,Ws=/[#\?:]/g,Qc=/[#\?]/g,Xc=/[#\?@]/g,Ma=/#/g;function _i(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function An(u){u.g||(u.g=new Map,u.h=0,u.i&&Yc(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=_i.prototype,r.add=function(u,m){An(this),this.i=null,u=Qn(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Ei(u,m){An(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Ti(u,m){return An(u),m=Qn(u,m),u.g.has(m)}r.forEach=function(u,m){An(this),this.g.forEach(function(v,A){v.forEach(function(U){u.call(m,U,A,this)},this)},this)},r.na=function(){An(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let A=0;A<m.length;A++){const U=u[A];for(let j=0;j<U.length;j++)v.push(m[A])}return v},r.V=function(u){An(this);let m=[];if(typeof u=="string")Ti(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},r.set=function(u,m){return An(this),this.i=null,u=Qn(this,u),Ti(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function Js(u,m,v){Ei(u,m),0<v.length&&(u.i=null,u.g.set(Qn(u,m),J(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var A=m[v];const j=encodeURIComponent(String(A)),tt=this.V(A);for(A=0;A<tt.length;A++){var U=j;tt[A]!==""&&(U+="="+encodeURIComponent(String(tt[A]))),u.push(U)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Vl(u,m){m&&!u.j&&(An(u),u.i=null,u.g.forEach(function(v,A){var U=A.toLowerCase();A!=U&&(Ei(this,A),Js(this,U,v))},u)),u.j=m}function Xr(u,m){const v=new En;if(g.Image){const A=new Image;A.onload=k(Sn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=k(Sn,v,"TestLoadImage: error",!1,m,A),A.onabort=k(Sn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=k(Sn,v,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Ln(u,m){const v=new En,A=new AbortController,U=setTimeout(()=>{A.abort(),Sn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(j=>{clearTimeout(U),j.ok?Sn(v,"TestPingServer: ok",!0,m):Sn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Sn(v,"TestPingServer: error",!1,m)})}function Sn(u,m,v,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(v)}catch{}}function Kr(){this.g=new Br}function Xn(u,m,v){const A=v||"";try{Ks(u,function(U,j){let tt=U;y(U)&&(tt=On(U)),m.push(A+j+"="+encodeURIComponent(tt))})}catch(U){throw m.push(A+"type="+encodeURIComponent("_badmap")),U}}function Zi(u){this.l=u.Ub||null,this.j=u.eb||!1}Y(Zi,Bs),Zi.prototype.g=function(){return new Ai(this.l,this.j)},Zi.prototype.i=function(u){return function(){return u}}({});function Ai(u,m){oe.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Y(Ai,oe),r=Ai.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Zn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Kn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$s(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $s(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Kn(this):Zn(this),this.readyState==3&&$s(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Kn(this))},r.Qa=function(u){this.g&&(this.response=u,Kn(this))},r.ga=function(){this.g&&Kn(this)};function Kn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Zn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Zn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function to(u){let m="";return vt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Ve(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=to(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):Yt(u,m,v))}function Bt(u){oe.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Y(Bt,oe);var Na=/^https?$/i,Zr=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Gn.g(),this.v=this.o?Hs(this.o):Hs(Gn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){Il(this,j);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)v.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const j of A.keys())v.set(j,A.get(j));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Zr,m,void 0))||A||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,tt]of v)this.g.setRequestHeader(j,tt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wr(this),this.u=!0,this.g.send(u),this.u=!1}catch(j){Il(this,j)}};function Il(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Oa(u),Wn(u)}function Oa(u){u.A||(u.A=!0,qt(u,"complete"),qt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,qt(this,"complete"),qt(this,"abort"),Wn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wn(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?xa(this):this.bb())},r.bb=function(){xa(this)};function xa(u){if(u.h&&typeof d<"u"&&(!u.v[1]||bn(u)!=4||u.Z()!=2)){if(u.u&&bn(u)==4)qe(u.Ea,0,u);else if(qt(u,"readystatechange"),bn(u)==4){u.h=!1;try{const tt=u.Z();t:switch(tt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=tt===0){var U=String(u.D).match(Gr)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),A=!Na.test(U?U.toLowerCase():"")}v=A}if(v)qt(u,"complete"),qt(u,"success");else{u.m=6;try{var j=2<bn(u)?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.Z()+"]",Oa(u)}}finally{Wn(u)}}}}function Wn(u,m){if(u.g){Wr(u);const v=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||qt(u,"ready");try{v.onreadystatechange=A}catch{}}}function Wr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function bn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ba(m)}};function Ml(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Kc(u){const m={};u=(u.g&&2<=bn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(it(u[A]))continue;var v=M(u[A]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[U]||[];m[U]=j,j.push(v)}O(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function La(u){this.Aa=0,this.i=[],this.j=new En,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,u),this.cb=Jr("retryDelaySeedMs",1e4,u),this.Wa=Jr("forwardChannelMaxRetries",2,u),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new yi(u&&u.concurrentRequestLimit),this.Da=new Kr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=La.prototype,r.la=8,r.G=1,r.connect=function(u,m,v,A){te(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=zl(this,null,this.W),Pa(this)};function eo(u){if(Nl(u),u.G==3){var m=u.U++,v=ln(u.I);if(Yt(v,"SID",u.K),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),$r(u,v),m=new Ke(u,u.j,m),m.L=2,m.v=Yr(ln(v)),v=!1,g.navigator&&g.navigator.sendBeacon)try{v=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&g.Image&&(new Image().src=m.v,v=!0),v||(m.g=kl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),jr(m)}Pl(u)}function Ua(u){u.g&&(ta(u),u.g.cancel(),u.g=null)}function Nl(u){Ua(u),u.u&&(g.clearTimeout(u.u),u.u=null),za(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Pa(u){if(!Ca(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||V(),ft||(nt(),ft=!0),zt.add(m,u),u.B=0}}function Zc(u,m){return Da(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=me(D(u.Ga,u,m),ro(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const U=new Ke(this,this.j,u);let j=this.o;if(this.S&&(j?(j=b(j),I(j,this.S)):j=this.S),this.m!==null||this.O||(U.H=j,j=null),this.P)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Ol(this,U,m),v=ln(this.I),Yt(v,"RID",u),Yt(v,"CVER",22),this.D&&Yt(v,"X-HTTP-Session-Id",this.D),$r(this,v),j&&(this.O?m="headers="+encodeURIComponent(String(to(j)))+"&"+m:this.m&&Ve(v,this.m,j)),Va(this.h,U),this.Ua&&Yt(v,"TYPE","init"),this.P?(Yt(v,"$req",m),Yt(v,"SID","null"),U.T=!0,xn(U,v,null)):xn(U,v,m),this.G=2}}else this.G==3&&(u?no(this,u):this.i.length==0||Ca(this.h)||no(this))};function no(u,m){var v;m?v=m.l:v=u.U++;const A=ln(u.I);Yt(A,"SID",u.K),Yt(A,"RID",v),Yt(A,"AID",u.T),$r(u,A),u.m&&u.o&&Ve(A,u.m,u.o),v=new Ke(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ol(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Va(u.h,v),xn(v,A,m)}function $r(u,m){u.H&&vt(u.H,function(v,A){Yt(m,A,v)}),u.l&&Ks({},function(v,A){Yt(m,A,v)})}function Ol(u,m,v){v=Math.min(u.i.length,v);var A=u.l?D(u.l.Na,u.l,u):null;t:{var U=u.i;let j=-1;for(;;){const tt=["count="+v];j==-1?0<v?(j=U[0].g,tt.push("ofs="+j)):j=0:tt.push("ofs="+j);let Nt=!0;for(let Ae=0;Ae<v;Ae++){let Ot=U[Ae].g;const Ie=U[Ae].map;if(Ot-=j,0>Ot)j=Math.max(0,U[Ae].g-100),Nt=!1;else try{Xn(Ie,tt,"req"+Ot+"_")}catch{A&&A(Ie)}}if(Nt){A=tt.join("&");break t}}}return u=u.i.splice(0,v),m.D=u,A}function xl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||V(),ft||(nt(),ft=!0),zt.add(m,u),u.v=0}}function io(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=me(D(u.Fa,u),ro(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,Ll(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=me(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,te(10),Ua(this),Ll(this))};function ta(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function Ll(u){u.g=new Ke(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ln(u.qa);Yt(m,"RID","rpc"),Yt(m,"SID",u.K),Yt(m,"AID",u.T),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Yt(m,"TO",u.ja),Yt(m,"TYPE","xmlhttp"),$r(u,m),u.m&&u.o&&Ve(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Yr(ln(m)),v.m=null,v.P=!0,pi(v,u)}r.Za=function(){this.C!=null&&(this.C=null,Ua(this),io(this),te(19))};function za(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Ul(u,m){var v=null;if(u.g==m){za(u),ta(u),u.g=null;var A=2}else if(Qs(u.h,m))v=m.D,Ze(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var U=u.B;A=Gi(),qt(A,new Te(A,v)),Pa(u)}else xl(u);else if(U=m.s,U==3||U==0&&0<m.X||!(A==1&&Zc(u,m)||A==2&&io(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Si(u,5);break;case 4:Si(u,10);break;case 3:Si(u,6);break;default:Si(u,2)}}}function ro(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Si(u,m){if(u.j.info("Error code "+m),m==2){var v=D(u.fb,u),A=u.Xa;const U=!A;A=new ge(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Fr(A,"https"),Yr(A),U?Xr(A.toString(),v):Ln(A.toString(),v)}else te(2);u.G=0,u.l&&u.l.sa(m),Pl(u),Nl(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),te(2)):(this.j.info("Failed to ping google.com"),te(1))};function Pl(u){if(u.G=0,u.ka=[],u.l){const m=Xs(u.h);(m.length!=0||u.i.length!=0)&&(K(u.ka,m),K(u.ka,u.i),u.h.i.length=0,J(u.i),u.i.length=0),u.l.ra()}}function zl(u,m,v){var A=v instanceof ge?ln(v):new ge(v);if(A.g!="")m&&(A.g=m+"."+A.g),Ki(A,A.s);else{var U=g.location;A=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var j=new ge(null);A&&Fr(j,A),m&&(j.g=m),U&&Ki(j,U),v&&(j.l=v),A=j}return v=u.D,m=u.ya,v&&m&&Yt(A,v,m),Yt(A,"VER",u.la),$r(u,A),A}function kl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new Zi({eb:v})):new Bt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Bl(){}r=Bl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ka(){}ka.prototype.g=function(u,m){return new We(u,m)};function We(u,m){oe.call(this),this.g=new La(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!it(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!it(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Jn(this)}Y(We,oe),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){eo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=On(u),u=v);m.i.push(new Cl(m.Ya++,u)),m.G==3&&Pa(m)},We.prototype.N=function(){this.g.l=null,delete this.j,eo(this.g),delete this.g,We.aa.N.call(this)};function Hl(u){mi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Y(Hl,mi);function jl(){qs.call(this),this.status=1}Y(jl,qs);function Jn(u){this.g=u}Y(Jn,Bl),Jn.prototype.ua=function(){qt(this.g,"a")},Jn.prototype.ta=function(u){qt(this.g,new Hl(u))},Jn.prototype.sa=function(u){qt(this.g,new jl)},Jn.prototype.ra=function(){qt(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,S_=function(){return new ka},A_=function(){return Gi()},T_=qn,hd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Qi.NO_ERROR=0,Qi.TIMEOUT=8,Qi.HTTP_ERROR=6,tc=Qi,gi.COMPLETE="complete",E_=gi,js.EventType=di,di.OPEN="a",di.CLOSE="b",di.ERROR="c",di.MESSAGE="d",oe.prototype.listen=oe.prototype.K,Xo=js,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,__=Bt}).apply(typeof qu<"u"?qu:typeof self<"u"?self:typeof window<"u"?window:{});const Ky="@firebase/firestore",Zy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ns="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=new h_("@firebase/firestore");function ys(){return va.logLevel}function st(r,...e){if(va.logLevel<=Ut.DEBUG){const i=e.map(Ud);va.debug(`Firestore (${Ns}): ${r}`,...i)}}function Hi(r,...e){if(va.logLevel<=Ut.ERROR){const i=e.map(Ud);va.error(`Firestore (${Ns}): ${r}`,...i)}}function Ss(r,...e){if(va.logLevel<=Ut.WARN){const i=e.map(Ud);va.warn(`Firestore (${Ns}): ${r}`,...i)}}function Ud(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(r="Unexpected state"){const e=`FIRESTORE (${Ns}) INTERNAL ASSERTION FAILED: `+r;throw Hi(e),new Error(e)}function jt(r,e){r||yt()}function Tt(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Ms{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class A1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Qe.UNAUTHENTICATED))}shutdown(){}}class S1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class b1{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){jt(this.o===void 0);let s=this.i;const l=p=>this.i!==s?(s=this.i,i(p)):Promise.resolve();let c=new Sr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Sr,e.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await l(this.currentUser)})},g=p=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>g(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Sr)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==e?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(jt(typeof s.accessToken=="string"),new b_(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string"),new Qe(e)}}class w1{constructor(e,i,s){this.l=e,this.h=i,this.P=s,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class R1{constructor(e,i,s){this.l=e,this.h=i,this.P=s}getToken(){return Promise.resolve(new w1(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Wy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class C1{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,o1(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){jt(this.o===void 0);const s=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>s(c))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>l(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Wy(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(jt(typeof i.token=="string"),this.R=i.token,new Wy(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=D1(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=e.charAt(l[c]%62))}return s}}function wt(r,e){return r<e?-1:r>e?1:0}function dd(r,e){let i=0;for(;i<r.length&&i<e.length;){const s=r.codePointAt(i),l=e.codePointAt(i);if(s!==l){if(s<128&&l<128)return wt(s,l);{const c=w_(),d=V1(c.encode(Jy(r,i)),c.encode(Jy(e,i)));return d!==0?d:wt(s,l)}}i+=s>65535?2:1}return wt(r.length,e.length)}function Jy(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function V1(r,e){for(let i=0;i<r.length&&i<e.length;++i)if(r[i]!==e[i])return wt(r[i],e[i]);return wt(r.length,e.length)}function bs(r,e,i){return r.length===e.length&&r.every((s,l)=>i(s,e[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=-62135596800,tv=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),s=Math.floor((e-1e3*i)*tv);return new Re(i,s)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<$y)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/tv}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-$y;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(e){return new Et(e)}static min(){return new Et(new Re(0,0))}static max(){return new Et(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev="__name__";class ai{constructor(e,i,s){i===void 0?i=0:i>e.length&&yt(),s===void 0?s=e.length-i:s>e.length-i&&yt(),this.segments=e,this.offset=i,this.len=s}get length(){return this.len}isEqual(e){return ai.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof ai?e.forEach(s=>{i.push(s)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,s=this.limit();i<s;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const s=Math.min(e.length,i.length);for(let l=0;l<s;l++){const c=ai.compareSegments(e.get(l),i.get(l));if(c!==0)return c}return wt(e.length,i.length)}static compareSegments(e,i){const s=ai.isNumericId(e),l=ai.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ai.extractNumericId(e).compare(ai.extractNumericId(i)):dd(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ar.fromString(e.substring(4,e.length-2))}}class $t extends ai{construct(e,i,s){return new $t(e,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const s of e){if(s.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new $t(i)}static emptyPath(){return new $t([])}}const I1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class He extends ai{construct(e,i,s){return new He(e,i,s)}static isValidIdentifier(e){return I1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),He.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ev}static keyField(){return new He([ev])}static fromServerFormat(e){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<e.length;){const g=e[l];if(g==="\\"){if(l+1===e.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new He(i)}static emptyPath(){return new He([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.path=e}static fromPath(e){return new ht($t.fromString(e))}static fromName(e){return new ht($t.fromString(e).popFirst(5))}static empty(){return new ht($t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return $t.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ht(new $t(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const il=-1;function M1(r,e){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(s===1e9?new Re(i+1,0):new Re(i,s));return new wr(l,ht.empty(),e)}function N1(r){return new wr(r.readTime,r.key,il)}class wr{constructor(e,i,s){this.readTime=e,this.documentKey=i,this.largestBatchId=s}static min(){return new wr(Et.min(),ht.empty(),il)}static max(){return new wr(Et.max(),ht.empty(),il)}}function O1(r,e){let i=r.readTime.compareTo(e.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,e.documentKey),i!==0?i:wt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Os(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==x1)throw r;st("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new X((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):X.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):X.reject(i)}static resolve(e){return new X((i,s)=>{i(e)})}static reject(e){return new X((i,s)=>{s(e)})}static waitFor(e){return new X((i,s)=>{let l=0,c=0,d=!1;e.forEach(g=>{++l,g.next(()=>{++c,d&&c===l&&i()},p=>s(p))}),d=!0,c===l&&i()})}static or(e){let i=X.resolve(!1);for(const s of e)i=i.next(l=>l?X.resolve(l):s());return i}static forEach(e,i){const s=[];return e.forEach((l,c)=>{s.push(i.call(this,l,c))}),this.waitFor(s)}static mapArray(e,i){return new X((s,l)=>{const c=e.length,d=new Array(c);let g=0;for(let p=0;p<c;p++){const y=p;i(e[y]).next(E=>{d[y]=E,++g,g===c&&s(d)},E=>l(E))}})}static doWhile(e,i){return new X((s,l)=>{const c=()=>{e()===!0?i().next(()=>{c()},l):s()};c()})}}function U1(r){const e=r.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xs(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}bc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pd=-1;function wc(r){return r==null}function fc(r){return r===0&&1/r==-1/0}function P1(r){return typeof r=="number"&&Number.isInteger(r)&&!fc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="";function z1(r){let e="";for(let i=0;i<r.length;i++)e.length>0&&(e=nv(e)),e=k1(r.get(i),e);return nv(e)}function k1(r,e){let i=e;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case C_:i+="";break;default:i+=c}}return i}function nv(r){return r+C_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iv(r){let e=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e++;return e}function Mr(r,e){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&e(i,r[i])}function D_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e,i){this.comparator=e,this.root=i||Be.EMPTY}insert(e,i){return new ae(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Be.BLACK,null,null))}remove(e){return new ae(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Be.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(e,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(e){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,s)=>(e(i,s),!1))}toString(){const e=[];return this.inorderTraversal((i,s)=>(e.push(`${i}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gu(this.root,e,this.comparator,!0)}}class Gu{constructor(e,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=i?s(e.key,i):1,i&&l&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Be{constructor(e,i,s,l,c){this.key=e,this.value=i,this.color=s??Be.RED,this.left=l??Be.EMPTY,this.right=c??Be.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,s,l,c){return new Be(e??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,s){let l=this;const c=s(e,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(e,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(e,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Be.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let s,l=this;if(i(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(e,l.key)===0){if(l.right.isEmpty())return Be.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Be.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Be.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const e=this.left.check();if(e!==this.right.check())throw yt();return e+(this.isRed()?0:1)}}Be.EMPTY=null,Be.RED=!0,Be.BLACK=!1;Be.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(e,i,s,l,c){return this}insert(e,i,s){return new Be(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{constructor(e){this.comparator=e,this.data=new ae(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,s)=>(e(i),!1))}forEachInRange(e,i){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;i(l.key)}}forEachWhile(e,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new rv(this.data.getIterator())}getIteratorFrom(e){return new rv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(s=>{i=i.add(s)}),i}isEqual(e){if(!(e instanceof Ce)||this.size!==e.size)return!1;const i=this.data.getIterator(),s=e.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Ce(this.comparator);return i.data=e,i}}class rv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.fields=e,e.sort(He.comparator)}static empty(){return new yn([])}unionWith(e){let i=new Ce(He.comparator);for(const s of this.fields)i=i.add(s);for(const s of e)i=i.add(s);return new yn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new V_("Invalid base64 string: "+c):c}}(e);return new je(i)}static fromUint8Array(e){const i=function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c}(e);return new je(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}je.EMPTY_BYTE_STRING=new je("");const B1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rr(r){if(jt(!!r),typeof r=="string"){let e=0;const i=B1.exec(r);if(jt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:de(r.seconds),nanos:de(r.nanos)}}function de(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Cr(r){return typeof r=="string"?je.fromBase64String(r):je.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="server_timestamp",M_="__type__",N_="__previous_value__",O_="__local_write_time__";function zd(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[M_])===null||i===void 0?void 0:i.stringValue)===I_}function Rc(r){const e=r.mapValue.fields[N_];return zd(e)?Rc(e):e}function rl(r){const e=Rr(r.mapValue.fields[O_].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,i,s,l,c,d,g,p,y){this.databaseId=e,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=y}}const hc="(default)";class al{constructor(e,i){this.projectId=e,this.database=i||hc}static empty(){return new al("","")}get isDefaultDatabase(){return this.database===hc}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x_="__type__",j1="__max__",Fu={mapValue:{}},L_="__vector__",dc="value";function Dr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?zd(r)?4:G1(r)?9007199254740991:q1(r)?10:11:yt()}function ui(r,e){if(r===e)return!0;const i=Dr(r);if(i!==Dr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return rl(r).isEqual(rl(e));case 3:return function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Rr(l.timestampValue),g=Rr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(l,c){return Cr(l.bytesValue).isEqual(Cr(c.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(l,c){return de(l.geoPointValue.latitude)===de(c.geoPointValue.latitude)&&de(l.geoPointValue.longitude)===de(c.geoPointValue.longitude)}(r,e);case 2:return function(l,c){if("integerValue"in l&&"integerValue"in c)return de(l.integerValue)===de(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=de(l.doubleValue),g=de(c.doubleValue);return d===g?fc(d)===fc(g):isNaN(d)&&isNaN(g)}return!1}(r,e);case 9:return bs(r.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:case 11:return function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(iv(d)!==iv(g))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(g[p]===void 0||!ui(d[p],g[p])))return!1;return!0}(r,e);default:return yt()}}function sl(r,e){return(r.values||[]).find(i=>ui(i,e))!==void 0}function ws(r,e){if(r===e)return 0;const i=Dr(r),s=Dr(e);if(i!==s)return wt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return wt(r.booleanValue,e.booleanValue);case 2:return function(c,d){const g=de(c.integerValue||c.doubleValue),p=de(d.integerValue||d.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1}(r,e);case 3:return av(r.timestampValue,e.timestampValue);case 4:return av(rl(r),rl(e));case 5:return dd(r.stringValue,e.stringValue);case 6:return function(c,d){const g=Cr(c),p=Cr(d);return g.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(c,d){const g=c.split("/"),p=d.split("/");for(let y=0;y<g.length&&y<p.length;y++){const E=wt(g[y],p[y]);if(E!==0)return E}return wt(g.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(c,d){const g=wt(de(c.latitude),de(d.latitude));return g!==0?g:wt(de(c.longitude),de(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return sv(r.arrayValue,e.arrayValue);case 10:return function(c,d){var g,p,y,E;const S=c.fields||{},D=d.fields||{},k=(g=S[dc])===null||g===void 0?void 0:g.arrayValue,Y=(p=D[dc])===null||p===void 0?void 0:p.arrayValue,J=wt(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((E=Y==null?void 0:Y.values)===null||E===void 0?void 0:E.length)||0);return J!==0?J:sv(k,Y)}(r.mapValue,e.mapValue);case 11:return function(c,d){if(c===Fu.mapValue&&d===Fu.mapValue)return 0;if(c===Fu.mapValue)return 1;if(d===Fu.mapValue)return-1;const g=c.fields||{},p=Object.keys(g),y=d.fields||{},E=Object.keys(y);p.sort(),E.sort();for(let S=0;S<p.length&&S<E.length;++S){const D=dd(p[S],E[S]);if(D!==0)return D;const k=ws(g[p[S]],y[E[S]]);if(k!==0)return k}return wt(p.length,E.length)}(r.mapValue,e.mapValue);default:throw yt()}}function av(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return wt(r,e);const i=Rr(r),s=Rr(e),l=wt(i.seconds,s.seconds);return l!==0?l:wt(i.nanos,s.nanos)}function sv(r,e){const i=r.values||[],s=e.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=ws(i[l],s[l]);if(c)return c}return wt(i.length,s.length)}function Rs(r){return md(r)}function md(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(i){const s=Rr(i);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(i){return Cr(i).toBase64()}(r.bytesValue):"referenceValue"in r?function(i){return ht.fromName(i).toString()}(r.referenceValue):"geoPointValue"in r?function(i){return`geo(${i.latitude},${i.longitude})`}(r.geoPointValue):"arrayValue"in r?function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=md(c);return s+"]"}(r.arrayValue):"mapValue"in r?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${md(i.fields[d])}`;return l+"}"}(r.mapValue):yt()}function ec(r){switch(Dr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rc(r);return e?16+ec(e):16;case 5:return 2*r.stringValue.length;case 6:return Cr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,c)=>l+ec(c),0)}(r.arrayValue);case 10:case 11:return function(s){let l=0;return Mr(s.fields,(c,d)=>{l+=c.length+ec(d)}),l}(r.mapValue);default:throw yt()}}function ov(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function gd(r){return!!r&&"integerValue"in r}function kd(r){return!!r&&"arrayValue"in r}function lv(r){return!!r&&"nullValue"in r}function uv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function nc(r){return!!r&&"mapValue"in r}function q1(r){var e,i;return((i=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[x_])===null||i===void 0?void 0:i.stringValue)===L_}function Wo(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Mr(r.mapValue.fields,(i,s)=>e.mapValue.fields[i]=Wo(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=Wo(r.arrayValue.values[i]);return e}return Object.assign({},r)}function G1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===j1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e){this.value=e}static empty(){return new sn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let s=0;s<e.length-1;++s)if(i=(i.mapValue.fields||{})[e.get(s)],!nc(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wo(i)}setAll(e){let i=He.emptyPath(),s={},l=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const p=this.getFieldsMap(i);this.applyChanges(p,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=Wo(d):l.push(g.lastSegment())});const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(e){const i=this.field(e.popLast());nc(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ui(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=i.mapValue.fields[e.get(s)];nc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[e.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(e,i,s){Mr(i,(l,c)=>e[l]=c);for(const l of s)delete e[l]}clone(){return new sn(Wo(this.value))}}function U_(r){const e=[];return Mr(r.fields,(i,s)=>{const l=new He([i]);if(nc(s)){const c=U_(s.mapValue).fields;if(c.length===0)e.push(l);else for(const d of c)e.push(l.child(d))}else e.push(l)}),new yn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e,i,s,l,c,d,g){this.key=e,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Xe(e,0,Et.min(),Et.min(),Et.min(),sn.empty(),0)}static newFoundDocument(e,i,s,l){return new Xe(e,1,i,Et.min(),s,l,0)}static newNoDocument(e,i){return new Xe(e,2,i,Et.min(),Et.min(),sn.empty(),0)}static newUnknownDocument(e,i){return new Xe(e,3,i,Et.min(),Et.min(),sn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=sn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=sn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Xe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,i){this.position=e,this.inclusive=i}}function cv(r,e,i){let s=0;for(let l=0;l<r.position.length;l++){const c=e[l],d=r.position[l];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=ws(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function fv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!ui(r.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,i="asc"){this.field=e,this.dir=i}}function F1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_{}class _e extends P_{constructor(e,i,s){super(),this.field=e,this.op=i,this.value=s}static create(e,i,s){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,s):new Q1(e,i,s):i==="array-contains"?new Z1(e,s):i==="in"?new W1(e,s):i==="not-in"?new J1(e,s):i==="array-contains-any"?new $1(e,s):new _e(e,i,s)}static createKeyFieldInFilter(e,i,s){return i==="in"?new X1(e,s):new K1(e,s)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(ws(i,this.value)):i!==null&&Dr(this.value)===Dr(i)&&this.matchesComparison(ws(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bn extends P_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new Bn(e,i)}matches(e){return z_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function z_(r){return r.op==="and"}function k_(r){return Y1(r)&&z_(r)}function Y1(r){for(const e of r.filters)if(e instanceof Bn)return!1;return!0}function pd(r){if(r instanceof _e)return r.field.canonicalString()+r.op.toString()+Rs(r.value);if(k_(r))return r.filters.map(e=>pd(e)).join(",");{const e=r.filters.map(i=>pd(i)).join(",");return`${r.op}(${e})`}}function B_(r,e){return r instanceof _e?function(s,l){return l instanceof _e&&s.op===l.op&&s.field.isEqual(l.field)&&ui(s.value,l.value)}(r,e):r instanceof Bn?function(s,l){return l instanceof Bn&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((c,d,g)=>c&&B_(d,l.filters[g]),!0):!1}(r,e):void yt()}function H_(r){return r instanceof _e?function(i){return`${i.field.canonicalString()} ${i.op} ${Rs(i.value)}`}(r):r instanceof Bn?function(i){return i.op.toString()+" {"+i.getFilters().map(H_).join(" ,")+"}"}(r):"Filter"}class Q1 extends _e{constructor(e,i,s){super(e,i,s),this.key=ht.fromName(s.referenceValue)}matches(e){const i=ht.comparator(e.key,this.key);return this.matchesComparison(i)}}class X1 extends _e{constructor(e,i){super(e,"in",i),this.keys=j_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class K1 extends _e{constructor(e,i){super(e,"not-in",i),this.keys=j_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function j_(r,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ht.fromName(s.referenceValue))}class Z1 extends _e{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return kd(i)&&sl(i.arrayValue,this.value)}}class W1 extends _e{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&sl(this.value.arrayValue,i)}}class J1 extends _e{constructor(e,i){super(e,"not-in",i)}matches(e){if(sl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!sl(this.value.arrayValue,i)}}class $1 extends _e{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!kd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>sl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,i=null,s=[],l=[],c=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.le=null}}function hv(r,e=null,i=[],s=[],l=null,c=null,d=null){return new tS(r,e,i,s,l,c,d)}function Bd(r){const e=Tt(r);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(s=>pd(s)).join(","),i+="|ob:",i+=e.orderBy.map(s=>function(c){return c.field.canonicalString()+c.dir}(s)).join(","),wc(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(s=>Rs(s)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(s=>Rs(s)).join(",")),e.le=i}return e.le}function Hd(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!F1(r.orderBy[i],e.orderBy[i]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!B_(r.filters[i],e.filters[i]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!fv(r.startAt,e.startAt)&&fv(r.endAt,e.endAt)}function yd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cl{constructor(e,i=null,s=[],l=[],c=null,d="F",g=null,p=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function eS(r,e,i,s,l,c,d,g){return new cl(r,e,i,s,l,c,d,g)}function q_(r){return new cl(r)}function dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function G_(r){return r.collectionGroup!==null}function Jo(r){const e=Tt(r);if(e.he===null){e.he=[];const i=new Set;for(const c of e.explicitOrderBy)e.he.push(c),i.add(c.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ce(He.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(g=g.add(y.field))})}),g})(e).forEach(c=>{i.has(c.canonicalString())||c.isKeyField()||e.he.push(new gc(c,s))}),i.has(He.keyField().canonicalString())||e.he.push(new gc(He.keyField(),s))}return e.he}function si(r){const e=Tt(r);return e.Pe||(e.Pe=nS(e,Jo(r))),e.Pe}function nS(r,e){if(r.limitType==="F")return hv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(l=>{const c=l.dir==="desc"?"asc":"desc";return new gc(l.field,c)});const i=r.endAt?new mc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new mc(r.startAt.position,r.startAt.inclusive):null;return hv(r.path,r.collectionGroup,e,r.filters,r.limit,i,s)}}function vd(r,e){const i=r.filters.concat([e]);return new cl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),i,r.limit,r.limitType,r.startAt,r.endAt)}function _d(r,e,i){return new cl(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,i,r.startAt,r.endAt)}function Cc(r,e){return Hd(si(r),si(e))&&r.limitType===e.limitType}function F_(r){return`${Bd(si(r))}|lt:${r.limitType}`}function vs(r){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>H_(l)).join(", ")}]`),wc(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>Rs(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>Rs(l)).join(",")),`Target(${s})`}(si(r))}; limitType=${r.limitType})`}function Dc(r,e){return e.isFoundDocument()&&function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)}(r,e)&&function(s,l){for(const c of Jo(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0}(r,e)&&function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0}(r,e)&&function(s,l){return!(s.startAt&&!function(d,g,p){const y=cv(d,g,p);return d.inclusive?y<=0:y<0}(s.startAt,Jo(s),l)||s.endAt&&!function(d,g,p){const y=cv(d,g,p);return d.inclusive?y>=0:y>0}(s.endAt,Jo(s),l))}(r,e)}function iS(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Y_(r){return(e,i)=>{let s=!1;for(const l of Jo(r)){const c=rS(l,e,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function rS(r,e,i){const s=r.field.isKeyField()?ht.comparator(e.key,i.key):function(c,d,g){const p=d.data.field(c),y=g.data.field(c);return p!==null&&y!==null?ws(p,y):yt()}(r.field,e,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,e))return c}}has(e){return this.get(e)!==void 0}set(e,i){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],e))return void(l[c]=[e,i]);l.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Mr(this.inner,(i,s)=>{for(const[l,c]of s)e(l,c)})}isEmpty(){return D_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=new ae(ht.comparator);function ji(){return aS}const Q_=new ae(ht.comparator);function Ko(...r){let e=Q_;for(const i of r)e=e.insert(i.key,i);return e}function X_(r){let e=Q_;return r.forEach((i,s)=>e=e.insert(i,s.overlayedDocument)),e}function ya(){return $o()}function K_(){return $o()}function $o(){return new Ea(r=>r.toString(),(r,e)=>r.isEqual(e))}const sS=new ae(ht.comparator),oS=new Ce(ht.comparator);function It(...r){let e=oS;for(const i of r)e=e.add(i);return e}const lS=new Ce(wt);function uS(){return lS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fc(e)?"-0":e}}function Z_(r){return{integerValue:""+r}}function cS(r,e){return P1(e)?Z_(e):jd(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function fS(r,e,i){return r instanceof pc?function(l,c){const d={fields:{[M_]:{stringValue:I_},[O_]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&zd(c)&&(c=Rc(c)),c&&(d.fields[N_]=c),{mapValue:d}}(i,e):r instanceof ol?J_(r,e):r instanceof ll?$_(r,e):function(l,c){const d=W_(l,c),g=mv(d)+mv(l.Ie);return gd(d)&&gd(l.Ie)?Z_(g):jd(l.serializer,g)}(r,e)}function hS(r,e,i){return r instanceof ol?J_(r,e):r instanceof ll?$_(r,e):i}function W_(r,e){return r instanceof yc?function(s){return gd(s)||function(c){return!!c&&"doubleValue"in c}(s)}(e)?e:{integerValue:0}:null}class pc extends Vc{}class ol extends Vc{constructor(e){super(),this.elements=e}}function J_(r,e){const i=t0(e);for(const s of r.elements)i.some(l=>ui(l,s))||i.push(s);return{arrayValue:{values:i}}}class ll extends Vc{constructor(e){super(),this.elements=e}}function $_(r,e){let i=t0(e);for(const s of r.elements)i=i.filter(l=>!ui(l,s));return{arrayValue:{values:i}}}class yc extends Vc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function mv(r){return de(r.integerValue||r.doubleValue)}function t0(r){return kd(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function dS(r,e){return r.field.isEqual(e.field)&&function(s,l){return s instanceof ol&&l instanceof ol||s instanceof ll&&l instanceof ll?bs(s.elements,l.elements,ui):s instanceof yc&&l instanceof yc?ui(s.Ie,l.Ie):s instanceof pc&&l instanceof pc}(r.transform,e.transform)}class mS{constructor(e,i){this.version=e,this.transformResults=i}}class oi{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ic(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Ic{}function e0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new i0(r.key,oi.none()):new fl(r.key,r.data,oi.none());{const i=r.data,s=sn.empty();let l=new Ce(He.comparator);for(let c of e.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Nr(r.key,s,new yn(l.toArray()),oi.none())}}function gS(r,e,i){r instanceof fl?function(l,c,d){const g=l.value.clone(),p=pv(l.fieldTransforms,c,d.transformResults);g.setAll(p),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,i):r instanceof Nr?function(l,c,d){if(!ic(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=pv(l.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(n0(l)),p.setAll(g),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(r,e,i):function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function tl(r,e,i,s){return r instanceof fl?function(c,d,g,p){if(!ic(c.precondition,d))return g;const y=c.value.clone(),E=yv(c.fieldTransforms,p,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,e,i,s):r instanceof Nr?function(c,d,g,p){if(!ic(c.precondition,d))return g;const y=yv(c.fieldTransforms,p,d),E=d.data;return E.setAll(n0(c)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(S=>S.field))}(r,e,i,s):function(c,d,g){return ic(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(r,e,i)}function pS(r,e){let i=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),c=W_(s.transform,l||null);c!=null&&(i===null&&(i=sn.empty()),i.set(s.field,c))}return i||null}function gv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&bs(s,l,(c,d)=>dS(c,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fl extends Ic{constructor(e,i,s,l=[]){super(),this.key=e,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Nr extends Ic{constructor(e,i,s,l,c=[]){super(),this.key=e,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function n0(r){const e=new Map;return r.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=r.data.field(i);e.set(i,s)}}),e}function pv(r,e,i){const s=new Map;jt(r.length===i.length);for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=e.data.field(c.field);s.set(c.field,hS(d,g,i[l]))}return s}function yv(r,e,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,fS(c,d,e))}return s}class i0 extends Ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yS extends Ic{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,i,s,l){this.batchId=e,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(e.key)&&gS(c,e,s[l])}}applyToLocalView(e,i){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(i=tl(s,e,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(i=tl(s,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const s=K_();return this.mutations.forEach(l=>{const c=e.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const p=e0(d,g);p!==null&&s.set(l.key,p),d.isValidDocument()||d.convertToNoDocument(Et.min())}),s}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),It())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(i,s)=>gv(i,s))&&bs(this.baseMutations,e.baseMutations,(i,s)=>gv(i,s))}}class qd{constructor(e,i,s,l){this.batch=e,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(e,i,s){jt(e.mutations.length===s.length);let l=function(){return sS}();const c=e.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new qd(e,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ve,Lt;function TS(r){switch(r){case Z.OK:return yt();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt()}}function r0(r){if(r===void 0)return Hi("GRPC error has no .code"),Z.UNKNOWN;switch(r){case ve.OK:return Z.OK;case ve.CANCELLED:return Z.CANCELLED;case ve.UNKNOWN:return Z.UNKNOWN;case ve.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ve.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ve.INTERNAL:return Z.INTERNAL;case ve.UNAVAILABLE:return Z.UNAVAILABLE;case ve.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ve.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ve.NOT_FOUND:return Z.NOT_FOUND;case ve.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ve.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ve.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ve.ABORTED:return Z.ABORTED;case ve.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ve.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ve.DATA_LOSS:return Z.DATA_LOSS;default:return yt()}}(Lt=ve||(ve={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new Ar([4294967295,4294967295],0);function vv(r){const e=w_().encode(r),i=new v_;return i.update(e),new Uint8Array(i.digest())}function _v(r){const e=new DataView(r.buffer),i=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new Ar([i,s],0),new Ar([l,c],0)]}class Gd{constructor(e,i,s){if(this.bitmap=e,this.padding=i,this.hashCount=s,i<0||i>=8)throw new Zo(`Invalid padding: ${i}`);if(s<0)throw new Zo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zo(`Invalid hash count: ${s}`);if(e.length===0&&i!==0)throw new Zo(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=Ar.fromNumber(this.Ee)}Ae(e,i,s){let l=e.add(i.multiply(Ar.fromNumber(s)));return l.compare(AS)===1&&(l=new Ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=vv(e),[s,l]=_v(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);if(!this.Re(d))return!1}return!0}static create(e,i,s){const l=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new Gd(c,l,i);return s.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=vv(e),[s,l]=_v(i);for(let c=0;c<this.hashCount;c++){const d=this.Ae(s,l,c);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),s=e%8;this.bitmap[i]|=1<<s}}class Zo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,i,s,l,c){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,i,s){const l=new Map;return l.set(e,hl.createSynthesizedTargetChangeForCurrentChange(e,i,s)),new Mc(Et.min(),l,new ae(wt),ji(),It())}}class hl{constructor(e,i,s,l,c){this.resumeToken=e,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,i,s){return new hl(s,i,It(),It(),It())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,i,s,l){this.me=e,this.removedTargetIds=i,this.key=s,this.fe=l}}class a0{constructor(e,i){this.targetId=e,this.ge=i}}class s0{constructor(e,i,s=je.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=i,this.resumeToken=s,this.cause=l}}class Ev{constructor(){this.pe=0,this.ye=Tv(),this.we=je.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=It(),i=It(),s=It();return this.ye.forEach((l,c)=>{switch(c){case 0:e=e.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:yt()}}),new hl(this.we,this.Se,e,i,s)}Me(){this.be=!1,this.ye=Tv()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,jt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class SS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ji(),this.$e=Yu(),this.Ue=Yu(),this.Ke=new ae(wt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const s=this.He(i);switch(e.state){case 0:this.Je(i)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(e.resumeToken));break;default:yt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((s,l)=>{this.Je(l)&&i(l)})}Ze(e){const i=e.targetId,s=e.ge.count,l=this.Xe(i);if(l){const c=l.target;if(yd(c))if(s===0){const d=new ht(c.path);this.ze(i,d,Xe.newNoDocument(d,Et.min()))}else jt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(e),p=g?this.nt(g,e,d):1;if(p!==0){this.Ye(i);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,y)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Cr(s).toUint8Array()}catch(p){if(p instanceof V_)return Ss("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Gd(d,l,c)}catch(p){return Ss(p instanceof Zo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.Ee===0?null:g}nt(e,i,s){return i.ge.count===s-this.st(e,i.targetId)?0:2}st(e,i){const s=this.ke.getRemoteKeysForTarget(i);let l=0;return s.forEach(c=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,c,null),l++)}),l}ot(e){const i=new Map;this.qe.forEach((c,d)=>{const g=this.Xe(d);if(g){if(c.current&&yd(g.target)){const p=new ht(g.target.path);this._t(p).has(d)||this.ut(d,p)||this.ze(d,p,Xe.newNoDocument(p,e))}c.ve&&(i.set(d,c.Fe()),c.Me())}});let s=It();this.Ue.forEach((c,d)=>{let g=!0;d.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(c))}),this.Qe.forEach((c,d)=>d.setReadTime(e));const l=new Mc(e,i,this.Ke,this.Qe,s);return this.Qe=ji(),this.$e=Yu(),this.Ue=Yu(),this.Ke=new ae(wt),l}Ge(e,i){if(!this.Je(e))return;const s=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,s){if(!this.Je(e))return;const l=this.He(e);this.ut(e,i)?l.xe(i,1):l.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Ev,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Ce(wt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Ce(wt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||st("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Ev),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Yu(){return new ae(ht.comparator)}function Tv(){return new ae(ht.comparator)}const bS={asc:"ASCENDING",desc:"DESCENDING"},wS={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},RS={and:"AND",or:"OR"};class CS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function Ed(r,e){return r.useProto3Json||wc(e)?e:{value:e}}function vc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function o0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function DS(r,e){return vc(r,e.toTimestamp())}function li(r){return jt(!!r),Et.fromTimestamp(function(i){const s=Rr(i);return new Re(s.seconds,s.nanos)}(r))}function Fd(r,e){return Td(r,e).canonicalString()}function Td(r,e){const i=function(l){return new $t(["projects",l.projectId,"databases",l.database])}(r).child("documents");return e===void 0?i:i.child(e)}function l0(r){const e=$t.fromString(r);return jt(d0(e)),e}function Ad(r,e){return Fd(r.databaseId,e.path)}function Jh(r,e){const i=l0(e);if(i.get(1)!==r.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(c0(i))}function u0(r,e){return Fd(r.databaseId,e)}function VS(r){const e=l0(r);return e.length===4?$t.emptyPath():c0(e)}function Sd(r){return new $t(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function c0(r){return jt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Av(r,e,i){return{name:Ad(r,e),fields:i.value.mapValue.fields}}function IS(r,e){let i;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt()}(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],c=function(y,E){return y.useProto3Json?(jt(E===void 0||typeof E=="string"),je.fromBase64String(E||"")):(jt(E===void 0||E instanceof Buffer||E instanceof Uint8Array),je.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(y){const E=y.code===void 0?Z.UNKNOWN:r0(y.code);return new lt(E,y.message||"")}(d);i=new s0(s,l,c,g||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Jh(r,s.document.name),c=li(s.document.updateTime),d=s.document.createTime?li(s.document.createTime):Et.min(),g=new sn({mapValue:{fields:s.document.fields}}),p=Xe.newFoundDocument(l,c,d,g),y=s.targetIds||[],E=s.removedTargetIds||[];i=new rc(y,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Jh(r,s.document),c=s.readTime?li(s.readTime):Et.min(),d=Xe.newNoDocument(l,c),g=s.removedTargetIds||[];i=new rc([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Jh(r,s.document),c=s.removedTargetIds||[];i=new rc([],c,l,null)}else{if(!("filter"in e))return yt();{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new ES(l,c),g=s.targetId;i=new a0(g,d)}}return i}function MS(r,e){let i;if(e instanceof fl)i={update:Av(r,e.key,e.value)};else if(e instanceof i0)i={delete:Ad(r,e.key)};else if(e instanceof Nr)i={update:Av(r,e.key,e.data),updateMask:BS(e.fieldMask)};else{if(!(e instanceof yS))return yt();i={verify:Ad(r,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(s=>function(c,d){const g=d.transform;if(g instanceof pc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ol)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ll)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof yc)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw yt()}(0,s))),e.precondition.isNone||(i.currentDocument=function(l,c){return c.updateTime!==void 0?{updateTime:DS(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt()}(r,e.precondition)),i}function NS(r,e){return r&&r.length>0?(jt(e!==void 0),r.map(i=>function(l,c){let d=l.updateTime?li(l.updateTime):li(c);return d.isEqual(Et.min())&&(d=li(c)),new mS(d,l.transformResults||[])}(i,e))):[]}function OS(r,e){return{documents:[u0(r,e.path)]}}function xS(r,e){const i={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=u0(r,l);const c=function(y){if(y.length!==0)return h0(Bn.create(y,"and"))}(e.filters);c&&(i.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(E=>function(D){return{field:_s(D.field),direction:PS(D.dir)}}(E))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Ed(r,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:i,parent:l}}function LS(r){let e=VS(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){jt(s===1);const E=i.from[0];E.allDescendants?l=E.collectionId:e=e.child(E.collectionId)}let c=[];i.where&&(c=function(S){const D=f0(S);return D instanceof Bn&&k_(D)?D.getFilters():[D]}(i.where));let d=[];i.orderBy&&(d=function(S){return S.map(D=>function(Y){return new gc(Es(Y.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Y.direction))}(D))}(i.orderBy));let g=null;i.limit&&(g=function(S){let D;return D=typeof S=="object"?S.value:S,wc(D)?null:D}(i.limit));let p=null;i.startAt&&(p=function(S){const D=!!S.before,k=S.values||[];return new mc(k,D)}(i.startAt));let y=null;return i.endAt&&(y=function(S){const D=!S.before,k=S.values||[];return new mc(k,D)}(i.endAt)),eS(e,l,d,c,g,"F",p,y)}function US(r,e){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function f0(r){return r.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Es(i.unaryFilter.field);return _e.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Es(i.unaryFilter.field);return _e.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Es(i.unaryFilter.field);return _e.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Es(i.unaryFilter.field);return _e.create(d,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(r):r.fieldFilter!==void 0?function(i){return _e.create(Es(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(i.fieldFilter.op),i.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(i){return Bn.create(i.compositeFilter.filters.map(s=>f0(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt()}}(i.compositeFilter.op))}(r):yt()}function PS(r){return bS[r]}function zS(r){return wS[r]}function kS(r){return RS[r]}function _s(r){return{fieldPath:r.canonicalString()}}function Es(r){return He.fromServerFormat(r.fieldPath)}function h0(r){return r instanceof _e?function(i){if(i.op==="=="){if(uv(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NAN"}};if(lv(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(uv(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NOT_NAN"}};if(lv(i.value))return{unaryFilter:{field:_s(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(i.field),op:zS(i.op),value:i.value}}}(r):r instanceof Bn?function(i){const s=i.getFilters().map(l=>h0(l));return s.length===1?s[0]:{compositeFilter:{op:kS(i.op),filters:s}}}(r):yt()}function BS(r){const e=[];return r.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function d0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,i,s,l,c=Et.min(),d=Et.min(),g=je.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(e){return new _r(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _r(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HS{constructor(e){this.Tt=e}}function jS(r){const e=LS({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?_d(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(){this.Tn=new GS}addToCollectionParentIndex(e,i){return this.Tn.add(i),X.resolve()}getCollectionParents(e,i){return X.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return X.resolve()}deleteFieldIndex(e,i){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,i){return X.resolve()}getDocumentsMatchingTarget(e,i){return X.resolve(null)}getIndexType(e,i){return X.resolve(0)}getFieldIndexes(e,i){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,i){return X.resolve(wr.min())}getMinOffsetFromCollectionGroup(e,i){return X.resolve(wr.min())}updateCollectionGroup(e,i,s){return X.resolve()}updateIndexEntries(e,i){return X.resolve()}}class GS{constructor(){this.index={}}add(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i]||new Ce($t.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(e){const i=e.lastSegment(),s=e.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Ce($t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},m0=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(m0,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Cs(0)}static Kn(){return new Cs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv="LruGarbageCollector",FS=1048576;function wv([r,e],[i,s]){const l=wt(r,i);return l===0?wt(e,s):l}class YS{constructor(e){this.Hn=e,this.buffer=new Ce(wv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();wv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class QS{constructor(e,i,s){this.garbageCollector=e,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){st(bv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xs(i)?st(bv,"Ignoring IndexedDB error during garbage collection: ",i):await Os(i)}await this.er(3e5)})}}class XS{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(s=>Math.floor(i/100*s))}nthSequenceNumber(e,i){if(i===0)return X.resolve(bc.ae);const s=new YS(i);return this.tr.forEachTarget(e,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(e,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(e,i,s){return this.tr.removeTargets(e,i,s)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Sv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sv):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let s,l,c,d,g,p,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(e,l))).next(S=>(s=S,g=Date.now(),this.removeTargets(e,s,i))).next(S=>(c=S,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(S=>(y=Date.now(),ys()<=Ut.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(p-g)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-E}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S})))}}function KS(r,e){return new XS(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(){this.changes=new Ea(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Xe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?X.resolve(s):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,i,s,l){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,i){let s=null;return this.documentOverlayCache.getOverlay(e,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(e,i))).next(l=>(s!==null&&tl(s.mutation,l,yn.empty(),Re.now()),l))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.getLocalViewOfDocuments(e,s,It()).next(()=>s))}getLocalViewOfDocuments(e,i,s=It()){const l=ya();return this.populateOverlays(e,l,i).next(()=>this.computeViews(e,i,l,s).next(c=>{let d=Ko();return c.forEach((g,p)=>{d=d.insert(g,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const s=ya();return this.populateOverlays(e,s,i).next(()=>this.computeViews(e,i,s,It()))}populateOverlays(e,i,s){const l=[];return s.forEach(c=>{i.has(c)||l.push(c)}),this.documentOverlayCache.getOverlays(e,l).next(c=>{c.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,s,l){let c=ji();const d=$o(),g=function(){return $o()}();return i.forEach((p,y)=>{const E=s.get(y.key);l.has(y.key)&&(E===void 0||E.mutation instanceof Nr)?c=c.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),tl(E.mutation,y,E.mutation.getFieldMask(),Re.now())):d.set(y.key,yn.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,E)=>d.set(y,E)),i.forEach((y,E)=>{var S;return g.set(y,new WS(E,(S=d.get(y))!==null&&S!==void 0?S:null))}),g))}recalculateAndSaveOverlays(e,i){const s=$o();let l=new ae((d,g)=>d-g),c=It();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(p=>{const y=i.get(p);if(y===null)return;let E=s.get(p)||yn.empty();E=g.applyToLocalView(y,E),s.set(p,E);const S=(l.get(g.batchId)||It()).add(p);l=l.insert(g.batchId,S)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),y=p.key,E=p.value,S=K_();E.forEach(D=>{if(!c.has(D)){const k=e0(i.get(D),s.get(D));k!==null&&S.set(D,k),c=c.add(D)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,S))}return X.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,i,s,l){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):G_(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,s,l):this.getDocumentsMatchingCollectionQuery(e,i,s,l)}getNextDocuments(e,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,s,l).next(c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,s.largestBatchId,l-c.size):X.resolve(ya());let g=il,p=c;return d.next(y=>X.forEach(y,(E,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(E)?X.resolve():this.remoteDocumentCache.getEntry(e,E).next(D=>{p=p.insert(E,D)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,It())).next(E=>({batchId:g,changes:X_(E)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ht(i)).next(s=>{let l=Ko();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,i,s,l){const c=i.collectionGroup;let d=Ko();return this.indexManager.getCollectionParents(e,c).next(g=>X.forEach(g,p=>{const y=function(S,D){return new cl(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(i,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,s,l).next(E=>{E.forEach((S,D)=>{d=d.insert(S,D)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,s.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,s,c,l))).next(d=>{c.forEach((p,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Xe.newInvalidDocument(E)))});let g=Ko();return d.forEach((p,y)=>{const E=c.get(p);E!==void 0&&tl(E.mutation,y,yn.empty(),Re.now()),Dc(i,y)&&(g=g.insert(p,y))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return X.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:li(l.createTime)}}(i)),X.resolve()}getNamedQuery(e,i){return X.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(l){return{name:l.name,query:jS(l.bundledQuery),readTime:li(l.readTime)}}(i)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.overlays=new ae(ht.comparator),this.Rr=new Map}getOverlay(e,i){return X.resolve(this.overlays.get(i))}getOverlays(e,i){const s=ya();return X.forEach(i,l=>this.getOverlay(e,l).next(c=>{c!==null&&s.set(l,c)})).next(()=>s)}saveOverlays(e,i,s){return s.forEach((l,c)=>{this.Et(e,i,c)}),X.resolve()}removeOverlaysForBatchId(e,i,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(c=>this.overlays=this.overlays.remove(c)),this.Rr.delete(s)),X.resolve()}getOverlaysForCollection(e,i,s){const l=ya(),c=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const p=g.getNext().value,y=p.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>s&&l.set(p.getKey(),p)}return X.resolve(l)}getOverlaysForCollectionGroup(e,i,s,l){let c=new ae((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>s){let E=c.get(y.largestBatchId);E===null&&(E=ya(),c=c.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const g=ya(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,E)=>g.set(y,E)),!(g.size()>=l)););return X.resolve(g)}Et(e,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new _S(i,s));let c=this.Rr.get(i);c===void 0&&(c=It(),this.Rr.set(i,c)),this.Rr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(){this.sessionToken=je.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this.Vr=new Ce(xe.mr),this.gr=new Ce(xe.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const s=new xe(e,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,i){e.forEach(s=>this.addReference(s,i))}removeReference(e,i){this.wr(new xe(e,i))}Sr(e,i){e.forEach(s=>this.removeReference(s,i))}br(e){const i=new ht(new $t([])),s=new xe(i,e),l=new xe(i,e+1),c=[];return this.gr.forEachInRange([s,l],d=>{this.wr(d),c.push(d.key)}),c}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ht(new $t([])),s=new xe(i,e),l=new xe(i,e+1);let c=It();return this.gr.forEachInRange([s,l],d=>{c=c.add(d.key)}),c}containsKey(e){const i=new xe(e,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&e.isEqual(s.key)}}class xe{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ht.comparator(e.key,i.key)||wt(e.Cr,i.Cr)}static pr(e,i){return wt(e.Cr,i.Cr)||ht.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Ce(xe.mr)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,s,l){const c=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new vS(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new xe(g.key,c)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(e,i){return X.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const s=i+1,l=this.Nr(s),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Pd:this.Fr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const s=new xe(i,0),l=new xe(i,Number.POSITIVE_INFINITY),c=[];return this.Mr.forEachInRange([s,l],d=>{const g=this.Or(d.Cr);c.push(g)}),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,i){let s=new Ce(wt);return i.forEach(l=>{const c=new xe(l,0),d=new xe(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([c,d],g=>{s=s.add(g.Cr)})}),X.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,i){const s=i.path,l=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const d=new xe(new ht(c),0);let g=new Ce(wt);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===l&&(g=g.add(p.Cr)),!0)},d),X.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(s=>{const l=this.Or(s);l!==null&&i.push(l)}),i}removeMutationBatch(e,i){jt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return X.forEach(i.mutations,l=>{const c=new xe(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,i){const s=new xe(i,0),l=this.Mr.firstAfterOrEqual(s);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.kr=e,this.docs=function(){return new ae(ht.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const s=this.docs.get(i);return X.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(e,i){let s=ji();return i.forEach(l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))}),X.resolve(s)}getDocumentsMatchingQuery(e,i,s,l){let c=ji();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:y,value:{document:E}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||O1(N1(E),s)<=0||(l.has(E.key)||Dc(i,E))&&(c=c.insert(E.key,E.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(e,i,s,l){yt()}qr(e,i){return X.forEach(this.docs,s=>i(s))}newChangeBuffer(e){return new rb(this)}getSize(e){return X.resolve(this.size)}}class rb extends ZS{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Ir.addEntry(e,l)):this.Ir.removeEntry(s)}),X.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e){this.persistence=e,this.Qr=new Ea(i=>Bd(i),Hd),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Yd,this.targetCount=0,this.Kr=Cs.Un()}forEachTarget(e,i){return this.Qr.forEach((s,l)=>i(l)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),X.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new Cs(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,X.resolve()}updateTargetData(e,i){return this.zn(i),X.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,i,s){let l=0;const c=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,g.targetId)),l++)}),X.waitFor(c).next(()=>l)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,i){const s=this.Qr.get(i)||null;return X.resolve(s)}addMatchingKeys(e,i,s){return this.Ur.yr(i,s),X.resolve()}removeMatchingKeys(e,i,s){this.Ur.Sr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach(d=>{c.push(l.markPotentiallyOrphaned(e,d))}),X.waitFor(c)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),X.resolve()}getMatchingKeysForTargetId(e,i){const s=this.Ur.vr(i);return X.resolve(s)}containsKey(e,i){return X.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new bc(0),this.zr=!1,this.zr=!0,this.jr=new eb,this.referenceDelegate=e(this),this.Hr=new ab(this),this.indexManager=new qS,this.remoteDocumentCache=function(l){return new ib(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new HS(i),this.Yr=new $S(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new tb,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let s=this.Wr[e.toKey()];return s||(s=new nb(i,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,s){st("MemoryPersistence","Starting transaction:",e);const l=new sb(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(c=>this.referenceDelegate.Xr(l).next(()=>c)).toPromise().then(c=>(l.raiseOnCommittedEvent(),c))}ei(e,i){return X.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,i)))}}class sb extends L1{constructor(e){super(),this.currentSequenceNumber=e}}class Qd{constructor(e){this.persistence=e,this.ti=new Yd,this.ni=null}static ri(e){return new Qd(e)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(e,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),X.resolve()}removeReference(e,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),X.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),X.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,i.targetId).next(l=>{l.forEach(c=>this.ii.add(c.toString()))}).next(()=>s.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.ii,s=>{const l=ht.fromPath(s);return this.si(e,l).next(c=>{c||i.removeEntry(l,Et.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return X.or([()=>X.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class _c{constructor(e,i){this.persistence=e,this.oi=new Ea(s=>z1(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=KS(this,i)}static ri(e,i){return new _c(e,i)}Zr(){}Xr(e){return X.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>i.next(l=>s+l))}sr(e){let i=0;return this.rr(e,s=>{i++}).next(()=>i)}rr(e,i){return X.forEach(this.oi,(s,l)=>this.ar(e,s,l).next(c=>c?X.resolve():i(l)))}removeTargets(e,i,s){return this.persistence.getTargetCache().removeTargets(e,i,s)}removeOrphanedDocuments(e,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.qr(e,d=>this.ar(e,d,i).next(g=>{g||(s++,c.removeEntry(d,Et.min()))})).next(()=>c.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}removeTarget(e,i){const s=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}removeReference(e,i,s){return this.oi.set(s,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),X.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=ec(e.data.value)),i}ar(e,i,s){return X.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const l=this.oi.get(i);return X.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,i,s,l){this.targetId=e,this.fromCache=i,this.Hi=s,this.Ji=l}static Yi(e,i){let s=It(),l=It();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Xd(e,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return rA()?8:U1(nA())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,s,l){const c={result:null};return this.rs(e,i).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.ss(e,i,l,s).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new ob;return this._s(e,i,d).next(g=>{if(c.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>c.result)}us(e,i,s,l){return s.documentReadCount<this.es?(ys()<=Ut.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",vs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),X.resolve()):(ys()<=Ut.DEBUG&&st("QueryEngine","Query:",vs(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(ys()<=Ut.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",vs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,si(i))):X.resolve())}rs(e,i){if(dv(i))return X.resolve(null);let s=si(i);return this.indexManager.getIndexType(e,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=_d(i,null,"F"),s=si(i)),this.indexManager.getDocumentsMatchingTarget(e,s).next(c=>{const d=It(...c);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(i,g);return this.ls(i,y,d,p.readTime)?this.rs(e,_d(i,null,"F")):this.hs(e,y,i,p)}))})))}ss(e,i,s,l){return dv(i)||l.isEqual(Et.min())?X.resolve(null):this.ns.getDocuments(e,s).next(c=>{const d=this.cs(i,c);return this.ls(i,d,s,l)?X.resolve(null):(ys()<=Ut.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),vs(i)),this.hs(e,d,i,M1(l,il)).next(g=>g))})}cs(e,i){let s=new Ce(Y_(e));return i.forEach((l,c)=>{Dc(e,c)&&(s=s.add(c))}),s}ls(e,i,s,l){if(e.limit===null)return!1;if(s.size!==i.size)return!0;const c=e.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}_s(e,i,s){return ys()<=Ut.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",vs(i)),this.ns.getDocumentsMatchingQuery(e,i,wr.min(),s)}hs(e,i,s,l){return this.ns.getDocumentsMatchingQuery(e,s,l).next(c=>(i.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd="LocalStore",ub=3e8;class cb{constructor(e,i,s,l){this.persistence=e,this.Ps=i,this.serializer=l,this.Ts=new ae(wt),this.Is=new Ea(c=>Bd(c),Hd),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new JS(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function fb(r,e,i,s){return new cb(r,e,i,s)}async function p0(r,e){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(c=>(l=c,i.As(e),i.mutationQueue.getAllMutationBatches(s))).next(c=>{const d=[],g=[];let p=It();for(const y of l){d.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}for(const y of c){g.push(y.batchId);for(const E of y.mutations)p=p.add(E.key)}return i.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:d,addedBatchIds:g}))})})}function hb(r,e){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),c=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,p,y,E){const S=y.batch,D=S.keys();let k=X.resolve();return D.forEach(Y=>{k=k.next(()=>E.getEntry(p,Y)).next(J=>{const K=y.docVersions.get(Y);jt(K!==null),J.version.compareTo(K)<0&&(S.applyToRemoteDocument(J,y),J.isValidDocument()&&(J.setReadTime(y.commitVersion),E.addEntry(J)))})}),k.next(()=>g.mutationQueue.removeMutationBatch(p,S))}(i,s,e,c).next(()=>c.apply(s)).next(()=>i.mutationQueue.performConsistencyCheck(s)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(g){let p=It();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(p=p.add(g.batch.mutations[y].key));return p}(e))).next(()=>i.localDocuments.getDocuments(s,l))})}function y0(r){const e=Tt(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function db(r,e){const i=Tt(r),s=e.snapshotVersion;let l=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});l=i.Ts;const g=[];e.targetChanges.forEach((E,S)=>{const D=l.get(S);if(!D)return;g.push(i.Hr.removeMatchingKeys(c,E.removedDocuments,S).next(()=>i.Hr.addMatchingKeys(c,E.addedDocuments,S)));let k=D.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(S)!==null?k=k.withResumeToken(je.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),l=l.insert(S,k),function(J,K,et){return J.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=ub?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0}(D,k,E)&&g.push(i.Hr.updateTargetData(c,k))});let p=ji(),y=It();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,E))}),g.push(mb(c,d,e.documentUpdates).next(E=>{p=E.Vs,y=E.fs})),!s.isEqual(Et.min())){const E=i.Hr.getLastRemoteSnapshotVersion(c).next(S=>i.Hr.setTargetsMetadata(c,c.currentSequenceNumber,s));g.push(E)}return X.waitFor(g).next(()=>d.apply(c)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(i.Ts=l,c))}function mb(r,e,i){let s=It(),l=It();return i.forEach(c=>s=s.add(c)),e.getEntries(r,s).next(c=>{let d=ji();return i.forEach((g,p)=>{const y=c.get(g);p.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),p.isNoDocument()&&p.version.isEqual(Et.min())?(e.removeEntry(g,p.readTime),d=d.insert(g,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(g,p)):st(Kd,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",p.version)}),{Vs:d,fs:l}})}function gb(r,e){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Pd),i.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function pb(r,e){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.Hr.getTargetData(s,e).next(c=>c?(l=c,X.resolve(l)):i.Hr.allocateTargetId(s).next(d=>(l=new _r(e,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(e,s.targetId)),s})}async function bd(r,e,i){const s=Tt(r),l=s.Ts.get(e),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!xs(d))throw d;st(Kd,`Failed to update sequence numbers for target ${e}: ${d}`)}s.Ts=s.Ts.remove(e),s.Is.delete(l.target)}function Rv(r,e,i){const s=Tt(r);let l=Et.min(),c=It();return s.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,E){const S=Tt(p),D=S.Is.get(E);return D!==void 0?X.resolve(S.Ts.get(D)):S.Hr.getTargetData(y,E)}(s,d,si(e)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(p=>{c=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,e,i?l:Et.min(),i?c:It())).next(g=>(yb(s,iS(e),g),{documents:g,gs:c})))}function yb(r,e,i){let s=r.Es.get(e)||Et.min();i.forEach((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)}),r.Es.set(e,s)}class Cv{constructor(){this.activeTargetIds=uS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vb{constructor(){this.ho=new Cv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,s){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,s){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Cv,Promise.resolve()}handleUserChange(e,i,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="ConnectivityMonitor";class Vv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){st(Dv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){st(Dv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function wd(){return Qu===null?Qu=function(){return 268435456+Math.round(2147483648*Math.random())}():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="RestConnection",Eb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Tb{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===hc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(e,i,s,l,c){const d=wd(),g=this.bo(e,i.toUriEncodedString());st($h,`Sending RPC '${e}' ${d}:`,g,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,l,c),this.vo(e,g,p,s).then(y=>(st($h,`Received RPC '${e}' ${d}: `,y),y),y=>{throw Ss($h,`RPC '${e}' ${d} failed with error: `,y,"url: ",g,"request:",s),y})}Co(e,i,s,l,c,d){return this.So(e,i,s,l,c)}Do(e,i,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ns}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,c)=>e[c]=l),s&&s.headers.forEach((l,c)=>e[c]=l)}bo(e,i){const s=Eb[e];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class Sb extends Tb{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,s,l){const c=wd();return new Promise((d,g)=>{const p=new __;p.setWithCredentials(!0),p.listenOnce(E_.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case tc.NO_ERROR:const E=p.getResponseJson();st(Ye,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(E)),d(E);break;case tc.TIMEOUT:st(Ye,`RPC '${e}' ${c} timed out`),g(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case tc.HTTP_ERROR:const S=p.getStatus();if(st(Ye,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let D=p.getResponseJson();Array.isArray(D)&&(D=D[0]);const k=D==null?void 0:D.error;if(k&&k.status&&k.message){const Y=function(K){const et=K.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(et)>=0?et:Z.UNKNOWN}(k.status);g(new lt(Y,k.message))}else g(new lt(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{st(Ye,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(l);st(Ye,`RPC '${e}' ${c} sending request:`,l),p.send(i,"POST",y,s,15)})}Wo(e,i,s){const l=wd(),c=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=S_(),g=A_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,i,s),p.encodeInitMessageHeaders=!0;const E=c.join("");st(Ye,`Creating RPC '${e}' stream ${l}: ${E}`,p);const S=d.createWebChannel(E,p);let D=!1,k=!1;const Y=new Ab({Fo:K=>{k?st(Ye,`Not sending because RPC '${e}' stream ${l} is closed:`,K):(D||(st(Ye,`Opening RPC '${e}' stream ${l} transport.`),S.open(),D=!0),st(Ye,`RPC '${e}' stream ${l} sending:`,K),S.send(K))},Mo:()=>S.close()}),J=(K,et,it)=>{K.listen(et,at=>{try{it(at)}catch(At){setTimeout(()=>{throw At},0)}})};return J(S,Xo.EventType.OPEN,()=>{k||(st(Ye,`RPC '${e}' stream ${l} transport opened.`),Y.Qo())}),J(S,Xo.EventType.CLOSE,()=>{k||(k=!0,st(Ye,`RPC '${e}' stream ${l} transport closed`),Y.Uo())}),J(S,Xo.EventType.ERROR,K=>{k||(k=!0,Ss(Ye,`RPC '${e}' stream ${l} transport errored:`,K),Y.Uo(new lt(Z.UNAVAILABLE,"The operation could not be completed")))}),J(S,Xo.EventType.MESSAGE,K=>{var et;if(!k){const it=K.data[0];jt(!!it);const at=it,At=(at==null?void 0:at.error)||((et=at[0])===null||et===void 0?void 0:et.error);if(At){st(Ye,`RPC '${e}' stream ${l} received error:`,At);const ct=At.status;let vt=function(R){const I=ve[R];if(I!==void 0)return r0(I)}(ct),O=At.message;vt===void 0&&(vt=Z.INTERNAL,O="Unknown error status: "+ct+" with message "+At.message),k=!0,Y.Uo(new lt(vt,O)),S.close()}else st(Ye,`RPC '${e}' stream ${l} received:`,it),Y.Ko(it)}}),J(g,T_.STAT_EVENT,K=>{K.stat===hd.PROXY?st(Ye,`RPC '${e}' stream ${l} detected buffering proxy`):K.stat===hd.NOPROXY&&st(Ye,`RPC '${e}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{Y.$o()},0),Y}}function td(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(r){return new CS(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,i,s=1e3,l=1.5,c=6e4){this.Ti=e,this.timerId=i,this.Go=s,this.zo=l,this.jo=c,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,i-s);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="PersistentStream";class _0{constructor(e,i,s,l,c,d,g,p){this.Ti=e,this.n_=s,this.r_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new v0(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Hi(i.toString()),Hi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===i&&this.V_(s,l)},s=>{e(()=>{const l=new lt(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(e,i){const s=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return st(Iv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(st(Iv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bb extends _0{constructor(e,i,s,l,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=IS(this.serializer,e),s=function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?li(d.readTime):Et.min()}(e);return this.listener.p_(i,s)}y_(e){const i={};i.database=Sd(this.serializer),i.addTarget=function(c,d){let g;const p=d.target;if(g=yd(p)?{documents:OS(c,p)}:{query:xS(c,p).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=o0(c,d.resumeToken);const y=Ed(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=vc(c,d.snapshotVersion.toTimestamp());const y=Ed(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g}(this.serializer,e);const s=US(this.serializer,e);s&&(i.labels=s),this.I_(i)}w_(e){const i={};i.database=Sd(this.serializer),i.removeTarget=e,this.I_(i)}}class wb extends _0{constructor(e,i,s,l,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return jt(!!e.streamToken),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){jt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=NS(e.writeResults,e.commitTime),s=li(e.commitTime);return this.listener.v_(s,i)}C_(){const e={};e.database=Sd(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(s=>MS(this.serializer,s))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{}class Cb extends Rb{constructor(e,i,s,l){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.So(e,Td(i,s),l,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Z.UNKNOWN,c.toString())})}Co(e,i,s,l,c){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Td(i,s),l,d,g,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class Db{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Hi(i),this.N_=!1):st("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _a="RemoteStore";class Vb{constructor(e,i,s,l,c){this.localStore=e,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=c,this.z_.To(d=>{s.enqueueAndForget(async()=>{Ta(this)&&(st(_a,"Restarting streams for network reachability change."),await async function(p){const y=Tt(p);y.W_.add(4),await dl(y),y.j_.set("Unknown"),y.W_.delete(4),await Oc(y)}(this))})}),this.j_=new Db(s,l)}}async function Oc(r){if(Ta(r))for(const e of r.G_)await e(!0)}async function dl(r){for(const e of r.G_)await e(!1)}function E0(r,e){const i=Tt(r);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),$d(i)?Jd(i):Ls(i).c_()&&Wd(i,e))}function Zd(r,e){const i=Tt(r),s=Ls(i);i.K_.delete(e),s.c_()&&T0(i,e),i.K_.size===0&&(s.c_()?s.P_():Ta(i)&&i.j_.set("Unknown"))}function Wd(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ls(r).y_(e)}function T0(r,e){r.H_.Ne(e),Ls(r).w_(e)}function Jd(r){r.H_=new SS({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.K_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Ls(r).start(),r.j_.B_()}function $d(r){return Ta(r)&&!Ls(r).u_()&&r.K_.size>0}function Ta(r){return Tt(r).W_.size===0}function A0(r){r.H_=void 0}async function Ib(r){r.j_.set("Online")}async function Mb(r){r.K_.forEach((e,i)=>{Wd(r,e)})}async function Nb(r,e){A0(r),$d(r)?(r.j_.q_(e),Jd(r)):r.j_.set("Unknown")}async function Ob(r,e,i){if(r.j_.set("Online"),e instanceof s0&&e.state===2&&e.cause)try{await async function(l,c){const d=c.cause;for(const g of c.targetIds)l.K_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.K_.delete(g),l.H_.removeTarget(g))}(r,e)}catch(s){st(_a,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ec(r,s)}else if(e instanceof rc?r.H_.We(e):e instanceof a0?r.H_.Ze(e):r.H_.je(e),!i.isEqual(Et.min()))try{const s=await y0(r.localStore);i.compareTo(s)>=0&&await function(c,d){const g=c.H_.ot(d);return g.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const E=c.K_.get(y);E&&c.K_.set(y,E.withResumeToken(p.resumeToken,d))}}),g.targetMismatches.forEach((p,y)=>{const E=c.K_.get(p);if(!E)return;c.K_.set(p,E.withResumeToken(je.EMPTY_BYTE_STRING,E.snapshotVersion)),T0(c,p);const S=new _r(E.target,p,y,E.sequenceNumber);Wd(c,S)}),c.remoteSyncer.applyRemoteEvent(g)}(r,i)}catch(s){st(_a,"Failed to raise snapshot:",s),await Ec(r,s)}}async function Ec(r,e,i){if(!xs(e))throw e;r.W_.add(1),await dl(r),r.j_.set("Offline"),i||(i=()=>y0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{st(_a,"Retrying IndexedDB access"),await i(),r.W_.delete(1),await Oc(r)})}function S0(r,e){return e().catch(i=>Ec(r,i,e))}async function xc(r){const e=Tt(r),i=Vr(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:Pd;for(;xb(e);)try{const l=await gb(e.localStore,s);if(l===null){e.U_.length===0&&i.P_();break}s=l.batchId,Lb(e,l)}catch(l){await Ec(e,l)}b0(e)&&w0(e)}function xb(r){return Ta(r)&&r.U_.length<10}function Lb(r,e){r.U_.push(e);const i=Vr(r);i.c_()&&i.S_&&i.b_(e.mutations)}function b0(r){return Ta(r)&&!Vr(r).u_()&&r.U_.length>0}function w0(r){Vr(r).start()}async function Ub(r){Vr(r).C_()}async function Pb(r){const e=Vr(r);for(const i of r.U_)e.b_(i.mutations)}async function zb(r,e,i){const s=r.U_.shift(),l=qd.from(s,e,i);await S0(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),await xc(r)}async function kb(r,e){e&&Vr(r).S_&&await async function(s,l){if(function(d){return TS(d)&&d!==Z.ABORTED}(l.code)){const c=s.U_.shift();Vr(s).h_(),await S0(s,()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l)),await xc(s)}}(r,e),b0(r)&&w0(r)}async function Mv(r,e){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),st(_a,"RemoteStore received new credentials");const s=Ta(i);i.W_.add(3),await dl(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await Oc(i)}async function Bb(r,e){const i=Tt(r);e?(i.W_.delete(2),await Oc(i)):e||(i.W_.add(2),await dl(i),i.j_.set("Unknown"))}function Ls(r){return r.J_||(r.J_=function(i,s,l){const c=Tt(i);return c.M_(),new bb(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:Ib.bind(null,r),No:Mb.bind(null,r),Lo:Nb.bind(null,r),p_:Ob.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),$d(r)?Jd(r):r.j_.set("Unknown")):(await r.J_.stop(),A0(r))})),r.J_}function Vr(r){return r.Y_||(r.Y_=function(i,s,l){const c=Tt(i);return c.M_(),new wb(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Ub.bind(null,r),Lo:kb.bind(null,r),D_:Pb.bind(null,r),v_:zb.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await xc(r)):(await r.Y_.stop(),r.U_.length>0&&(st(_a,`Stopping write stream with ${r.U_.length} pending writes`),r.U_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e,i,s,l,c){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new Sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,s,l,c){const d=Date.now()+s,g=new tm(e,i,d,l,c);return g.start(s),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function em(r,e){if(Hi("AsyncQueue",`${e}: ${r}`),xs(r))return new lt(Z.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{static emptySet(e){return new As(e.comparator)}constructor(e){this.comparator=e?(i,s)=>e(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=Ko(),this.sortedSet=new ae(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,s)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof As)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const s=new As;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{constructor(){this.Z_=new ae(ht.comparator)}track(e){const i=e.doc.key,s=this.Z_.get(i);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(i):e.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):yt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,s)=>{e.push(s)}),e}}class Ds{constructor(e,i,s,l,c,d,g,p,y){this.query=e,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,i,s,l,c){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new Ds(e,i,As.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,s=e.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class jb{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const l=Tt(i),c=l.queries;l.queries=Ov(),c.forEach((d,g)=>{for(const p of g.ta)p.onError(s)})})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function Ov(){return new Ea(r=>F_(r),Cc)}async function qb(r,e){const i=Tt(r);let s=3;const l=e.query;let c=i.queries.get(l);c?!c.na()&&e.ra()&&(s=2):(c=new Hb,s=e.ra()?0:1);try{switch(s){case 0:c.ea=await i.onListen(l,!0);break;case 1:c.ea=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=em(d,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(g)}i.queries.set(l,c),c.ta.push(e),e.sa(i.onlineState),c.ea&&e.oa(c.ea)&&nm(i)}async function Gb(r,e){const i=Tt(r),s=e.query;let l=3;const c=i.queries.get(s);if(c){const d=c.ta.indexOf(e);d>=0&&(c.ta.splice(d,1),c.ta.length===0?l=e.ra()?0:1:!c.na()&&e.ra()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function Fb(r,e){const i=Tt(r);let s=!1;for(const l of e){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.ta)g.oa(l)&&(s=!0);d.ea=l}}s&&nm(i)}function Yb(r,e,i){const s=Tt(r),l=s.queries.get(e);if(l)for(const c of l.ta)c.onError(i);s.queries.delete(e)}function nm(r){r.ia.forEach(e=>{e.next()})}var Rd,xv;(xv=Rd||(Rd={}))._a="default",xv.Cache="cache";class Qb{constructor(e,i,s){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new Ds(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ds.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Rd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.key=e}}class C0{constructor(e){this.key=e}}class Xb{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=It(),this.mutatedKeys=It(),this.ya=Y_(e),this.wa=new As(this.ya)}get Sa(){return this.fa}ba(e,i){const s=i?i.Da:new Nv,l=i?i.wa:this.wa;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((E,S)=>{const D=l.get(E),k=Dc(this.query,S)?S:null,Y=!!D&&this.mutatedKeys.has(D.key),J=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let K=!1;D&&k?D.data.isEqual(k.data)?Y!==J&&(s.track({type:3,doc:k}),K=!0):this.va(D,k)||(s.track({type:2,doc:k}),K=!0,(p&&this.ya(k,p)>0||y&&this.ya(k,y)<0)&&(g=!0)):!D&&k?(s.track({type:0,doc:k}),K=!0):D&&!k&&(s.track({type:1,doc:D}),K=!0,(p||y)&&(g=!0)),K&&(k?(d=d.add(k),c=J?c.add(E):c.delete(E)):(d=d.delete(E),c=c.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),c=c.delete(E.key),s.track({type:1,doc:E})}return{wa:d,Da:s,ls:g,mutatedKeys:c}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,s,l){const c=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((E,S)=>function(k,Y){const J=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return J(k)-J(Y)}(E.type,S.type)||this.ya(E.doc,S.doc)),this.Ca(s),l=l!=null&&l;const g=i&&!l?this.Fa():[],p=this.pa.size===0&&this.current&&!l?1:0,y=p!==this.ga;return this.ga=p,d.length!==0||y?{snapshot:new Ds(this.query,e.wa,c,d,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Nv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=It(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return e.forEach(s=>{this.pa.has(s)||i.push(new C0(s))}),this.pa.forEach(s=>{e.has(s)||i.push(new R0(s))}),i}Oa(e){this.fa=e.gs,this.pa=It();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return Ds.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const im="SyncEngine";class Kb{constructor(e,i,s){this.query=e,this.targetId=i,this.view=s}}class Zb{constructor(e){this.key=e,this.Ba=!1}}class Wb{constructor(e,i,s,l,c,d){this.localStore=e,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ea(g=>F_(g),Cc),this.qa=new Map,this.Qa=new Set,this.$a=new ae(ht.comparator),this.Ua=new Map,this.Ka=new Yd,this.Wa={},this.Ga=new Map,this.za=Cs.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Jb(r,e,i=!0){const s=O0(r);let l;const c=s.ka.get(e);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.Na()):l=await D0(s,e,i,!0),l}async function $b(r,e){const i=O0(r);await D0(i,e,!0,!1)}async function D0(r,e,i,s){const l=await pb(r.localStore,si(e)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await t2(r,e,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&E0(r.remoteStore,l),g}async function t2(r,e,i,s,l){r.Ha=(S,D,k)=>async function(J,K,et,it){let at=K.view.ba(et);at.ls&&(at=await Rv(J.localStore,K.query,!1).then(({documents:O})=>K.view.ba(O,at)));const At=it&&it.targetChanges.get(K.targetId),ct=it&&it.targetMismatches.get(K.targetId)!=null,vt=K.view.applyChanges(at,J.isPrimaryClient,At,ct);return Uv(J,K.targetId,vt.Ma),vt.snapshot}(r,S,D,k);const c=await Rv(r.localStore,e,!0),d=new Xb(e,c.gs),g=d.ba(c.documents),p=hl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,p);Uv(r,i,y.Ma);const E=new Kb(e,i,d);return r.ka.set(e,E),r.qa.has(i)?r.qa.get(i).push(e):r.qa.set(i,[e]),y.snapshot}async function e2(r,e,i){const s=Tt(r),l=s.ka.get(e),c=s.qa.get(l.targetId);if(c.length>1)return s.qa.set(l.targetId,c.filter(d=>!Cc(d,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await bd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&Zd(s.remoteStore,l.targetId),Cd(s,l.targetId)}).catch(Os)):(Cd(s,l.targetId),await bd(s.localStore,l.targetId,!0))}async function n2(r,e){const i=Tt(r),s=i.ka.get(e),l=i.qa.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),Zd(i.remoteStore,s.targetId))}async function i2(r,e,i){const s=c2(r);try{const l=await function(d,g){const p=Tt(d),y=Re.now(),E=g.reduce((k,Y)=>k.add(Y.key),It());let S,D;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let Y=ji(),J=It();return p.ds.getEntries(k,E).next(K=>{Y=K,Y.forEach((et,it)=>{it.isValidDocument()||(J=J.add(et))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,Y)).next(K=>{S=K;const et=[];for(const it of g){const at=pS(it,S.get(it.key).overlayedDocument);at!=null&&et.push(new Nr(it.key,at,U_(at.value.mapValue),oi.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,et,g)}).next(K=>{D=K;const et=K.applyToLocalDocumentSet(S,J);return p.documentOverlayCache.saveOverlays(k,K.batchId,et)})}).then(()=>({batchId:D.batchId,changes:X_(S)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,p){let y=d.Wa[d.currentUser.toKey()];y||(y=new ae(wt)),y=y.insert(g,p),d.Wa[d.currentUser.toKey()]=y}(s,l.batchId,i),await ml(s,l.changes),await xc(s.remoteStore)}catch(l){const c=em(l,"Failed to persist write");i.reject(c)}}async function V0(r,e){const i=Tt(r);try{const s=await db(i.localStore,e);e.targetChanges.forEach((l,c)=>{const d=i.Ua.get(c);d&&(jt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?jt(d.Ba):l.removedDocuments.size>0&&(jt(d.Ba),d.Ba=!1))}),await ml(i,s,e)}catch(s){await Os(s)}}function Lv(r,e,i){const s=Tt(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.ka.forEach((c,d)=>{const g=d.view.sa(e);g.snapshot&&l.push(g.snapshot)}),function(d,g){const p=Tt(d);p.onlineState=g;let y=!1;p.queries.forEach((E,S)=>{for(const D of S.ta)D.sa(g)&&(y=!0)}),y&&nm(p)}(s.eventManager,e),l.length&&s.La.p_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function r2(r,e,i){const s=Tt(r);s.sharedClientState.updateQueryState(e,"rejected",i);const l=s.Ua.get(e),c=l&&l.key;if(c){let d=new ae(ht.comparator);d=d.insert(c,Xe.newNoDocument(c,Et.min()));const g=It().add(c),p=new Mc(Et.min(),new Map,new ae(wt),d,g);await V0(s,p),s.$a=s.$a.remove(c),s.Ua.delete(e),rm(s)}else await bd(s.localStore,e,!1).then(()=>Cd(s,e,i)).catch(Os)}async function a2(r,e){const i=Tt(r),s=e.batch.batchId;try{const l=await hb(i.localStore,e);M0(i,s,null),I0(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await ml(i,l)}catch(l){await Os(l)}}async function s2(r,e,i){const s=Tt(r);try{const l=await function(d,g){const p=Tt(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return p.mutationQueue.lookupMutationBatch(y,g).next(S=>(jt(S!==null),E=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,E,g)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>p.localDocuments.getDocuments(y,E))})}(s.localStore,e);M0(s,e,i),I0(s,e),s.sharedClientState.updateMutationState(e,"rejected",i),await ml(s,l)}catch(l){await Os(l)}}function I0(r,e){(r.Ga.get(e)||[]).forEach(i=>{i.resolve()}),r.Ga.delete(e)}function M0(r,e,i){const s=Tt(r);let l=s.Wa[s.currentUser.toKey()];if(l){const c=l.get(e);c&&(i?c.reject(i):c.resolve(),l=l.remove(e)),s.Wa[s.currentUser.toKey()]=l}}function Cd(r,e,i=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),i&&r.La.Ja(s,i);r.qa.delete(e),r.isPrimaryClient&&r.Ka.br(e).forEach(s=>{r.Ka.containsKey(s)||N0(r,s)})}function N0(r,e){r.Qa.delete(e.path.canonicalString());const i=r.$a.get(e);i!==null&&(Zd(r.remoteStore,i),r.$a=r.$a.remove(e),r.Ua.delete(i),rm(r))}function Uv(r,e,i){for(const s of i)s instanceof R0?(r.Ka.addReference(s.key,e),o2(r,s)):s instanceof C0?(st(im,"Document no longer in limbo: "+s.key),r.Ka.removeReference(s.key,e),r.Ka.containsKey(s.key)||N0(r,s.key)):yt()}function o2(r,e){const i=e.key,s=i.path.canonicalString();r.$a.get(i)||r.Qa.has(s)||(st(im,"New document in limbo: "+i),r.Qa.add(s),rm(r))}function rm(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const i=new ht($t.fromString(e)),s=r.za.next();r.Ua.set(s,new Zb(i)),r.$a=r.$a.insert(i,s),E0(r.remoteStore,new _r(si(q_(i.path)),s,"TargetPurposeLimboResolution",bc.ae))}}async function ml(r,e,i){const s=Tt(r),l=[],c=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,p)=>{d.push(s.Ha(p,e,i).then(y=>{var E;if((y||i)&&s.isPrimaryClient){const S=y?!y.fromCache:(E=i==null?void 0:i.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){l.push(y);const S=Xd.Yi(p.targetId,y);c.push(S)}}))}),await Promise.all(d),s.La.p_(l),await async function(p,y){const E=Tt(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>X.forEach(y,D=>X.forEach(D.Hi,k=>E.persistence.referenceDelegate.addReference(S,D.targetId,k)).next(()=>X.forEach(D.Ji,k=>E.persistence.referenceDelegate.removeReference(S,D.targetId,k)))))}catch(S){if(!xs(S))throw S;st(Kd,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const k=E.Ts.get(D),Y=k.snapshotVersion,J=k.withLastLimboFreeSnapshotVersion(Y);E.Ts=E.Ts.insert(D,J)}}}(s.localStore,c))}async function l2(r,e){const i=Tt(r);if(!i.currentUser.isEqual(e)){st(im,"User change. New user:",e.toKey());const s=await p0(i.localStore,e);i.currentUser=e,function(c,d){c.Ga.forEach(g=>{g.forEach(p=>{p.reject(new lt(Z.CANCELLED,d))})}),c.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await ml(i,s.Rs)}}function u2(r,e){const i=Tt(r),s=i.Ua.get(e);if(s&&s.Ba)return It().add(s.key);{let l=It();const c=i.qa.get(e);if(!c)return l;for(const d of c){const g=i.ka.get(d);l=l.unionWith(g.view.Sa)}return l}}function O0(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=V0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=r2.bind(null,e),e.La.p_=Fb.bind(null,e.eventManager),e.La.Ja=Yb.bind(null,e.eventManager),e}function c2(r){const e=Tt(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=s2.bind(null,e),e}class Tc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Nc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return fb(this.persistence,new lb,e.initialUser,this.serializer)}Xa(e){return new g0(Qd.ri,this.serializer)}Za(e){return new vb}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Tc.provider={build:()=>new Tc};class f2 extends Tc{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){jt(this.persistence.referenceDelegate instanceof _c);const s=this.persistence.referenceDelegate.garbageCollector;return new QS(s,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new g0(s=>_c.ri(s,i),this.serializer)}}class Dd{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Lv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=l2.bind(null,this.syncEngine),await Bb(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jb}()}createDatastore(e){const i=Nc(e.databaseInfo.databaseId),s=function(c){return new Sb(c)}(e.databaseInfo);return function(c,d,g,p){return new Cb(c,d,g,p)}(e.authCredentials,e.appCheckCredentials,s,i)}createRemoteStore(e){return function(s,l,c,d,g){return new Vb(s,l,c,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Lv(this.syncEngine,i,0),function(){return Vv.D()?new Vv:new _b}())}createSyncEngine(e,i){return function(l,c,d,g,p,y,E){const S=new Wb(l,c,d,g,p,y);return E&&(S.ja=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(l){const c=Tt(l);st(_a,"RemoteStore shutting down."),c.W_.add(5),await dl(c),c.z_.shutdown(),c.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Dd.provider={build:()=>new Dd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Hi("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ir="FirestoreClient";class d2{constructor(e,i,s,l,c){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Qe.UNAUTHENTICATED,this.clientId=R_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,async d=>{st(Ir,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(st(Ir,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const s=em(i,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function ed(r,e){r.asyncQueue.verifyOperationInProgress(),st(Ir,"Initializing OfflineComponentProvider");const i=r.configuration;await e.initialize(i);let s=i.initialUser;r.setCredentialChangeListener(async l=>{s.isEqual(l)||(await p0(e.localStore,l),s=l)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Pv(r,e){r.asyncQueue.verifyOperationInProgress();const i=await m2(r);st(Ir,"Initializing OnlineComponentProvider"),await e.initialize(i,r.configuration),r.setCredentialChangeListener(s=>Mv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,l)=>Mv(e.remoteStore,l)),r._onlineComponents=e}async function m2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(Ir,"Using user provided OfflineComponentProvider");try{await ed(r,r._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Ss("Error using user provided cache. Falling back to memory cache: "+i),await ed(r,new Tc)}}else st(Ir,"Using default OfflineComponentProvider"),await ed(r,new f2(void 0));return r._offlineComponents}async function x0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(Ir,"Using user provided OnlineComponentProvider"),await Pv(r,r._uninitializedComponentsProvider._online)):(st(Ir,"Using default OnlineComponentProvider"),await Pv(r,new Dd))),r._onlineComponents}function g2(r){return x0(r).then(e=>e.syncEngine)}async function p2(r){const e=await x0(r),i=e.eventManager;return i.onListen=Jb.bind(null,e.syncEngine),i.onUnlisten=e2.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=$b.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=n2.bind(null,e.syncEngine),i}function y2(r,e,i={}){const s=new Sr;return r.asyncQueue.enqueueAndForget(async()=>function(c,d,g,p,y){const E=new h2({next:D=>{E.su(),d.enqueueAndForget(()=>Gb(c,S)),D.fromCache&&p.source==="server"?y.reject(new lt(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new Qb(g,E,{includeMetadataChanges:!0,Ta:!0});return qb(c,S)}(await p2(r),r.asyncQueue,e,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(r,e,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function v2(r,e,i,s){if(e===!0&&s===!0)throw new lt(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function kv(r){if(!ht.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Bv(r){if(ht.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Lc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":yt()}function Vs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lc(r);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0="firestore.googleapis.com",Hv=!0;class jv{constructor(e){var i,s;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=P0,this.ssl=Hv}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:Hv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=m0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FS)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}v2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uc{constructor(e,i,s,l){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new A1;switch(s.type){case"firstParty":return new R1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=zv.get(i);s&&(st("ComponentProvider","Removing Datastore"),zv.delete(i),s.terminate())}(this),Promise.resolve()}}function _2(r,e,i,s={}){var l;const c=(r=Vs(r,Uc))._getSettings(),d=Object.assign(Object.assign({},c),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${i}`;c.host!==P0&&c.host!==g&&Ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},c),{host:g,ssl:!1,emulatorOptions:s});if(!lc(p,d)&&(r._setSettings(p),s.mockUserToken)){let y,E;if(typeof s.mockUserToken=="string")y=s.mockUserToken,E=Qe.MOCK_USER;else{y=eA(s.mockUserToken,(l=r._app)===null||l===void 0?void 0:l.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new Qe(S)}r._authCredentials=new S1(new b_(y,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class vn{constructor(e,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new br(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class br extends Us{constructor(e,i,s){super(e,i,q_(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new ht(e))}withConverter(e){return new br(this.firestore,e,this._path)}}function nd(r,e,...i){if(r=ki(r),U0("collection","path",e),r instanceof Uc){const s=$t.fromString(e,...i);return Bv(s),new br(r,null,s)}{if(!(r instanceof vn||r instanceof br))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(e,...i));return Bv(s),new br(r.firestore,null,s)}}function z0(r,e,...i){if(r=ki(r),arguments.length===1&&(e=R_.newId()),U0("doc","path",e),r instanceof Uc){const s=$t.fromString(e,...i);return kv(s),new vn(r,null,new ht(s))}{if(!(r instanceof vn||r instanceof br))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child($t.fromString(e,...i));return kv(s),new vn(r.firestore,r instanceof br?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="AsyncQueue";class Gv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new v0(this,"async_queue_retry"),this.Su=()=>{const s=td();s&&st(qv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const i=td();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=td();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Sr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!xs(e))throw e;st(qv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Hi("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(e,i,s){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const l=tm.createAndSchedule(this,e,i,s,c=>this.Fu(c));return this.fu.push(l),l}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}class Pc extends Uc{constructor(e,i,s,l){super(e,i,s,l),this.type="firestore",this._queue=new Gv,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gv(e),this._firestoreClient=void 0,await e}}}function E2(r,e){const i=typeof r=="object"?r:f1(),s=typeof r=="string"?r:hc,l=s1(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=$T("firestore");c&&_2(l,...c)}return l}function k0(r){if(r._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||T2(r),r._firestoreClient}function T2(r){var e,i,s;const l=r._freezeSettings(),c=function(g,p,y,E){return new H1(g,p,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,L0(E.experimentalLongPollingOptions),E.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,l);r._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),r._firestoreClient=new d2(r._authCredentials,r._appCheckCredentials,r._queue,c,r._componentsProvider&&function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Is{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Is(je.fromBase64String(e))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new Is(je.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new He(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=/^__.*__$/;class S2{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,i,this.fieldTransforms):new fl(e,this.data,i,this.fieldTransforms)}}class B0{constructor(e,i,s){this.data=e,this.fieldMask=i,this.fieldTransforms=s}toMutation(e,i){return new Nr(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function H0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt()}}class lm{constructor(e,i,s,l,c,d){this.settings=e,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Bu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new lm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),l=this.ku({path:s,Qu:!1});return l.$u(e),l}Uu(e){var i;const s=(i=this.path)===null||i===void 0?void 0:i.child(e),l=this.ku({path:s,Qu:!1});return l.Bu(),l}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ac(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(H0(this.Lu)&&A2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class b2{constructor(e,i,s){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=s||Nc(e)}ju(e,i,s,l=!1){return new lm({Lu:e,methodName:i,zu:s,path:He.emptyPath(),Qu:!1,Gu:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function um(r){const e=r._freezeSettings(),i=Nc(r._databaseId);return new b2(r._databaseId,!!e.ignoreUndefinedProperties,i)}function w2(r,e,i,s,l,c={}){const d=r.ju(c.merge||c.mergeFields?2:0,e,i,l);cm("Data must be an object, but it was:",d,s);const g=j0(s,d);let p,y;if(c.merge)p=new yn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const E=[];for(const S of c.mergeFields){const D=Vd(e,S,i);if(!d.contains(D))throw new lt(Z.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);G0(E,D)||E.push(D)}p=new yn(E),y=d.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=d.fieldTransforms;return new S2(new sn(g),p,y)}class kc extends am{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kc}}function R2(r,e,i,s){const l=r.ju(1,e,i);cm("Data must be an object, but it was:",l,s);const c=[],d=sn.empty();Mr(s,(p,y)=>{const E=fm(e,p,i);y=ki(y);const S=l.Uu(E);if(y instanceof kc)c.push(E);else{const D=gl(y,S);D!=null&&(c.push(E),d.set(E,D))}});const g=new yn(c);return new B0(d,g,l.fieldTransforms)}function C2(r,e,i,s,l,c){const d=r.ju(1,e,i),g=[Vd(e,s,i)],p=[l];if(c.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(Vd(e,c[D])),p.push(c[D+1]);const y=[],E=sn.empty();for(let D=g.length-1;D>=0;--D)if(!G0(y,g[D])){const k=g[D];let Y=p[D];Y=ki(Y);const J=d.Uu(k);if(Y instanceof kc)y.push(k);else{const K=gl(Y,J);K!=null&&(y.push(k),E.set(k,K))}}const S=new yn(y);return new B0(E,S,d.fieldTransforms)}function D2(r,e,i,s=!1){return gl(i,r.ju(s?4:3,e))}function gl(r,e){if(q0(r=ki(r)))return cm("Unsupported field value:",e,r),j0(r,e);if(r instanceof am)return function(s,l){if(!H0(l.Lu))throw l.Wu(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Wu(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,l){const c=[];let d=0;for(const g of s){let p=gl(g,l.Ku(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(r,e)}return function(s,l){if((s=ki(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return cS(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=Re.fromDate(s);return{timestampValue:vc(l.serializer,c)}}if(s instanceof Re){const c=new Re(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:vc(l.serializer,c)}}if(s instanceof sm)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Is)return{bytesValue:o0(l.serializer,s._byteString)};if(s instanceof vn){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Fd(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof om)return function(d,g){return{mapValue:{fields:{[x_]:{stringValue:L_},[dc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw g.Wu("VectorValues must only contain numeric values.");return jd(g.serializer,y)})}}}}}}(s,l);throw l.Wu(`Unsupported field value: ${Lc(s)}`)}(r,e)}function j0(r,e){const i={};return D_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Mr(r,(s,l)=>{const c=gl(l,e.qu(s));c!=null&&(i[s]=c)}),{mapValue:{fields:i}}}function q0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Re||r instanceof sm||r instanceof Is||r instanceof vn||r instanceof am||r instanceof om)}function cm(r,e,i){if(!q0(i)||!function(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}(i)){const s=Lc(i);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Vd(r,e,i){if((e=ki(e))instanceof zc)return e._internalPath;if(typeof e=="string")return fm(r,e);throw Ac("Field path arguments must be of type string or ",r,!1,void 0,i)}const V2=new RegExp("[~\\*/\\[\\]]");function fm(r,e,i){if(e.search(V2)>=0)throw Ac(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new zc(...e.split("."))._internalPath}catch{throw Ac(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Ac(r,e,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${s}`),d&&(p+=` in document ${l}`),p+=")"),new lt(Z.INVALID_ARGUMENT,g+r+p)}function G0(r,e){return r.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(e,i,s,l,c){this._firestore=e,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(hm("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class I2 extends F0{data(){return super.data()}}function hm(r,e){return typeof e=="string"?fm(r,e):e instanceof zc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dm{}class N2 extends dm{}function Xu(r,e,...i){let s=[];e instanceof dm&&s.push(e),s=s.concat(i),function(c){const d=c.filter(p=>p instanceof mm).length,g=c.filter(p=>p instanceof Bc).length;if(d>1||d>0&&g>0)throw new lt(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const l of s)r=l._apply(r);return r}class Bc extends N2{constructor(e,i,s){super(),this._field=e,this._op=i,this._value=s,this.type="where"}static _create(e,i,s){return new Bc(e,i,s)}_apply(e){const i=this._parse(e);return Y0(e._query,i),new Us(e.firestore,e.converter,vd(e._query,i))}_parse(e){const i=um(e.firestore);return function(c,d,g,p,y,E,S){let D;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){Yv(S,E);const Y=[];for(const J of S)Y.push(Fv(p,c,J));D={arrayValue:{values:Y}}}else D=Fv(p,c,S)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||Yv(S,E),D=D2(g,d,S,E==="in"||E==="not-in");return _e.create(y,E,D)}(e._query,"where",i,e.firestore._databaseId,this._field,this._op,this._value)}}function Ku(r,e,i){const s=e,l=hm("where",r);return Bc._create(l,s,i)}class mm extends dm{constructor(e,i){super(),this.type=e,this._queryConstraints=i}static _create(e,i){return new mm(e,i)}_parse(e){const i=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return i.length===1?i[0]:Bn.create(i,this._getOperator())}_apply(e){const i=this._parse(e);return i.getFilters().length===0?e:(function(l,c){let d=l;const g=c.getFlattenedFilters();for(const p of g)Y0(d,p),d=vd(d,p)}(e._query,i),new Us(e.firestore,e.converter,vd(e._query,i)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Fv(r,e,i){if(typeof(i=ki(i))=="string"){if(i==="")throw new lt(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G_(e)&&i.indexOf("/")!==-1)throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${i}' contains a '/' character.`);const s=e.path.child($t.fromString(i));if(!ht.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return ov(r,new ht(s))}if(i instanceof vn)return ov(r,i._key);throw new lt(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lc(i)}.`)}function Yv(r,e){if(!Array.isArray(r)||r.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Y0(r,e){const i=function(l,c){for(const d of l)for(const g of d.getFlattenedFilters())if(c.indexOf(g.op)>=0)return g.op;return null}(r.filters,function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(i!==null)throw i===e.op?new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${i.toString()}' filters.`)}class O2{convertValue(e,i="none"){switch(Dr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return de(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(Cr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw yt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const s={};return Mr(e,(l,c)=>{s[l]=this.convertValue(c,i)}),s}convertVectorValue(e){var i,s,l;const c=(l=(s=(i=e.fields)===null||i===void 0?void 0:i[dc].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>de(d.doubleValue));return new om(c)}convertGeoPoint(e){return new sm(de(e.latitude),de(e.longitude))}convertArray(e,i){return(e.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(e,i){switch(i){case"previous":const s=Rc(e);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(rl(e));default:return null}}convertTimestamp(e){const i=Rr(e);return new Re(i.seconds,i.nanos)}convertDocumentKey(e,i){const s=$t.fromString(e);jt(d0(s));const l=new al(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return l.isEqual(i)||Hi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(r,e,i){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class L2 extends F0{constructor(e,i,s,l,c,d){super(e,i,s,l,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new ac(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const s=this._document.data.field(hm("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class ac extends L2{data(e={}){return super.data(e)}}class U2{constructor(e,i,s,l){this._firestore=e,this._userDataWriter=i,this._snapshot=l,this.metadata=new Zu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(s=>{e.call(i,new ac(this._firestore,this._userDataWriter,s.key,s,new Zu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const p=new ac(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zu(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>c||g.type!==3).map(g=>{const p=new ac(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Zu(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,E=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),E=d.indexOf(g.doc.key)),{type:P2(g.type),doc:p,oldIndex:y,newIndex:E}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function P2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}class z2 extends O2{constructor(e){super(),this.firestore=e}convertBytes(e){return new Is(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,i)}}function id(r){r=Vs(r,Us);const e=Vs(r.firestore,Pc),i=k0(e),s=new z2(e);return M2(r._query),y2(i,r._query).then(l=>new U2(e,s,r,l))}function k2(r,e,i,...s){r=Vs(r,vn);const l=Vs(r.firestore,Pc),c=um(l);let d;return d=typeof(e=ki(e))=="string"||e instanceof zc?C2(c,"updateDoc",r._key,e,i,s):R2(c,"updateDoc",r._key,e),Q0(l,[d.toMutation(r._key,oi.exists(!0))])}function B2(r,e){const i=Vs(r.firestore,Pc),s=z0(r),l=x2(r.converter,e);return Q0(i,[w2(um(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,oi.exists(!1))]).then(()=>s)}function Q0(r,e){return function(s,l){const c=new Sr;return s.asyncQueue.enqueueAndForget(async()=>i2(await g2(s),l,c)),c.promise}(k0(r),e)}(function(e,i=!0){(function(l){Ns=l})(c1),cc(new el("firestore",(s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Pc(new b1(s.getProvider("auth-internal")),new C1(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(y.options.projectId,E)}(d,l),d);return c=Object.assign({useFetchStreams:i},c),g._setSettings(c),g},"PUBLIC").setMultipleInstances(!0)),Ts(Ky,Zy,e),Ts(Ky,Zy,"esm2017")})();var H2="firebase",j2="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ts(H2,j2,"app");const q2={apiKey:"AIzaSyCiDPHZEXAHbxXM5pBHVPsFsV3oh-BkNRI",authDomain:"shaffers-b329f.firebaseapp.com",projectId:"shaffers-b329f",storageBucket:"shaffers-b329f.firebasestorage.app",messagingSenderId:"513809891195",appId:"1:513809891195:web:9c15bd18f9f837b210c7de"},G2=g_(q2),Wu=E2(G2);var Id=function(){return Id=Object.assign||function(e){for(var i,s=1,l=arguments.length;s<l;s++){i=arguments[s];for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&(e[c]=i[c])}return e},Id.apply(this,arguments)};function ci(r,e,i,s){function l(c){return c instanceof i?c:new i(function(d){d(c)})}return new(i||(i=Promise))(function(c,d){function g(E){try{y(s.next(E))}catch(S){d(S)}}function p(E){try{y(s.throw(E))}catch(S){d(S)}}function y(E){E.done?c(E.value):l(E.value).then(g,p)}y((s=s.apply(r,e||[])).next())})}function fi(r,e){var i={label:0,sent:function(){if(c[0]&1)throw c[1];return c[1]},trys:[],ops:[]},s,l,c,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=g(0),d.throw=g(1),d.return=g(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function g(y){return function(E){return p([y,E])}}function p(y){if(s)throw new TypeError("Generator is already executing.");for(;d&&(d=0,y[0]&&(i=0)),i;)try{if(s=1,l&&(c=y[0]&2?l.return:y[0]?l.throw||((c=l.return)&&c.call(l),0):l.next)&&!(c=c.call(l,y[1])).done)return c;switch(l=0,c&&(y=[y[0]&2,c.value]),y[0]){case 0:case 1:c=y;break;case 4:return i.label++,{value:y[1],done:!1};case 5:i.label++,l=y[1],y=[0];continue;case 7:y=i.ops.pop(),i.trys.pop();continue;default:if(c=i.trys,!(c=c.length>0&&c[c.length-1])&&(y[0]===6||y[0]===2)){i=0;continue}if(y[0]===3&&(!c||y[1]>c[0]&&y[1]<c[3])){i.label=y[1];break}if(y[0]===6&&i.label<c[1]){i.label=c[1],c=y;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(y);break}c[2]&&i.ops.pop(),i.trys.pop();continue}y=e.call(r,i)}catch(E){y=[6,E],l=0}finally{s=c=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}}function X0(r,e,i){if(i||arguments.length===2)for(var s=0,l=e.length,c;s<l;s++)(c||!(s in e))&&(c||(c=Array.prototype.slice.call(e,0,s)),c[s]=e[s]);return r.concat(c||Array.prototype.slice.call(e))}var K0="4.6.1";function Sc(r,e){return new Promise(function(i){return setTimeout(i,r,e)})}function F2(){return new Promise(function(r){var e=new MessageChannel;e.port1.onmessage=function(){return r()},e.port2.postMessage(null)})}function Y2(r,e){e===void 0&&(e=1/0);var i=window.requestIdleCallback;return i?new Promise(function(s){return i.call(window,function(){return s()},{timeout:e})}):Sc(Math.min(r,e))}function Z0(r){return!!r&&typeof r.then=="function"}function Qv(r,e){try{var i=r();Z0(i)?i.then(function(s){return e(!0,s)},function(s){return e(!1,s)}):e(!0,i)}catch(s){e(!1,s)}}function Xv(r,e,i){return i===void 0&&(i=16),ci(this,void 0,void 0,function(){var s,l,c,d;return fi(this,function(g){switch(g.label){case 0:s=Array(r.length),l=Date.now(),c=0,g.label=1;case 1:return c<r.length?(s[c]=e(r[c],c),d=Date.now(),d>=l+i?(l=d,[4,F2()]):[3,3]):[3,4];case 2:g.sent(),g.label=3;case 3:return++c,[3,1];case 4:return[2,s]}})})}function ul(r){return r.then(void 0,function(){}),r}function Q2(r,e){for(var i=0,s=r.length;i<s;++i)if(r[i]===e)return!0;return!1}function X2(r,e){return!Q2(r,e)}function gm(r){return parseInt(r)}function kn(r){return parseFloat(r)}function zi(r,e){return typeof r=="number"&&isNaN(r)?e:r}function tn(r){return r.reduce(function(e,i){return e+(i?1:0)},0)}function W0(r,e){if(e===void 0&&(e=1),Math.abs(e)>=1)return Math.round(r/e)*e;var i=1/e;return Math.round(r*i)/i}function K2(r){for(var e,i,s="Unexpected syntax '".concat(r,"'"),l=/^\s*([a-z-]*)(.*)$/i.exec(r),c=l[1]||void 0,d={},g=/([.:#][\w-]+|\[.+?\])/gi,p=function(D,k){d[D]=d[D]||[],d[D].push(k)};;){var y=g.exec(l[2]);if(!y)break;var E=y[0];switch(E[0]){case".":p("class",E.slice(1));break;case"#":p("id",E.slice(1));break;case"[":{var S=/^\[([\w-]+)([~|^$*]?=("(.*?)"|([\w-]+)))?(\s+[is])?\]$/.exec(E);if(S)p(S[1],(i=(e=S[4])!==null&&e!==void 0?e:S[5])!==null&&i!==void 0?i:"");else throw new Error(s);break}default:throw new Error(s)}}return[c,d]}function Z2(r){for(var e=new Uint8Array(r.length),i=0;i<r.length;i++){var s=r.charCodeAt(i);if(s>127)return new TextEncoder().encode(r);e[i]=s}return e}function vr(r,e){var i=r[0]>>>16,s=r[0]&65535,l=r[1]>>>16,c=r[1]&65535,d=e[0]>>>16,g=e[0]&65535,p=e[1]>>>16,y=e[1]&65535,E=0,S=0,D=0,k=0;k+=c+y,D+=k>>>16,k&=65535,D+=l+p,S+=D>>>16,D&=65535,S+=s+g,E+=S>>>16,S&=65535,E+=i+d,E&=65535,r[0]=E<<16|S,r[1]=D<<16|k}function Nn(r,e){var i=r[0]>>>16,s=r[0]&65535,l=r[1]>>>16,c=r[1]&65535,d=e[0]>>>16,g=e[0]&65535,p=e[1]>>>16,y=e[1]&65535,E=0,S=0,D=0,k=0;k+=c*y,D+=k>>>16,k&=65535,D+=l*y,S+=D>>>16,D&=65535,D+=c*p,S+=D>>>16,D&=65535,S+=s*y,E+=S>>>16,S&=65535,S+=l*p,E+=S>>>16,S&=65535,S+=c*g,E+=S>>>16,S&=65535,E+=i*y+s*p+l*g+c*d,E&=65535,r[0]=E<<16|S,r[1]=D<<16|k}function ms(r,e){var i=r[0];e%=64,e===32?(r[0]=r[1],r[1]=i):e<32?(r[0]=i<<e|r[1]>>>32-e,r[1]=r[1]<<e|i>>>32-e):(e-=32,r[0]=r[1]<<e|i>>>32-e,r[1]=i<<e|r[1]>>>32-e)}function pn(r,e){e%=64,e!==0&&(e<32?(r[0]=r[1]>>>32-e,r[1]=r[1]<<e):(r[0]=r[1]<<e-32,r[1]=0))}function ne(r,e){r[0]^=e[0],r[1]^=e[1]}var W2=[4283543511,3981806797],J2=[3301882366,444984403];function Kv(r){var e=[0,r[0]>>>1];ne(r,e),Nn(r,W2),e[1]=r[0]>>>1,ne(r,e),Nn(r,J2),e[1]=r[0]>>>1,ne(r,e)}var Ju=[2277735313,289559509],$u=[1291169091,658871167],Zv=[0,5],$2=[0,1390208809],tw=[0,944331445];function ew(r,e){var i=Z2(r);e=e||0;var s=[0,i.length],l=s[1]%16,c=s[1]-l,d=[0,e],g=[0,e],p=[0,0],y=[0,0],E;for(E=0;E<c;E=E+16)p[0]=i[E+4]|i[E+5]<<8|i[E+6]<<16|i[E+7]<<24,p[1]=i[E]|i[E+1]<<8|i[E+2]<<16|i[E+3]<<24,y[0]=i[E+12]|i[E+13]<<8|i[E+14]<<16|i[E+15]<<24,y[1]=i[E+8]|i[E+9]<<8|i[E+10]<<16|i[E+11]<<24,Nn(p,Ju),ms(p,31),Nn(p,$u),ne(d,p),ms(d,27),vr(d,g),Nn(d,Zv),vr(d,$2),Nn(y,$u),ms(y,33),Nn(y,Ju),ne(g,y),ms(g,31),vr(g,d),Nn(g,Zv),vr(g,tw);p[0]=0,p[1]=0,y[0]=0,y[1]=0;var S=[0,0];switch(l){case 15:S[1]=i[E+14],pn(S,48),ne(y,S);case 14:S[1]=i[E+13],pn(S,40),ne(y,S);case 13:S[1]=i[E+12],pn(S,32),ne(y,S);case 12:S[1]=i[E+11],pn(S,24),ne(y,S);case 11:S[1]=i[E+10],pn(S,16),ne(y,S);case 10:S[1]=i[E+9],pn(S,8),ne(y,S);case 9:S[1]=i[E+8],ne(y,S),Nn(y,$u),ms(y,33),Nn(y,Ju),ne(g,y);case 8:S[1]=i[E+7],pn(S,56),ne(p,S);case 7:S[1]=i[E+6],pn(S,48),ne(p,S);case 6:S[1]=i[E+5],pn(S,40),ne(p,S);case 5:S[1]=i[E+4],pn(S,32),ne(p,S);case 4:S[1]=i[E+3],pn(S,24),ne(p,S);case 3:S[1]=i[E+2],pn(S,16),ne(p,S);case 2:S[1]=i[E+1],pn(S,8),ne(p,S);case 1:S[1]=i[E],ne(p,S),Nn(p,Ju),ms(p,31),Nn(p,$u),ne(d,p)}return ne(d,s),ne(g,s),vr(d,g),vr(g,d),Kv(d),Kv(g),vr(d,g),vr(g,d),("00000000"+(d[0]>>>0).toString(16)).slice(-8)+("00000000"+(d[1]>>>0).toString(16)).slice(-8)+("00000000"+(g[0]>>>0).toString(16)).slice(-8)+("00000000"+(g[1]>>>0).toString(16)).slice(-8)}function nw(r){var e;return Id({name:r.name,message:r.message,stack:(e=r.stack)===null||e===void 0?void 0:e.split(`
`)},r)}function iw(r){return/^function\s.*?\{\s*\[native code]\s*}$/.test(String(r))}function rw(r){return typeof r!="function"}function aw(r,e){var i=ul(new Promise(function(s){var l=Date.now();Qv(r.bind(null,e),function(){for(var c=[],d=0;d<arguments.length;d++)c[d]=arguments[d];var g=Date.now()-l;if(!c[0])return s(function(){return{error:c[1],duration:g}});var p=c[1];if(rw(p))return s(function(){return{value:p,duration:g}});s(function(){return new Promise(function(y){var E=Date.now();Qv(p,function(){for(var S=[],D=0;D<arguments.length;D++)S[D]=arguments[D];var k=g+Date.now()-E;if(!S[0])return y({error:S[1],duration:k});y({value:S[1],duration:k})})})})})}));return function(){return i.then(function(l){return l()})}}function sw(r,e,i,s){var l=Object.keys(r).filter(function(d){return X2(i,d)}),c=ul(Xv(l,function(d){return aw(r[d],e)},s));return function(){return ci(this,void 0,void 0,function(){var g,p,y,E,S;return fi(this,function(D){switch(D.label){case 0:return[4,c];case 1:return g=D.sent(),[4,Xv(g,function(k){return ul(k())},s)];case 2:return p=D.sent(),[4,Promise.all(p)];case 3:for(y=D.sent(),E={},S=0;S<l.length;++S)E[l[S]]=y[S];return[2,E]}})})}}function J0(){var r=window,e=navigator;return tn(["MSCSSMatrix"in r,"msSetImmediate"in r,"msIndexedDB"in r,"msMaxTouchPoints"in e,"msPointerEnabled"in e])>=4}function ow(){var r=window,e=navigator;return tn(["msWriteProfilerMark"in r,"MSStream"in r,"msLaunchUri"in e,"msSaveBlob"in e])>=3&&!J0()}function pl(){var r=window,e=navigator;return tn(["webkitPersistentStorage"in e,"webkitTemporaryStorage"in e,(e.vendor||"").indexOf("Google")===0,"webkitResolveLocalFileSystemURL"in r,"BatteryManager"in r,"webkitMediaStream"in r,"webkitSpeechGrammar"in r])>=5}function Hn(){var r=window,e=navigator;return tn(["ApplePayError"in r,"CSSPrimitiveValue"in r,"Counter"in r,e.vendor.indexOf("Apple")===0,"RGBColor"in r,"WebKitMediaKeys"in r])>=4}function pm(){var r=window,e=r.HTMLElement,i=r.Document;return tn(["safari"in r,!("ongestureend"in r),!("TouchEvent"in r),!("orientation"in r),e&&!("autocapitalize"in e.prototype),i&&"pointerLockElement"in i.prototype])>=4}function yl(){var r=window;return iw(r.print)&&String(r.browser)==="[object WebPageNamespace]"}function $0(){var r,e,i=window;return tn(["buildID"in navigator,"MozAppearance"in((e=(r=document.documentElement)===null||r===void 0?void 0:r.style)!==null&&e!==void 0?e:{}),"onmozfullscreenchange"in i,"mozInnerScreenX"in i,"CSSMozDocumentRule"in i,"CanvasCaptureMediaStream"in i])>=4}function lw(){var r=window;return tn([!("MediaSettingsRange"in r),"RTCEncodedAudioFrame"in r,""+r.Intl=="[object Intl]",""+r.Reflect=="[object Reflect]"])>=3}function uw(){var r=window,e=r.URLPattern;return tn(["union"in Set.prototype,"Iterator"in r,e&&"hasRegExpGroups"in e.prototype,"RGB8"in WebGLRenderingContext.prototype])>=3}function cw(){var r=window;return tn(["DOMRectList"in r,"RTCPeerConnectionIceEvent"in r,"SVGGeometryElement"in r,"ontransitioncancel"in r])>=3}function vl(){var r=window,e=navigator,i=r.CSS,s=r.HTMLButtonElement;return tn([!("getStorageUpdates"in e),s&&"popover"in s.prototype,"CSSCounterStyleRule"in r,i.supports("font-size-adjust: ex-height 0.5"),i.supports("text-transform: full-width")])>=4}function fw(){if(navigator.platform==="iPad")return!0;var r=screen,e=r.width/r.height;return tn(["MediaSource"in window,!!Element.prototype.webkitRequestFullscreen,e>.65&&e<1.53])>=2}function hw(){var r=document;return r.fullscreenElement||r.msFullscreenElement||r.mozFullScreenElement||r.webkitFullscreenElement||null}function dw(){var r=document;return(r.exitFullscreen||r.msExitFullscreen||r.mozCancelFullScreen||r.webkitExitFullscreen).call(r)}function ym(){var r=pl(),e=$0(),i=window,s=navigator,l="connection";return r?tn([!("SharedWorker"in i),s[l]&&"ontypechange"in s[l],!("sinkId"in new Audio)])>=2:e?tn(["onorientationchange"in i,"orientation"in i,/android/i.test(s.appVersion)])>=2:!1}function mw(){var r=navigator,e=window,i=Audio.prototype,s=e.visualViewport;return tn(["srLatency"in i,"srChannelCount"in i,"devicePosture"in r,s&&"segments"in s,"getTextInformation"in Image.prototype])>=3}function gw(){return vw()?-4:pw()}function pw(){var r=window,e=r.OfflineAudioContext||r.webkitOfflineAudioContext;if(!e)return-2;if(yw())return-1;var i=4500,s=5e3,l=new e(1,s,44100),c=l.createOscillator();c.type="triangle",c.frequency.value=1e4;var d=l.createDynamicsCompressor();d.threshold.value=-50,d.knee.value=40,d.ratio.value=12,d.attack.value=0,d.release.value=.25,c.connect(d),d.connect(l.destination),c.start(0);var g=_w(l),p=g[0],y=g[1],E=ul(p.then(function(S){return Ew(S.getChannelData(0).subarray(i))},function(S){if(S.name==="timeout"||S.name==="suspended")return-3;throw S}));return function(){return y(),E}}function yw(){return Hn()&&!pm()&&!cw()}function vw(){return Hn()&&vl()&&yl()||pl()&&mw()&&uw()}function _w(r){var e=3,i=500,s=500,l=5e3,c=function(){},d=new Promise(function(g,p){var y=!1,E=0,S=0;r.oncomplete=function(Y){return g(Y.renderedBuffer)};var D=function(){setTimeout(function(){return p(Wv("timeout"))},Math.min(s,S+l-Date.now()))},k=function(){try{var Y=r.startRendering();switch(Z0(Y)&&ul(Y),r.state){case"running":S=Date.now(),y&&D();break;case"suspended":document.hidden||E++,y&&E>=e?p(Wv("suspended")):setTimeout(k,i);break}}catch(J){p(J)}};k(),c=function(){y||(y=!0,S>0&&D())}});return[d,c]}function Ew(r){for(var e=0,i=0;i<r.length;++i)e+=Math.abs(r[i]);return e}function Wv(r){var e=new Error(r);return e.name=r,e}function tE(r,e,i){var s,l,c;return i===void 0&&(i=50),ci(this,void 0,void 0,function(){var d,g;return fi(this,function(p){switch(p.label){case 0:d=document,p.label=1;case 1:return d.body?[3,3]:[4,Sc(i)];case 2:return p.sent(),[3,1];case 3:g=d.createElement("iframe"),p.label=4;case 4:return p.trys.push([4,,10,11]),[4,new Promise(function(y,E){var S=!1,D=function(){S=!0,y()},k=function(K){S=!0,E(K)};g.onload=D,g.onerror=k;var Y=g.style;Y.setProperty("display","block","important"),Y.position="absolute",Y.top="0",Y.left="0",Y.visibility="hidden",e&&"srcdoc"in g?g.srcdoc=e:g.src="about:blank",d.body.appendChild(g);var J=function(){var K,et;S||(((et=(K=g.contentWindow)===null||K===void 0?void 0:K.document)===null||et===void 0?void 0:et.readyState)==="complete"?D():setTimeout(J,10))};J()})];case 5:p.sent(),p.label=6;case 6:return!((l=(s=g.contentWindow)===null||s===void 0?void 0:s.document)===null||l===void 0)&&l.body?[3,8]:[4,Sc(i)];case 7:return p.sent(),[3,6];case 8:return[4,r(g,g.contentWindow)];case 9:return[2,p.sent()];case 10:return(c=g.parentNode)===null||c===void 0||c.removeChild(g),[7];case 11:return[2]}})})}function Tw(r){for(var e=K2(r),i=e[0],s=e[1],l=document.createElement(i??"div"),c=0,d=Object.keys(s);c<d.length;c++){var g=d[c],p=s[g].join(" ");g==="style"?Aw(l.style,p):l.setAttribute(g,p)}return l}function Aw(r,e){for(var i=0,s=e.split(";");i<s.length;i++){var l=s[i],c=/^\s*([\w-]+)\s*:\s*(.+?)(\s*!([\w-]+))?\s*$/.exec(l);if(c){var d=c[1],g=c[2],p=c[4];r.setProperty(d,g,p||"")}}}function Sw(){for(var r=window;;){var e=r.parent;if(!e||e===r)return!1;try{if(e.location.origin!==r.location.origin)return!0}catch(i){if(i instanceof Error&&i.name==="SecurityError")return!0;throw i}r=e}}var bw="mmMwWLliI0O&1",ww="48px",gs=["monospace","sans-serif","serif"],Jv=["sans-serif-thin","ARNO PRO","Agency FB","Arabic Typesetting","Arial Unicode MS","AvantGarde Bk BT","BankGothic Md BT","Batang","Bitstream Vera Sans Mono","Calibri","Century","Century Gothic","Clarendon","EUROSTILE","Franklin Gothic","Futura Bk BT","Futura Md BT","GOTHAM","Gill Sans","HELV","Haettenschweiler","Helvetica Neue","Humanst521 BT","Leelawadee","Letter Gothic","Levenim MT","Lucida Bright","Lucida Sans","Menlo","MS Mincho","MS Outlook","MS Reference Specialty","MS UI Gothic","MT Extra","MYRIAD PRO","Marlett","Meiryo UI","Microsoft Uighur","Minion Pro","Monotype Corsiva","PMingLiU","Pristina","SCRIPTINA","Segoe UI Light","Serifa","SimHei","Small Fonts","Staccato222 BT","TRAJAN PRO","Univers CE 55 Medium","Vrinda","ZWAdobeF"];function Rw(){var r=this;return tE(function(e,i){var s=i.document;return ci(r,void 0,void 0,function(){var l,c,d,g,p,y,E,S,D,k,Y,J;return fi(this,function(K){for(l=s.body,l.style.fontSize=ww,c=s.createElement("div"),c.style.setProperty("visibility","hidden","important"),d={},g={},p=function(et){var it=s.createElement("span"),at=it.style;return at.position="absolute",at.top="0",at.left="0",at.fontFamily=et,it.textContent=bw,c.appendChild(it),it},y=function(et,it){return p("'".concat(et,"',").concat(it))},E=function(){return gs.map(p)},S=function(){for(var et={},it=function(vt){et[vt]=gs.map(function(O){return y(vt,O)})},at=0,At=Jv;at<At.length;at++){var ct=At[at];it(ct)}return et},D=function(et){return gs.some(function(it,at){return et[at].offsetWidth!==d[it]||et[at].offsetHeight!==g[it]})},k=E(),Y=S(),l.appendChild(c),J=0;J<gs.length;J++)d[gs[J]]=k[J].offsetWidth,g[gs[J]]=k[J].offsetHeight;return[2,Jv.filter(function(et){return D(Y[et])})]})})})}function Cw(){var r=navigator.plugins;if(r){for(var e=[],i=0;i<r.length;++i){var s=r[i];if(s){for(var l=[],c=0;c<s.length;++c){var d=s[c];l.push({type:d.type,suffixes:d.suffixes})}e.push({name:s.name,description:s.description,mimeTypes:l})}}return e}}function Dw(){return Vw(Uw())}function Vw(r){var e,i=!1,s,l,c=Iw(),d=c[0],g=c[1];return Mw(d,g)?(i=Nw(g),r?s=l="skipped":(e=Ow(d,g),s=e[0],l=e[1])):s=l="unsupported",{winding:i,geometry:s,text:l}}function Iw(){var r=document.createElement("canvas");return r.width=1,r.height=1,[r,r.getContext("2d")]}function Mw(r,e){return!!(e&&r.toDataURL)}function Nw(r){return r.rect(0,0,10,10),r.rect(2,2,6,6),!r.isPointInPath(5,5,"evenodd")}function Ow(r,e){xw(r,e);var i=rd(r),s=rd(r);if(i!==s)return["unstable","unstable"];Lw(r,e);var l=rd(r);return[l,i]}function xw(r,e){r.width=240,r.height=60,e.textBaseline="alphabetic",e.fillStyle="#f60",e.fillRect(100,1,62,20),e.fillStyle="#069",e.font='11pt "Times New Roman"';var i="Cwm fjordbank gly ".concat("");e.fillText(i,2,15),e.fillStyle="rgba(102, 204, 0, 0.2)",e.font="18pt Arial",e.fillText(i,4,45)}function Lw(r,e){r.width=122,r.height=110,e.globalCompositeOperation="multiply";for(var i=0,s=[["#f2f",40,40],["#2ff",80,40],["#ff2",60,80]];i<s.length;i++){var l=s[i],c=l[0],d=l[1],g=l[2];e.fillStyle=c,e.beginPath(),e.arc(d,g,40,0,Math.PI*2,!0),e.closePath(),e.fill()}e.fillStyle="#f9c",e.arc(60,60,60,0,Math.PI*2,!0),e.arc(60,60,20,0,Math.PI*2,!0),e.fill("evenodd")}function rd(r){return r.toDataURL()}function Uw(){return Hn()&&vl()&&yl()}function Pw(){var r=navigator,e=0,i;r.maxTouchPoints!==void 0?e=gm(r.maxTouchPoints):r.msMaxTouchPoints!==void 0&&(e=r.msMaxTouchPoints);try{document.createEvent("TouchEvent"),i=!0}catch{i=!1}var s="ontouchstart"in window;return{maxTouchPoints:e,touchEvent:i,touchStart:s}}function zw(){return navigator.oscpu}function kw(){var r=navigator,e=[],i=r.language||r.userLanguage||r.browserLanguage||r.systemLanguage;if(i!==void 0&&e.push([i]),Array.isArray(r.languages))pl()&&lw()||e.push(r.languages);else if(typeof r.languages=="string"){var s=r.languages;s&&e.push(s.split(","))}return e}function Bw(){return window.screen.colorDepth}function Hw(){return zi(kn(navigator.deviceMemory),void 0)}function jw(){if(!(Hn()&&vl()&&yl()))return qw()}function qw(){var r=screen,e=function(s){return zi(gm(s),null)},i=[e(r.width),e(r.height)];return i.sort().reverse(),i}var Gw=2500,Fw=10,sc,ad;function Yw(){if(ad===void 0){var r=function(){var e=Md();Nd(e)?ad=setTimeout(r,Gw):(sc=e,ad=void 0)};r()}}function Qw(){var r=this;return Yw(),function(){return ci(r,void 0,void 0,function(){var e;return fi(this,function(i){switch(i.label){case 0:return e=Md(),Nd(e)?sc?[2,X0([],sc,!0)]:hw()?[4,dw()]:[3,2]:[3,2];case 1:i.sent(),e=Md(),i.label=2;case 2:return Nd(e)||(sc=e),[2,e]}})})}}function Xw(){var r=this;if(Hn()&&vl()&&yl())return function(){return Promise.resolve(void 0)};var e=Qw();return function(){return ci(r,void 0,void 0,function(){var i,s;return fi(this,function(l){switch(l.label){case 0:return[4,e()];case 1:return i=l.sent(),s=function(c){return c===null?null:W0(c,Fw)},[2,[s(i[0]),s(i[1]),s(i[2]),s(i[3])]]}})})}}function Md(){var r=screen;return[zi(kn(r.availTop),null),zi(kn(r.width)-kn(r.availWidth)-zi(kn(r.availLeft),0),null),zi(kn(r.height)-kn(r.availHeight)-zi(kn(r.availTop),0),null),zi(kn(r.availLeft),null)]}function Nd(r){for(var e=0;e<4;++e)if(r[e])return!1;return!0}function Kw(){return zi(gm(navigator.hardwareConcurrency),void 0)}function Zw(){var r,e=(r=window.Intl)===null||r===void 0?void 0:r.DateTimeFormat;if(e){var i=new e().resolvedOptions().timeZone;if(i)return i}var s=-Ww();return"UTC".concat(s>=0?"+":"").concat(s)}function Ww(){var r=new Date().getFullYear();return Math.max(kn(new Date(r,0,1).getTimezoneOffset()),kn(new Date(r,6,1).getTimezoneOffset()))}function Jw(){try{return!!window.sessionStorage}catch{return!0}}function $w(){try{return!!window.localStorage}catch{return!0}}function tR(){if(!(J0()||ow()))try{return!!window.indexedDB}catch{return!0}}function eR(){return!!window.openDatabase}function nR(){return navigator.cpuClass}function iR(){var r=navigator.platform;return r==="MacIntel"&&Hn()&&!pm()?fw()?"iPad":"iPhone":r}function rR(){return navigator.vendor||""}function aR(){for(var r=[],e=0,i=["chrome","safari","__crWeb","__gCrWeb","yandex","__yb","__ybro","__firefox__","__edgeTrackingPreventionStatistics","webkit","oprt","samsungAr","ucweb","UCShellJava","puffinDevice"];e<i.length;e++){var s=i[e],l=window[s];l&&typeof l=="object"&&r.push(s)}return r.sort()}function sR(){var r=document;try{r.cookie="cookietest=1; SameSite=Strict;";var e=r.cookie.indexOf("cookietest=")!==-1;return r.cookie="cookietest=1; SameSite=Strict; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch{return!1}}function oR(){var r=atob;return{abpIndo:["#Iklan-Melayang","#Kolom-Iklan-728","#SidebarIklan-wrapper",'[title="ALIENBOLA" i]',r("I0JveC1CYW5uZXItYWRz")],abpvn:[".quangcao","#mobileCatfish",r("LmNsb3NlLWFkcw=="),'[id^="bn_bottom_fixed_"]',"#pmadv"],adBlockFinland:[".mainostila",r("LnNwb25zb3JpdA=="),".ylamainos",r("YVtocmVmKj0iL2NsaWNrdGhyZ2guYXNwPyJd"),r("YVtocmVmXj0iaHR0cHM6Ly9hcHAucmVhZHBlYWsuY29tL2FkcyJd")],adBlockPersian:["#navbar_notice_50",".kadr",'TABLE[width="140px"]',"#divAgahi",r("YVtocmVmXj0iaHR0cDovL2cxLnYuZndtcm0ubmV0L2FkLyJd")],adBlockWarningRemoval:["#adblock-honeypot",".adblocker-root",".wp_adblock_detect",r("LmhlYWRlci1ibG9ja2VkLWFk"),r("I2FkX2Jsb2NrZXI=")],adGuardAnnoyances:[".hs-sosyal","#cookieconsentdiv",'div[class^="app_gdpr"]',".as-oil",'[data-cypress="soft-push-notification-modal"]'],adGuardBase:[".BetterJsPopOverlay",r("I2FkXzMwMFgyNTA="),r("I2Jhbm5lcmZsb2F0MjI="),r("I2NhbXBhaWduLWJhbm5lcg=="),r("I0FkLUNvbnRlbnQ=")],adGuardChinese:[r("LlppX2FkX2FfSA=="),r("YVtocmVmKj0iLmh0aGJldDM0LmNvbSJd"),"#widget-quan",r("YVtocmVmKj0iLzg0OTkyMDIwLnh5eiJd"),r("YVtocmVmKj0iLjE5NTZobC5jb20vIl0=")],adGuardFrench:["#pavePub",r("LmFkLWRlc2t0b3AtcmVjdGFuZ2xl"),".mobile_adhesion",".widgetadv",r("LmFkc19iYW4=")],adGuardGerman:['aside[data-portal-id="leaderboard"]'],adGuardJapanese:["#kauli_yad_1",r("YVtocmVmXj0iaHR0cDovL2FkMi50cmFmZmljZ2F0ZS5uZXQvIl0="),r("Ll9wb3BJbl9pbmZpbml0ZV9hZA=="),r("LmFkZ29vZ2xl"),r("Ll9faXNib29zdFJldHVybkFk")],adGuardMobile:[r("YW1wLWF1dG8tYWRz"),r("LmFtcF9hZA=="),'amp-embed[type="24smi"]',"#mgid_iframe1",r("I2FkX2ludmlld19hcmVh")],adGuardRussian:[r("YVtocmVmXj0iaHR0cHM6Ly9hZC5sZXRtZWFkcy5jb20vIl0="),r("LnJlY2xhbWE="),'div[id^="smi2adblock"]',r("ZGl2W2lkXj0iQWRGb3hfYmFubmVyXyJd"),"#psyduckpockeball"],adGuardSocial:[r("YVtocmVmXj0iLy93d3cuc3R1bWJsZXVwb24uY29tL3N1Ym1pdD91cmw9Il0="),r("YVtocmVmXj0iLy90ZWxlZ3JhbS5tZS9zaGFyZS91cmw/Il0="),".etsy-tweet","#inlineShare",".popup-social"],adGuardSpanishPortuguese:["#barraPublicidade","#Publicidade","#publiEspecial","#queTooltip",".cnt-publi"],adGuardTrackingProtection:["#qoo-counter",r("YVtocmVmXj0iaHR0cDovL2NsaWNrLmhvdGxvZy5ydS8iXQ=="),r("YVtocmVmXj0iaHR0cDovL2hpdGNvdW50ZXIucnUvdG9wL3N0YXQucGhwIl0="),r("YVtocmVmXj0iaHR0cDovL3RvcC5tYWlsLnJ1L2p1bXAiXQ=="),"#top100counter"],adGuardTurkish:["#backkapat",r("I3Jla2xhbWk="),r("YVtocmVmXj0iaHR0cDovL2Fkc2Vydi5vbnRlay5jb20udHIvIl0="),r("YVtocmVmXj0iaHR0cDovL2l6bGVuemkuY29tL2NhbXBhaWduLyJd"),r("YVtocmVmXj0iaHR0cDovL3d3dy5pbnN0YWxsYWRzLm5ldC8iXQ==")],bulgarian:[r("dGQjZnJlZW5ldF90YWJsZV9hZHM="),"#ea_intext_div",".lapni-pop-over","#xenium_hot_offers"],easyList:[".yb-floorad",r("LndpZGdldF9wb19hZHNfd2lkZ2V0"),r("LnRyYWZmaWNqdW5reS1hZA=="),".textad_headline",r("LnNwb25zb3JlZC10ZXh0LWxpbmtz")],easyListChina:[r("LmFwcGd1aWRlLXdyYXBbb25jbGljayo9ImJjZWJvcy5jb20iXQ=="),r("LmZyb250cGFnZUFkdk0="),"#taotaole","#aafoot.top_box",".cfa_popup"],easyListCookie:[".ezmob-footer",".cc-CookieWarning","[data-cookie-number]",r("LmF3LWNvb2tpZS1iYW5uZXI="),".sygnal24-gdpr-modal-wrap"],easyListCzechSlovak:["#onlajny-stickers",r("I3Jla2xhbW5pLWJveA=="),r("LnJla2xhbWEtbWVnYWJvYXJk"),".sklik",r("W2lkXj0ic2tsaWtSZWtsYW1hIl0=")],easyListDutch:[r("I2FkdmVydGVudGll"),r("I3ZpcEFkbWFya3RCYW5uZXJCbG9jaw=="),".adstekst",r("YVtocmVmXj0iaHR0cHM6Ly94bHR1YmUubmwvY2xpY2svIl0="),"#semilo-lrectangle"],easyListGermany:["#SSpotIMPopSlider",r("LnNwb25zb3JsaW5rZ3J1ZW4="),r("I3dlcmJ1bmdza3k="),r("I3Jla2xhbWUtcmVjaHRzLW1pdHRl"),r("YVtocmVmXj0iaHR0cHM6Ly9iZDc0Mi5jb20vIl0=")],easyListItaly:[r("LmJveF9hZHZfYW5udW5jaQ=="),".sb-box-pubbliredazionale",r("YVtocmVmXj0iaHR0cDovL2FmZmlsaWF6aW9uaWFkcy5zbmFpLml0LyJd"),r("YVtocmVmXj0iaHR0cHM6Ly9hZHNlcnZlci5odG1sLml0LyJd"),r("YVtocmVmXj0iaHR0cHM6Ly9hZmZpbGlhemlvbmlhZHMuc25haS5pdC8iXQ==")],easyListLithuania:[r("LnJla2xhbW9zX3RhcnBhcw=="),r("LnJla2xhbW9zX251b3JvZG9z"),r("aW1nW2FsdD0iUmVrbGFtaW5pcyBza3lkZWxpcyJd"),r("aW1nW2FsdD0iRGVkaWt1b3RpLmx0IHNlcnZlcmlhaSJd"),r("aW1nW2FsdD0iSG9zdGluZ2FzIFNlcnZlcmlhaS5sdCJd")],estonian:[r("QVtocmVmKj0iaHR0cDovL3BheTRyZXN1bHRzMjQuZXUiXQ==")],fanboyAnnoyances:["#ac-lre-player",".navigate-to-top","#subscribe_popup",".newsletter_holder","#back-top"],fanboyAntiFacebook:[".util-bar-module-firefly-visible"],fanboyEnhancedTrackers:[".open.pushModal","#issuem-leaky-paywall-articles-zero-remaining-nag","#sovrn_container",'div[class$="-hide"][zoompage-fontsize][style="display: block;"]',".BlockNag__Card"],fanboySocial:["#FollowUs","#meteored_share","#social_follow",".article-sharer",".community__social-desc"],frellwitSwedish:[r("YVtocmVmKj0iY2FzaW5vcHJvLnNlIl1bdGFyZ2V0PSJfYmxhbmsiXQ=="),r("YVtocmVmKj0iZG9rdG9yLXNlLm9uZWxpbmsubWUiXQ=="),"article.category-samarbete",r("ZGl2LmhvbGlkQWRz"),"ul.adsmodern"],greekAdBlock:[r("QVtocmVmKj0iYWRtYW4ub3RlbmV0LmdyL2NsaWNrPyJd"),r("QVtocmVmKj0iaHR0cDovL2F4aWFiYW5uZXJzLmV4b2R1cy5nci8iXQ=="),r("QVtocmVmKj0iaHR0cDovL2ludGVyYWN0aXZlLmZvcnRobmV0LmdyL2NsaWNrPyJd"),"DIV.agores300","TABLE.advright"],hungarian:["#cemp_doboz",".optimonk-iframe-container",r("LmFkX19tYWlu"),r("W2NsYXNzKj0iR29vZ2xlQWRzIl0="),"#hirdetesek_box"],iDontCareAboutCookies:['.alert-info[data-block-track*="CookieNotice"]',".ModuleTemplateCookieIndicator",".o--cookies--container","#cookies-policy-sticky","#stickyCookieBar"],icelandicAbp:[r("QVtocmVmXj0iL2ZyYW1ld29yay9yZXNvdXJjZXMvZm9ybXMvYWRzLmFzcHgiXQ==")],latvian:[r("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiAxMjBweDsgaGVpZ2h0OiA0MHB4OyBvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7Il0="),r("YVtocmVmPSJodHRwOi8vd3d3LnNhbGlkemluaS5sdi8iXVtzdHlsZT0iZGlzcGxheTogYmxvY2s7IHdpZHRoOiA4OHB4OyBoZWlnaHQ6IDMxcHg7IG92ZXJmbG93OiBoaWRkZW47IHBvc2l0aW9uOiByZWxhdGl2ZTsiXQ==")],listKr:[r("YVtocmVmKj0iLy9hZC5wbGFuYnBsdXMuY28ua3IvIl0="),r("I2xpdmVyZUFkV3JhcHBlcg=="),r("YVtocmVmKj0iLy9hZHYuaW1hZHJlcC5jby5rci8iXQ=="),r("aW5zLmZhc3R2aWV3LWFk"),".revenue_unit_item.dable"],listeAr:[r("LmdlbWluaUxCMUFk"),".right-and-left-sponsers",r("YVtocmVmKj0iLmFmbGFtLmluZm8iXQ=="),r("YVtocmVmKj0iYm9vcmFxLm9yZyJd"),r("YVtocmVmKj0iZHViaXp6bGUuY29tL2FyLz91dG1fc291cmNlPSJd")],listeFr:[r("YVtocmVmXj0iaHR0cDovL3Byb21vLnZhZG9yLmNvbS8iXQ=="),r("I2FkY29udGFpbmVyX3JlY2hlcmNoZQ=="),r("YVtocmVmKj0id2Vib3JhbWEuZnIvZmNnaS1iaW4vIl0="),".site-pub-interstitiel",'div[id^="crt-"][data-criteo-id]'],officialPolish:["#ceneo-placeholder-ceneo-12",r("W2hyZWZePSJodHRwczovL2FmZi5zZW5kaHViLnBsLyJd"),r("YVtocmVmXj0iaHR0cDovL2Fkdm1hbmFnZXIudGVjaGZ1bi5wbC9yZWRpcmVjdC8iXQ=="),r("YVtocmVmXj0iaHR0cDovL3d3dy50cml6ZXIucGwvP3V0bV9zb3VyY2UiXQ=="),r("ZGl2I3NrYXBpZWNfYWQ=")],ro:[r("YVtocmVmXj0iLy9hZmZ0cmsuYWx0ZXgucm8vQ291bnRlci9DbGljayJd"),r("YVtocmVmXj0iaHR0cHM6Ly9ibGFja2ZyaWRheXNhbGVzLnJvL3Ryay9zaG9wLyJd"),r("YVtocmVmXj0iaHR0cHM6Ly9ldmVudC4ycGVyZm9ybWFudC5jb20vZXZlbnRzL2NsaWNrIl0="),r("YVtocmVmXj0iaHR0cHM6Ly9sLnByb2ZpdHNoYXJlLnJvLyJd"),'a[href^="/url/"]'],ruAd:[r("YVtocmVmKj0iLy9mZWJyYXJlLnJ1LyJd"),r("YVtocmVmKj0iLy91dGltZy5ydS8iXQ=="),r("YVtocmVmKj0iOi8vY2hpa2lkaWtpLnJ1Il0="),"#pgeldiz",".yandex-rtb-block"],thaiAds:["a[href*=macau-uta-popup]",r("I2Fkcy1nb29nbGUtbWlkZGxlX3JlY3RhbmdsZS1ncm91cA=="),r("LmFkczMwMHM="),".bumq",".img-kosana"],webAnnoyancesUltralist:["#mod-social-share-2","#social-tools",r("LmN0cGwtZnVsbGJhbm5lcg=="),".zergnet-recommend",".yt.btn-link.btn-md.btn"]}}function lR(r){var e=r===void 0?{}:r,i=e.debug;return ci(this,void 0,void 0,function(){var s,l,c,d,g,p;return fi(this,function(y){switch(y.label){case 0:return uR()?(s=oR(),l=Object.keys(s),c=(p=[]).concat.apply(p,l.map(function(E){return s[E]})),[4,cR(c)]):[2,void 0];case 1:return d=y.sent(),i&&fR(s,d),g=l.filter(function(E){var S=s[E],D=tn(S.map(function(k){return d[k]}));return D>S.length*.6}),g.sort(),[2,g]}})})}function uR(){return Hn()||ym()}function cR(r){var e;return ci(this,void 0,void 0,function(){var i,s,l,c,p,d,g,p;return fi(this,function(y){switch(y.label){case 0:for(i=document,s=i.createElement("div"),l=new Array(r.length),c={},$v(s),p=0;p<r.length;++p)d=Tw(r[p]),d.tagName==="DIALOG"&&d.show(),g=i.createElement("div"),$v(g),g.appendChild(d),s.appendChild(g),l[p]=d;y.label=1;case 1:return i.body?[3,3]:[4,Sc(50)];case 2:return y.sent(),[3,1];case 3:i.body.appendChild(s);try{for(p=0;p<r.length;++p)l[p].offsetParent||(c[r[p]]=!0)}finally{(e=s.parentNode)===null||e===void 0||e.removeChild(s)}return[2,c]}})})}function $v(r){r.style.setProperty("visibility","hidden","important"),r.style.setProperty("display","block","important")}function fR(r,e){for(var i="DOM blockers debug:\n```",s=0,l=Object.keys(r);s<l.length;s++){var c=l[s];i+=`
`.concat(c,":");for(var d=0,g=r[c];d<g.length;d++){var p=g[d];i+=`
  `.concat(e[p]?"":""," ").concat(p)}}console.log("".concat(i,"\n```"))}function hR(){for(var r=0,e=["rec2020","p3","srgb"];r<e.length;r++){var i=e[r];if(matchMedia("(color-gamut: ".concat(i,")")).matches)return i}}function dR(){if(t_("inverted"))return!0;if(t_("none"))return!1}function t_(r){return matchMedia("(inverted-colors: ".concat(r,")")).matches}function mR(){if(e_("active"))return!0;if(e_("none"))return!1}function e_(r){return matchMedia("(forced-colors: ".concat(r,")")).matches}var gR=100;function pR(){if(matchMedia("(min-monochrome: 0)").matches){for(var r=0;r<=gR;++r)if(matchMedia("(max-monochrome: ".concat(r,")")).matches)return r;throw new Error("Too high value")}}function yR(){if(ps("no-preference"))return 0;if(ps("high")||ps("more"))return 1;if(ps("low")||ps("less"))return-1;if(ps("forced"))return 10}function ps(r){return matchMedia("(prefers-contrast: ".concat(r,")")).matches}function vR(){if(n_("reduce"))return!0;if(n_("no-preference"))return!1}function n_(r){return matchMedia("(prefers-reduced-motion: ".concat(r,")")).matches}function _R(){if(i_("reduce"))return!0;if(i_("no-preference"))return!1}function i_(r){return matchMedia("(prefers-reduced-transparency: ".concat(r,")")).matches}function ER(){if(r_("high"))return!0;if(r_("standard"))return!1}function r_(r){return matchMedia("(dynamic-range: ".concat(r,")")).matches}var Ht=Math,$e=function(){return 0};function TR(){var r=Ht.acos||$e,e=Ht.acosh||$e,i=Ht.asin||$e,s=Ht.asinh||$e,l=Ht.atanh||$e,c=Ht.atan||$e,d=Ht.sin||$e,g=Ht.sinh||$e,p=Ht.cos||$e,y=Ht.cosh||$e,E=Ht.tan||$e,S=Ht.tanh||$e,D=Ht.exp||$e,k=Ht.expm1||$e,Y=Ht.log1p||$e,J=function(b){return Ht.pow(Ht.PI,b)},K=function(b){return Ht.log(b+Ht.sqrt(b*b-1))},et=function(b){return Ht.log(b+Ht.sqrt(b*b+1))},it=function(b){return Ht.log((1+b)/(1-b))/2},at=function(b){return Ht.exp(b)-1/Ht.exp(b)/2},At=function(b){return(Ht.exp(b)+1/Ht.exp(b))/2},ct=function(b){return Ht.exp(b)-1},vt=function(b){return(Ht.exp(2*b)-1)/(Ht.exp(2*b)+1)},O=function(b){return Ht.log(1+b)};return{acos:r(.12312423423423424),acosh:e(1e308),acoshPf:K(1e154),asin:i(.12312423423423424),asinh:s(1),asinhPf:et(1),atanh:l(.5),atanhPf:it(.5),atan:c(.5),sin:d(-1e300),sinh:g(1),sinhPf:at(1),cos:p(10.000000000123),cosh:y(1),coshPf:At(1),tan:E(-1e300),tanh:S(1),tanhPf:vt(1),exp:D(1),expm1:k(1),expm1Pf:ct(1),log1p:Y(10),log1pPf:O(10),powPI:J(-100)}}var AR="mmMwWLliI0fiflO&1",sd={default:[],apple:[{font:"-apple-system-body"}],serif:[{fontFamily:"serif"}],sans:[{fontFamily:"sans-serif"}],mono:[{fontFamily:"monospace"}],min:[{fontSize:"1px"}],system:[{fontFamily:"system-ui"}]};function SR(){return bR(function(r,e){for(var i={},s={},l=0,c=Object.keys(sd);l<c.length;l++){var d=c[l],g=sd[d],p=g[0],y=p===void 0?{}:p,E=g[1],S=E===void 0?AR:E,D=r.createElement("span");D.textContent=S,D.style.whiteSpace="nowrap";for(var k=0,Y=Object.keys(y);k<Y.length;k++){var J=Y[k],K=y[J];K!==void 0&&(D.style[J]=K)}i[d]=D,e.append(r.createElement("br"),D)}for(var et=0,it=Object.keys(sd);et<it.length;et++){var d=it[et];s[d]=i[d].getBoundingClientRect().width}return s})}function bR(r,e){return e===void 0&&(e=4e3),tE(function(i,s){var l=s.document,c=l.body,d=c.style;d.width="".concat(e,"px"),d.webkitTextSizeAdjust=d.textSizeAdjust="none",pl()?c.style.zoom="".concat(1/s.devicePixelRatio):Hn()&&(c.style.zoom="reset");var g=l.createElement("div");return g.textContent=X0([],Array(e/20<<0),!0).map(function(){return"word"}).join(" "),c.appendChild(g),r(l,c)},'<!doctype html><html><head><meta name="viewport" content="width=device-width, initial-scale=1">')}function wR(){return navigator.pdfViewerEnabled}function RR(){var r=new Float32Array(1),e=new Uint8Array(r.buffer);return r[0]=1/0,r[0]=r[0]-r[0],e[3]}function CR(){var r=window.ApplePaySession;if(typeof(r==null?void 0:r.canMakePayments)!="function")return-1;if(DR())return-3;try{return r.canMakePayments()?1:0}catch(e){return VR(e)}}var DR=Sw;function VR(r){if(r instanceof Error&&r.name==="InvalidAccessError"&&/\bfrom\b.*\binsecure\b/i.test(r.message))return-2;throw r}function IR(){var r,e=document.createElement("a"),i=(r=e.attributionSourceId)!==null&&r!==void 0?r:e.attributionsourceid;return i===void 0?void 0:String(i)}var eE=-1,nE=-2,MR=new Set([10752,2849,2884,2885,2886,2928,2929,2930,2931,2932,2960,2961,2962,2963,2964,2965,2966,2967,2968,2978,3024,3042,3088,3089,3106,3107,32773,32777,32777,32823,32824,32936,32937,32938,32939,32968,32969,32970,32971,3317,33170,3333,3379,3386,33901,33902,34016,34024,34076,3408,3410,3411,3412,3413,3414,3415,34467,34816,34817,34818,34819,34877,34921,34930,35660,35661,35724,35738,35739,36003,36004,36005,36347,36348,36349,37440,37441,37443,7936,7937,7938]),NR=new Set([34047,35723,36063,34852,34853,34854,34229,36392,36795,38449]),OR=["FRAGMENT_SHADER","VERTEX_SHADER"],xR=["LOW_FLOAT","MEDIUM_FLOAT","HIGH_FLOAT","LOW_INT","MEDIUM_INT","HIGH_INT"],iE="WEBGL_debug_renderer_info",LR="WEBGL_polygon_mode";function UR(r){var e,i,s,l,c,d,g=r.cache,p=rE(g);if(!p)return eE;if(!sE(p))return nE;var y=aE()?null:p.getExtension(iE);return{version:((e=p.getParameter(p.VERSION))===null||e===void 0?void 0:e.toString())||"",vendor:((i=p.getParameter(p.VENDOR))===null||i===void 0?void 0:i.toString())||"",vendorUnmasked:y?(s=p.getParameter(y.UNMASKED_VENDOR_WEBGL))===null||s===void 0?void 0:s.toString():"",renderer:((l=p.getParameter(p.RENDERER))===null||l===void 0?void 0:l.toString())||"",rendererUnmasked:y?(c=p.getParameter(y.UNMASKED_RENDERER_WEBGL))===null||c===void 0?void 0:c.toString():"",shadingLanguageVersion:((d=p.getParameter(p.SHADING_LANGUAGE_VERSION))===null||d===void 0?void 0:d.toString())||""}}function PR(r){var e=r.cache,i=rE(e);if(!i)return eE;if(!sE(i))return nE;var s=i.getSupportedExtensions(),l=i.getContextAttributes(),c=[],d=[],g=[],p=[],y=[];if(l)for(var E=0,S=Object.keys(l);E<S.length;E++){var D=S[E];d.push("".concat(D,"=").concat(l[D]))}for(var k=a_(i),Y=0,J=k;Y<J.length;Y++){var K=J[Y],et=i[K];g.push("".concat(K,"=").concat(et).concat(MR.has(et)?"=".concat(i.getParameter(et)):""))}if(s)for(var it=0,at=s;it<at.length;it++){var At=at[it];if(!(At===iE&&aE()||At===LR&&BR())){var ct=i.getExtension(At);if(!ct){c.push(At);continue}for(var vt=0,O=a_(ct);vt<O.length;vt++){var K=O[vt],et=ct[K];p.push("".concat(K,"=").concat(et).concat(NR.has(et)?"=".concat(i.getParameter(et)):""))}}}for(var b=0,R=OR;b<R.length;b++)for(var I=R[b],M=0,L=xR;M<L.length;M++){var C=L[M],Ee=zR(i,I,C);y.push("".concat(I,".").concat(C,"=").concat(Ee.join(",")))}return p.sort(),g.sort(),{contextAttributes:d,parameters:g,shaderPrecisions:y,extensions:s,extensionParameters:p,unsupportedExtensions:c}}function rE(r){if(r.webgl)return r.webgl.context;var e=document.createElement("canvas"),i;e.addEventListener("webglCreateContextError",function(){return i=void 0});for(var s=0,l=["webgl","experimental-webgl"];s<l.length;s++){var c=l[s];try{i=e.getContext(c)}catch{}if(i)break}return r.webgl={context:i},i}function zR(r,e,i){var s=r.getShaderPrecisionFormat(r[e],r[i]);return s?[s.rangeMin,s.rangeMax,s.precision]:[]}function a_(r){var e=Object.keys(r.__proto__);return e.filter(kR)}function kR(r){return typeof r=="string"&&!r.match(/[^A-Z0-9_x]/)}function aE(){return $0()}function BR(){return pl()||Hn()}function sE(r){return typeof r.getParameter=="function"}function HR(){var r,e=ym()||Hn();return e?window.AudioContext&&(r=new AudioContext().baseLatency)!==null&&r!==void 0?r:-1:-2}function jR(){if(!window.Intl)return-1;var r=window.Intl.DateTimeFormat;if(!r)return-2;var e=r().resolvedOptions().locale;return!e&&e!==""?-3:e}var qR={fonts:Rw,domBlockers:lR,fontPreferences:SR,audio:gw,screenFrame:Xw,canvas:Dw,osCpu:zw,languages:kw,colorDepth:Bw,deviceMemory:Hw,screenResolution:jw,hardwareConcurrency:Kw,timezone:Zw,sessionStorage:Jw,localStorage:$w,indexedDB:tR,openDatabase:eR,cpuClass:nR,platform:iR,plugins:Cw,touchSupport:Pw,vendor:rR,vendorFlavors:aR,cookiesEnabled:sR,colorGamut:hR,invertedColors:dR,forcedColors:mR,monochrome:pR,contrast:yR,reducedMotion:vR,reducedTransparency:_R,hdr:ER,math:TR,pdfViewerEnabled:wR,architecture:RR,applePay:CR,privateClickMeasurement:IR,audioBaseLatency:HR,dateTimeLocale:jR,webGlBasics:UR,webGlExtensions:PR};function GR(r){return sw(qR,r,[])}var FR="$ if upgrade to Pro: https://fpjs.dev/pro";function YR(r){var e=QR(r),i=XR(e);return{score:e,comment:FR.replace(/\$/g,"".concat(i))}}function QR(r){if(ym())return .4;if(Hn())return pm()&&!(vl()&&yl())?.5:.3;var e="value"in r.platform?r.platform.value:"";return/^Win/.test(e)?.6:/^Mac/.test(e)?.5:.7}function XR(r){return W0(.99+.01*r,1e-4)}function KR(r){for(var e="",i=0,s=Object.keys(r).sort();i<s.length;i++){var l=s[i],c=r[l],d="error"in c?"error":JSON.stringify(c.value);e+="".concat(e?"|":"").concat(l.replace(/([:|\\])/g,"\\$1"),":").concat(d)}return e}function oE(r){return JSON.stringify(r,function(e,i){return i instanceof Error?nw(i):i},2)}function lE(r){return ew(KR(r))}function ZR(r){var e,i=YR(r);return{get visitorId(){return e===void 0&&(e=lE(this.components)),e},set visitorId(s){e=s},confidence:i,components:r,version:K0}}function WR(r){return r===void 0&&(r=50),Y2(r,r*2)}function JR(r,e){var i=Date.now();return{get:function(s){return ci(this,void 0,void 0,function(){var l,c,d;return fi(this,function(g){switch(g.label){case 0:return l=Date.now(),[4,r()];case 1:return c=g.sent(),d=ZR(c),(e||s!=null&&s.debug)&&console.log("Copy the text below to get the debug data:\n\n```\nversion: ".concat(d.version,`
userAgent: `).concat(navigator.userAgent,`
timeBetweenLoadAndGet: `).concat(l-i,`
visitorId: `).concat(d.visitorId,`
components: `).concat(oE(c),"\n```")),[2,d]}})})}}}function $R(){if(!(window.__fpjs_d_m||Math.random()>=.001))try{var r=new XMLHttpRequest;r.open("get","https://m1.openfpcdn.io/fingerprintjs/v".concat(K0,"/npm-monitoring"),!0),r.send()}catch(e){console.error(e)}}function tC(r){var e;return r===void 0&&(r={}),ci(this,void 0,void 0,function(){var i,s,l;return fi(this,function(c){switch(c.label){case 0:return(!((e=r.monitoring)!==null&&e!==void 0)||e)&&$R(),i=r.delayFallback,s=r.debug,[4,WR(i)];case 1:return c.sent(),l=GR({cache:{},debug:s}),[2,JR(l,s)]}})})}var eC={load:tC,hashComponents:lE,componentsToDebugString:oE};const nC=async()=>(await(await eC.load()).get()).visitorId,iC=async()=>(await(await fetch("https://api.ipify.org?format=json")).json()).ip,rC=()=>{var r;try{if(navigator.userAgentData){const e=(r=navigator.userAgentData.brands)==null?void 0:r.map(s=>`${s.brand}/${s.version}`).join(", "),i=navigator.userAgentData.platform||"Unknown Platform";if(e)return`${e} - ${i}`}return navigator.userAgent||"Unknown"}catch(e){return console.warn("Error detectando device info:",e),"Unknown"}},aC=async r=>{const i=new TextEncoder().encode(r),s=await crypto.subtle.digest("SHA-256",i);return Array.from(new Uint8Array(s)).map(l=>l.toString(16).padStart(2,"0")).join("")},s_=()=>/Mobi|Android|iPhone|iPad|iPod/i.test(navigator.userAgent),sC=()=>{const e=window.outerWidth-window.innerWidth>160,i=window.outerHeight-window.innerHeight>160;return e||i},oC=()=>{let r=!1;const e=new Image;return Object.defineProperty(e,"id",{get:function(){r=!0}}),console.log("%c",e),r},lC=async r=>{try{const i=await(await fetch(`https://ipwho.is/${r}`)).json();return i.success?(console.log(`Ubicacin detectada: ${i.city}, ${i.region}, ${i.country}`),i.country_code==="AR"):(console.warn("Fallo al obtener ubicacin:",i.message),!1)}catch(e){return console.warn("Error al verificar IP con ipwho.is:",e),!1}},uC=()=>{const r=window.screen.height,e=window.innerHeight;return r-e<100},cC=()=>uC(),fC=async()=>{var it;if(cC())return console.log("Simulacin de mvil o DevTools detectada. Acceso denegado.1"),{error:"Acceso denegado por posible emulacin o uso de herramientas de desarrollo.1"};if(!s_())return console.log("Dispositivo no mvil. Acceso denegado.2"),{error:"Solo se permite el acceso desde dispositivos mviles reales.2"};if(sC()||oC())return console.log("DevTools detectado. Acceso denegado.3"),{error:"Acceso denegado por herramientas de desarrollo.3"};if(!s_())return console.log("Dispositivo no mvil. Acceso denegado.4"),{error:"Solo se permite el acceso desde dispositivos mviles.4"};const r=await nC(),e=await iC(),i=rC(),s=navigator.userAgent,l=navigator.language||"unknown",c=Intl.DateTimeFormat().resolvedOptions().timeZone||"unknown";if(!await lC(e))return console.log("IP fuera de Buenos Aires. Acceso denegado.5"),{error:"Acceso restringido solo a Buenos Aires, Argentina."};const g=`${r}|${e}|${i}|${s}|${l}|${c}`,p=await aC(g);console.log("Fingerprint:",r),console.log("IP pblica:",e),console.log("Device info:",i),console.log("User-Agent:",s),console.log("Language:",l),console.log("Timezone:",c),console.log("Device Hash:",p);const y=nd(Wu,"claims"),E=[Xu(y,Ku("fingerprint","==",r)),Xu(y,Ku("deviceHash","==",p))],S=await Promise.all(E.map(id));if(S.some(at=>!at.empty)){const ct=((it=S.find(b=>!b.empty))==null?void 0:it.docs[0]).data().code;console.log("Usuario ya tiene cdigo:",ct);const vt=await id(Xu(nd(Wu,"discountCodes"),Ku("code","==",ct)));let O=null;return vt.empty||(O=vt.docs[0].data().price),{code:ct,price:O,alreadyClaimed:!0}}const k=nd(Wu,"discountCodes"),Y=Xu(k,Ku("claimed","==",!1)),J=await id(Y);if(J.empty)return{error:"No hay ms cdigos disponibles."};const K=J.docs[0],et=K.data();return await k2(z0(Wu,"discountCodes",K.id),{claimed:!0}),await B2(y,{fingerprint:r,ip:e,deviceInfo:i,userAgent:s,language:l,timezone:c,deviceHash:p,code:et.code,price:et.price,claimedAt:new Date}),console.log("Cdigo asignado:",et.code),{code:et.code,price:et.price,alreadyClaimed:!1}};function hC(){return Mt.jsx("section",{className:"section loading-page",children:Mt.jsx("div",{className:"loading-page-logo"})})}const dC=({animate:r})=>Mt.jsxs("div",{className:"background",children:[Mt.jsx("div",{className:`wave wave-1 ${r?"wave-animated":""}`}),Mt.jsx("div",{className:`wave wave-2 ${r?"wave-animated":""}`})]}),o_=({children:r,className:e,...i})=>{const[s,l]=ie.useState(!1),c=()=>l(!0),d=()=>l(!1);return Mt.jsx("button",{className:`${e} ${s?"pressed":""}`,onTouchStart:c,onTouchEnd:d,onMouseDown:c,onMouseUp:d,onMouseLeave:d,...i,children:r})};function mC({onClick:r,onScroll:e,isClicked:i,code:s,price:l}){const[c,d]=ie.useState(!1),[g,p]=ie.useState(!1),[y,E]=ie.useState(!1),[S,D]=ie.useState(!1),[k,Y]=ie.useState(!1),J=ie.useRef(null),K=async()=>{if(!S&&s)try{await navigator.clipboard.writeText(s),D(!0),J.current=setTimeout(()=>{D(!1)},1e3)}catch(it){console.error("Error copiando con Clipboard API:",it)}},et=it=>{it.stopPropagation(),d(at=>!at),y?(r&&r(),E(!1)):(e(),E(!0))};return Mt.jsxs("section",{className:"section main-page",children:[Mt.jsxs("div",{className:"main-page-content",children:[Mt.jsxs("div",{className:"discount-code-container",children:[Mt.jsxs("div",{className:"discount-text-container",children:[Mt.jsx("div",{className:"daniel-te-regala"}),Mt.jsx("h4",{className:"price-text",style:{color:k?"#4E3718":"#EFA52E"},children:l?`${l}`:""})]}),Mt.jsxs(o_,{className:`discount-code ${g?"tapar-sombra":""}`,onPointerDown:()=>p(!0),onPointerUp:()=>{p(!1),Y(it=>!it),K()},children:[Mt.jsx("h1",{children:s||"SH-XXXXXX"}),Mt.jsx("small",{children:S?"Codigo copiado":"Sacale Screen, o Click para copiarlo."})]})]}),Mt.jsx("div",{className:`dani-container ${c?"animated":""}`,children:Mt.jsx("div",{className:"dani-container dani-globo"})}),Mt.jsx("div",{className:"button-container",children:Mt.jsx(o_,{className:"btn btn-main-page",onPointerUp:it=>{(it.pointerType==="mouse"||it.pointerType==="touch")&&et(it)},children:y?"VOLVER AL CDIGO":"Que hago con el cdigo?"})})]}),Mt.jsx(dC,{animate:c})]})}const gC="/ShaffersCodePage/assets/instagram-DXcrY2py.png";function pC({onGoToLoading:r}){const[e,i]=ie.useState(!1),s=l=>{(l.pointerType==="mouse"||l.pointerType==="touch")&&(i(!e),r(l))};return Mt.jsx("section",{className:"section terms-page",children:Mt.jsxs("div",{className:"terms-page-content",children:[Mt.jsx("div",{className:"terms-page-copy"}),Mt.jsx("div",{className:"intagram-button-container",children:Mt.jsxs("button",{className:`instagram-button ${e?"activo":""}`,onPointerUp:s,children:[Mt.jsx("img",{src:gC,className:`icon ${e?"activo-img":""}`}),"INSTAGRAM"]})})]})})}function yC(){const[r,e]=ie.useState(null),[i,s]=ie.useState("Cargando..."),[l,c]=ie.useState(!0),[d,g]=ie.useState(100),[p,y]=ie.useState(!0),[E,S]=ie.useState(!1),[D,k]=ie.useState(!0),[Y,J]=ie.useState(!0),[K,et]=ie.useState(!1),[it,at]=ie.useState(!0),[At,ct]=ie.useState(null),vt=ie.useRef(null),O=I=>g(I);ie.useEffect(()=>{const I=()=>{console.log(" Toda la pgina ha cargado. Comenzamos animacin."),setTimeout(()=>{O(0),y(!1)},400)};if(document.readyState==="complete")I();else return window.addEventListener("load",I),()=>window.removeEventListener("load",I)},[]),ie.useEffect(()=>{const I=()=>{d===220&&K&&(k(!1),S(!1),g(200),et(!1)),d===0&&!p&&S(!0)},M=vt.current;return M==null||M.addEventListener("transitionend",I),()=>M==null?void 0:M.removeEventListener("transitionend",I)},[d,p,K]);const b=()=>{d===78&&(at(!1),O(0))},R=()=>{J(!0),et(!0),setTimeout(()=>{O(200)},600),setTimeout(()=>{window.location.href="https://www.instagram.com/shaffers.co/",location.reload()},1500)};return ie.useEffect(()=>{l&&r===null&&(async()=>{console.log("Llamando a claimDiscount...");const M=await fC();console.log("Resultado de claimDiscount:",M),M.error?s(M.error):(e(M.code),ct(M.price),s(M.alreadyClaimed?"Ya reclamaste tu cdigo:":"Aqu est tu cdigo de descuento!")),c(!1)})()},[l,r]),Mt.jsx(Mt.Fragment,{children:Mt.jsx("div",{className:"app",children:Mt.jsxs("div",{className:"sections",ref:vt,style:{transform:`translateY(-${d}svh)`},children:[D&&Mt.jsx(mC,{onClick:b,onScroll:()=>{at(!0),O(78)},isClicked:it,code:r,price:At}),E&&Mt.jsx(pC,{onGoToLoading:R,isClicked:it}),Y&&Mt.jsx(hC,{})]})})})}jT.createRoot(document.getElementById("root")).render(Mt.jsx(ie.StrictMode,{children:Mt.jsx(yC,{})}));
